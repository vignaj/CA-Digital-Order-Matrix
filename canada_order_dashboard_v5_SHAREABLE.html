<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nike Canada Order Dashboard - All Orders (Standalone)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #222222;
            --bg-card: rgba(30, 30, 30, 0.85);
            --bg-card-hover: #3a3a3a;
            --accent-volt: #c8ff00;
            --accent-volt-dark: #a0cc00;
            --accent-lime: #c8ff00;
            --accent-purple: #c8ff00;
            --accent-purple-light: #d4ff33;
            --accent-gold: #c8ff00;
            --accent-blue: #3b82f6;
            --accent-cyan: #06b6d4;
            --accent-green: #c8ff00;
            --accent-orange: #f59e0b;
            --accent-pink: #ec4899;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #a8b4a0;
            --border-color: rgba(200, 255, 0, 0.2);
            --gradient-purple: linear-gradient(135deg, #c8ff00 0%, #a0cc00 100%);
            --gradient-gold: linear-gradient(135deg, #c8ff00 0%, #a0cc00 100%);
            --gradient-blue: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            --gradient-card: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
        }

        /* Global Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
        }

        ::-webkit-scrollbar-thumb {
            background: #c8ff00;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #d4ff33;
        }

        /* Firefox scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: #c8ff00 rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            position: relative;
        }

        /* Dark Honeycomb Background - Volt Inspired */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #1a1a1a;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='49' viewBox='0 0 28 49'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='none' stroke='%23333333' stroke-width='1'%3E%3Cpath d='M13.99 9.25l13 7.5v15l-13 7.5L1 31.75v-15l12.99-7.5zM3 17.9v12.7l10.99 6.34 11-6.35V17.9l-11-6.34L3 17.9zM0 15l12.98-7.5V0h-2v6.35L0 12.69v2.3zm0 18.5L12.98 41v8h-2v-6.85L0 35.81v-2.3zM15 0v7.5L27.99 15H28v-2.31h-.01L17 6.35V0h-2zm0 49v-8l12.99-7.5H28v2.31h-.01L17 42.15V49h-2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            background-size: 40px 70px;
            pointer-events: none;
            z-index: 0;
        }

        /* Subtle dark vignette overlay */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse 80% 60% at 50% 50%, 
                transparent 0%, 
                rgba(0, 0, 0, 0.3) 70%, 
                rgba(0, 0, 0, 0.5) 100%);
            pointer-events: none;
            z-index: 0;
        }

        /* Left Sidebar Navigation */
        .left-nav {
            width: 70px;
            background: linear-gradient(180deg, #1a1a1a 0%, #111111 100%);
            border-right: 1px solid rgba(200, 255, 0, 0.15);
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 10;
            align-items: center;
            padding: 20px 0;
            gap: 8px;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 100;
        }

        .nav-logo {
            width: 40px;
            height: 40px;
            background: #000;
            border-radius: 12px;
            display: flex;
            overflow: hidden;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #111111;
            font-weight: 800;
            box-shadow: 0 4px 15px rgba(200, 255, 0, 0.3);
        }

        .nav-item {
            width: 52px;
            height: 52px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            gap: 2px;
        }

        .nav-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }

        .nav-item.active {
            border-color: #fff;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            transform: scale(1.08);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: -22px;
            width: 4px;
            height: 32px;
            background: #fff;
            border-radius: 0 4px 4px 0;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            fill: rgba(255, 255, 255, 0.9);
        }

        .nav-item.active svg {
            fill: #fff;
        }

        .nav-label {
            font-size: 7px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            line-height: 1;
        }

        .nav-item.active .nav-label {
            color: #fff;
        }

        /* Individual Nav Button Colors */
        .nav-item[data-panel="omobo"] {
            background: linear-gradient(135deg, #c8ff00 0%, #9acd32 100%);
        }
        .nav-item[data-panel="omobo"] svg,
        .nav-item[data-panel="omobo"] .nav-label {
            fill: #1a1a1a;
            color: #1a1a1a;
        }

        .nav-item[data-panel="sap"] {
            background: linear-gradient(135deg, #ff6b35 0%, #e55a2b 100%);
        }

        .nav-item[data-panel="fulfillment"] {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
        }

        .nav-item[data-panel="wms"] {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .nav-item.nav-add-order {
            background: linear-gradient(135deg, #9333ea 0%, #7c3aed 100%);
        }

        .nav-item .nav-tooltip {
            position: absolute;
            left: 60px;
            background: var(--bg-card);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.85em;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s ease;
            border: 1px solid var(--border-color);
            z-index: 1000;
        }

        .nav-item:hover .nav-tooltip {
            opacity: 1;
            left: 65px;
        }

        .nav-spacer {
            flex: 1;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            margin-left: 70px;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .back-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-purple);
        }

        .back-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
        }

        .order-selector {
            position: relative;
            min-width: 620px;
        }

        /* Custom Dropdown Styles */
        .custom-dropdown {
            position: relative;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        .dropdown-selected {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .dropdown-selected:hover {
            border-color: var(--accent-volt);
            box-shadow: 0 0 15px rgba(200, 255, 0, 0.2);
        }

        .dropdown-arrow {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 0.8em;
            transition: transform 0.2s ease;
        }

        .custom-dropdown.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        .dropdown-options {
            display: none;
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 8px 0;
            z-index: 1000;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-height: 400px;
            overflow-y: auto;
        }

        .custom-dropdown.open .dropdown-options {
            display: block;
        }

        .dropdown-header-row {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 20px;
            color: var(--text-muted);
            font-size: 0.85em;
            font-weight: 600;
        }

        .header-scenario { color: #ffffff; min-width: 130px; }
        .header-jira { color: #00d4ff; min-width: 110px; text-shadow: 0 0 6px rgba(0, 212, 255, 0.5); }
        .header-order { color: #c8ff00; min-width: 160px; }

        .dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: 8px 16px;
        }

        .dropdown-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .dropdown-option:hover {
            background: rgba(200, 255, 0, 0.1);
        }

        .dropdown-option.selected {
            background: rgba(200, 255, 0, 0.15);
        }

        .separator {
            color: var(--text-muted);
            opacity: 0.5;
        }

        /* Dropdown Status Badges */
        .dropdown-status {
            margin-left: auto;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .dropdown-status.status-pass {
            background: rgba(200, 255, 0, 0.2);
            color: #c8ff00;
            border: 1px solid rgba(200, 255, 0, 0.5);
        }
        
        .dropdown-status.status-not-ready {
            background: rgba(255, 100, 0, 0.2);
            color: #ff6b35;
            border: 1px solid rgba(255, 100, 0, 0.4);
        }

        /* Colored Text Segments */
        .scenario-glow {
            color: #ffffff;
            font-weight: 600;
            white-space: nowrap;
            min-width: 130px;
            display: inline-block;
        }

        .jira-glow {
            color: #00d4ff;
            font-weight: 600;
            text-shadow: 0 0 8px rgba(0, 212, 255, 0.6), 0 0 16px rgba(0, 212, 255, 0.3);
            white-space: nowrap;
            min-width: 110px;
            display: inline-block;
        }

        .order-glow {
            color: #c8ff00;
            font-weight: 600;
            white-space: nowrap;
            min-width: 160px;
            display: inline-block;
        }

        .order-selector select {
            width: 100%;
            padding: 12px 48px 12px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            appearance: none;
            transition: all 0.2s ease;
        }

        .order-selector select option {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            padding: 8px 12px;
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .order-selector select option:disabled {
            color: var(--accent-orange);
            font-weight: 600;
        }

        .order-selector select option[value=""]:first-child {
            font-family: 'Inter', sans-serif;
            color: var(--text-muted);
        }

        .order-selector select:hover,
        .order-selector select:focus {
            border-color: var(--accent-purple);
            outline: none;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .order-selector::after {
            content: '▼';
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-purple);
            font-size: 0.8em;
            pointer-events: none;
        }

        /* Review Status Display */
        .header-center {
            display: flex;
            align-items: center;
            margin-left: 40px;
            margin-right: auto;
        }

        .review-status-display {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 12px;
            padding: 8px 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 10px;
        }

        .review-status-label {
            font-size: 0.85em;
            color: var(--accent-volt);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            white-space: nowrap;
        }

        .review-status-badge {
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            font-weight: 600;
            white-space: nowrap;
        }

        .review-status-badge.not-ready {
            background: rgba(255, 100, 0, 0.2);
            color: #ff6b35;
            border: 1px solid rgba(255, 100, 0, 0.4);
        }

        .review-status-badge.ready {
            background: rgba(200, 255, 0, 0.2);
            color: #c8ff00;
            border: 1px solid rgba(200, 255, 0, 0.5);
        }

        .review-status-badge.in-progress {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.4);
        }

        .review-status-badge.pass {
            background: rgba(200, 255, 0, 0.2);
            color: #c8ff00;
            border: 1px solid rgba(200, 255, 0, 0.5);
        }

        .review-status-badge.fail {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.4);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .header-btn {
            padding: 10px 20px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            background: var(--bg-card);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .header-btn:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-purple);
        }

        .header-btn.primary {
            background: linear-gradient(135deg, #c8ff00 0%, #a0cc00 100%);
            border-color: var(--accent-volt);
            color: #111111;
            font-weight: 600;
        }

        .header-btn.primary:hover {
            box-shadow: 0 0 20px rgba(200, 255, 0, 0.4);
        }

        .settings-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .settings-btn:hover {
            background: var(--bg-card-hover);
        }

        .settings-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
        }

        /* Dashboard Grid - Two Column Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-auto-rows: min-content;
            gap: 24px;
            padding: 24px 32px;
            align-items: start;
        }

        /* Left Column - Order Details & Line Items */
        .left-column {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Right Column - Data Points & Services */
        .right-column {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Make cards fill their column */
        .left-column .card,
        .right-column .card {
            width: 100%;
        }

        /* Cards */
        .card {
            background: var(--gradient-card);
            border: 1px solid rgba(200, 255, 0, 0.15);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .card:hover {
            border-color: rgba(200, 255, 0, 0.4);
            box-shadow: 0 4px 30px rgba(200, 255, 0, 0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .card-title-icon.purple { background: rgba(139, 92, 246, 0.2); }
        .card-title-icon.blue { background: rgba(59, 130, 246, 0.2); }
        .card-title-icon.green { background: rgba(16, 185, 129, 0.2); }
        .card-title-icon.orange { background: rgba(245, 158, 11, 0.2); }
        .card-title-icon.pink { background: rgba(236, 72, 153, 0.2); }
        .card-title-icon.cyan { background: rgba(6, 182, 212, 0.2); }

        .card-action {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: var(--bg-card-hover);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .card-action:hover {
            border-color: var(--accent-purple);
        }

        /* Order Details Card (OMOBO) - Auto-scales to content */
        .order-details-card {
            grid-column: 1;
            grid-row: 1;
            height: auto;
            overflow: visible;
        }

        /* Test Scenario Card */
        .test-scenario-card {
            margin-top: 24px;
        }

        .test-scenario-content {
            padding: 0;
        }

        .scenario-title {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
            padding: 12px;
            background: var(--bg-card-hover);
            border-radius: 8px;
        }

        .jira-badge {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: #000;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 0.85em;
            font-family: 'JetBrains Mono', monospace;
        }

        .scenario-summary {
            color: var(--text-primary);
            font-size: 0.9em;
            font-weight: 500;
            flex: 1;
        }

        .scenario-description {
            background: var(--bg-card-hover);
            border-radius: 8px;
            padding: 16px;
        }

        .scenario-bullets {
            margin: 0;
            padding-left: 20px;
            color: var(--text-secondary);
        }

        .scenario-bullets li {
            margin-bottom: 8px;
            line-height: 1.5;
            font-size: 0.9em;
        }

        .scenario-bullets li:last-child {
            margin-bottom: 0;
        }

        .scenario-bullets li::marker {
            color: var(--accent-green);
        }

        .order-summary {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 24px;
        }

        .order-stat {
            background: var(--bg-card-hover);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .order-stat-value {
            font-size: 2em;
            font-weight: 700;
            background: var(--gradient-purple);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .order-stat-label {
            font-size: 0.85em;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .efficiency-ring {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }

        .efficiency-ring svg {
            transform: rotate(-90deg);
        }

        .efficiency-ring .ring-bg {
            fill: none;
            stroke: var(--bg-card-hover);
            stroke-width: 8;
        }

        .efficiency-ring .ring-progress {
            fill: none;
            stroke: url(#purpleGradient);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 339.292;
            stroke-dashoffset: 67.858;
            transition: stroke-dashoffset 1s ease;
        }

        .efficiency-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .efficiency-percent {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--text-primary);
        }

        .efficiency-label {
            font-size: 0.75em;
            color: var(--accent-green);
            font-weight: 500;
        }

        /* Order Items List */
        .order-items {
            margin-top: 20px;
        }

        .order-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-card-hover);
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }

        .order-item:hover {
            background: rgba(139, 92, 246, 0.1);
        }

        .item-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .item-details {
            flex: 1;
        }

        .item-name {
            font-weight: 600;
            font-size: 0.95em;
            color: var(--text-primary);
        }

        .item-meta {
            font-size: 0.8em;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .item-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 600;
        }

        .item-status.shipped { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .item-status.processing { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .item-status.cancelled { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .item-status.returned { background: rgba(245, 158, 11, 0.2); color: var(--accent-orange); }

        /* Order Header Summary */
        .order-header-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }

        .order-number-display, .order-total-display {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .order-label, .total-label {
            font-size: 0.75em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .order-num {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--accent-purple-light);
            font-family: 'JetBrains Mono', monospace;
        }

        .total-amount {
            font-size: 1.4em;
            font-weight: 800;
            color: var(--accent-green);
        }

        .mono {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.9em;
        }

        /* Order Info Grid */
        .order-info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        /* Customer Shipping Grid */
        .customer-shipping-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .guest-badge {
            display: inline-block;
            padding: 4px 8px;
            background: rgba(245, 158, 11, 0.2);
            color: var(--accent-orange);
            border-radius: 4px;
            font-size: 0.75em;
            margin-top: 8px;
        }

        .customer-detail {
            font-size: 0.85em;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Financial Breakdown */
        .financial-breakdown {
            background: rgba(26, 26, 58, 0.5);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .finance-grid {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .finance-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .finance-row.discount span:last-child {
            color: var(--accent-green);
        }

        .finance-row.total {
            border-top: 2px solid var(--accent-purple);
            border-bottom: none;
            padding-top: 12px;
            margin-top: 8px;
            font-weight: 700;
            font-size: 1.1em;
        }

        .finance-row.total span:last-child {
            color: var(--accent-green);
        }

        /* Product List */
        .product-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .product-item {
            display: grid;
            grid-template-columns: 1fr auto auto auto;
            gap: 12px;
            align-items: center;
            padding: 12px;
            background: rgba(26, 26, 58, 0.4);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        /* New Line Item Card Styles - Consistent with Order Details card */
        .line-item-card {
            background: var(--bg-card-hover);
            border-radius: 10px;
            padding: 14px;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }
        
        .line-item-card:hover {
            background: #454545;
        }
        
        .line-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .line-item-name {
            font-weight: 600;
            font-size: 0.95em;
            color: var(--text-primary);
        }
        
        .line-item-status {
            font-size: 0.7em;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .line-item-status.active {
            background: rgba(16, 185, 129, 0.15);
            color: var(--accent-green);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .line-item-status.returned {
            background: rgba(245, 158, 11, 0.15);
            color: var(--accent-orange);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .line-item-status.cancelled {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .line-item-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .detail-row {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .detail-label {
            font-size: 0.65em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .detail-value {
            font-size: 0.8em;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .detail-value.mono {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 0.75em;
        }
        
        .line-item-attributes {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 10px;
        }
        
        .attr-tag {
            font-size: 0.65em;
            font-weight: 500;
            padding: 3px 8px;
            border-radius: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .attr-tag.gender {
            background: rgba(249, 115, 22, 0.15);
            color: #f97316;
            border: 1px solid rgba(249, 115, 22, 0.25);
        }
        
        .attr-tag.type {
            background: rgba(139, 92, 246, 0.15);
            color: #a78bfa;
            border: 1px solid rgba(139, 92, 246, 0.25);
        }
        
        .attr-tag.sport {
            background: rgba(6, 182, 212, 0.15);
            color: #22d3ee;
            border: 1px solid rgba(6, 182, 212, 0.25);
        }
        
        .attr-tag.sap {
            background: rgba(59, 130, 246, 0.15);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.25);
        }
        
        .line-item-pricing {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 12px;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .price-row {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .qty-badge {
            font-size: 0.75em;
            font-weight: 600;
            color: var(--text-muted);
            background: rgba(255, 255, 255, 0.05);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .unit-price {
            font-size: 0.8em;
            color: var(--text-muted);
        }
        
        .total-price {
            font-size: 1em;
            font-weight: 700;
            color: var(--accent-green);
        }
        
        .total-price.sale {
            color: var(--accent-orange);
        }
        
        .sale-badge {
            font-size: 0.6em;
            background: rgba(249, 115, 22, 0.2);
            color: var(--accent-orange);
            padding: 2px 5px;
            border-radius: 3px;
            margin-left: 6px;
            vertical-align: middle;
        }
        
        .tax-line {
            font-size: 0.7em;
            color: var(--text-muted);
        }
        
        /* Line Item Grid Layout - Consistent with Order Details internal styling */
        .line-item-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px 12px;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
        }
        
        .grid-item {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .grid-item.full-width {
            grid-column: span 2;
        }
        
        .grid-label {
            font-size: 0.75em;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .grid-value {
            font-size: 0.9em;
            color: #f1f5f9;
            font-weight: 600;
        }
        
        .grid-value.mono {
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.85em;
            color: var(--accent-green);
        }
        
        .grid-value.mono.small {
            font-size: 0.75em;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            line-height: 1.4;
        }

        .product-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .product-name {
            font-weight: 600;
            font-size: 0.9em;
        }

        .product-meta {
            font-size: 0.75em;
            color: var(--text-muted);
        }

        .product-qty {
            font-weight: 600;
            color: var(--accent-purple-light);
        }

        /* Product Price with Hover Tooltip */
        .product-price {
            position: relative;
            cursor: help;
            padding: 4px 8px;
            border-radius: 4px;
            background: rgba(200, 255, 0, 0.08);
            border: 1px dashed rgba(200, 255, 0, 0.35);
            transition: all 0.2s ease;
            font-weight: 600;
            font-family: monospace;
            color: var(--accent-volt);
        }

        .product-price:hover {
            background: rgba(200, 255, 0, 0.2);
            border-color: var(--accent-volt);
            color: #ffffff;
            box-shadow: 0 0 15px rgba(200, 255, 0, 0.3);
        }

        .product-price::after {
            content: 'ⓘ';
            font-size: 0.7em;
            margin-left: 4px;
            opacity: 0.6;
        }

        .product-tooltip {
            position: absolute;
            top: 50%;
            right: calc(100% + 15px);
            transform: translateY(-50%);
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            border: 1px solid var(--accent-volt);
            border-radius: 8px;
            padding: 12px 16px;
            min-width: 260px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(200, 255, 0, 0.25);
            pointer-events: none;
        }

        .product-tooltip::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            border: 8px solid transparent;
            border-left-color: var(--accent-volt);
        }

        .product-price:hover .product-tooltip {
            opacity: 1;
            visibility: visible;
            right: calc(100% + 20px);
        }

        /* Last product item - position tooltip higher so it doesn't get cut off */
        .product-item:last-child .product-tooltip {
            top: auto;
            bottom: 0;
            transform: none;
        }

        .product-item:last-child .product-tooltip::after {
            top: auto;
            bottom: 15px;
            transform: none;
        }

        .tooltip-header {
            font-size: 0.75em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 6px;
        }

        .tooltip-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            padding: 4px 0;
        }

        .tooltip-row .label {
            color: var(--text-muted);
        }

        .tooltip-row .value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .tooltip-row .value.highlight {
            color: var(--accent-green);
        }

        .tooltip-row .value.reduced {
            color: var(--accent-cyan);
        }

        .tax-note {
            font-size: 0.75em;
            color: var(--accent-cyan);
            margin-top: 8px;
            padding-top: 6px;
            border-top: 1px solid var(--border-color);
        }

        /* Payment Section */
        .payment-section {
            margin-bottom: 20px;
        }

        .payment-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .payment-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: linear-gradient(135deg, #1a1a3a 0%, #12122a 100%);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .card-icon {
            font-size: 1.5em;
        }

        .card-type {
            font-weight: 600;
            color: var(--accent-blue);
        }

        .card-number {
            font-family: monospace;
            color: var(--text-secondary);
        }

        .card-exp {
            margin-left: auto;
            font-size: 0.85em;
            color: var(--text-muted);
        }

        .payment-details {
            display: flex;
            gap: 16px;
            font-size: 0.85em;
        }

        .auth-info {
            color: var(--text-secondary);
        }

        .fraud-status.success {
            color: var(--accent-green);
        }

        /* Timeline Section */
        .timeline-section {
            margin-bottom: 20px;
        }

        .timeline-mini {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .timeline-event {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 12px;
            background: rgba(26, 26, 58, 0.3);
            border-radius: 6px;
            font-size: 0.85em;
        }

        .event-time {
            font-family: monospace;
            font-size: 0.8em;
            color: var(--text-muted);
            min-width: 120px;
        }

        .event-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .event-dot.success {
            background: var(--accent-green);
            box-shadow: 0 0 8px var(--accent-green);
        }

        .event-dot.warning {
            background: var(--accent-orange);
            box-shadow: 0 0 8px var(--accent-orange);
        }

        .event-text {
            color: var(--text-secondary);
        }

        /* Status Badges */
        .status-badge.authorized {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
        }

        .info-item {
            background: var(--bg-card-hover);
            padding: 14px 16px;
            border-radius: 10px;
        }

        .info-label {
            font-size: 0.75em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .info-value {
            font-size: 0.95em;
            font-weight: 600;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
        }

        .status-badge.complete { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .status-badge.refunded { background: rgba(139, 92, 246, 0.2); color: var(--accent-purple); }
        .status-badge.processing { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .status-badge.pending { background: rgba(245, 158, 11, 0.2); color: var(--accent-orange); }

        /* Order Totals */
        .order-totals {
            background: var(--bg-card-hover);
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }

        .total-row.sub {
            font-size: 0.85em;
            color: var(--text-muted);
            border-top: 1px solid var(--border-color);
            margin-top: 8px;
            padding-top: 12px;
        }

        .total-value {
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }

        .total-value.highlight {
            font-size: 1.3em;
            background: linear-gradient(135deg, #c8ff00 0%, #a0cc00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Customer Section */
        .customer-section {
            margin-bottom: 16px;
        }

        .section-label {
            font-size: 0.75em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .customer-info {
            background: var(--bg-card-hover);
            padding: 14px 16px;
            border-radius: 10px;
        }

        .customer-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .customer-address {
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        /* Product Chips */
        .products-summary {
            margin-top: 8px;
        }

        .product-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .product-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.85em;
            font-weight: 500;
            background: var(--bg-card-hover);
            border: 1px solid var(--border-color);
        }

        .product-chip small {
            font-size: 0.8em;
            opacity: 0.7;
            font-weight: 400;
        }

        .product-chip.shipped { border-color: var(--accent-green); color: var(--accent-green); }
        .product-chip.processing { border-color: var(--accent-green); color: var(--accent-green); }
        .product-chip.returned { border-color: var(--accent-orange); color: var(--accent-orange); }
        .product-chip.cancelled { border-color: #ef4444; color: #ef4444; opacity: 0.7; }

        /* SAP Details Card */
        .sap-details-card {
            grid-column: 2;
            grid-row: 1;
        }

        /* SAP Products Table */
        .sap-products-table {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 1em;
        }

        .sap-products-header {
            display: grid;
            grid-template-columns: 50px 110px 1fr 60px 70px 90px 70px 100px 90px;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(200, 255, 0, 0.1);
            border-radius: 4px;
            font-weight: 600;
            color: var(--accent-volt);
            font-size: 0.95em;
        }

        .sap-product-row {
            display: grid;
            grid-template-columns: 50px 110px 1fr 60px 70px 90px 70px 100px 90px;
            gap: 8px;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            align-items: center;
        }

        .sap-product-row:hover {
            background: rgba(200, 255, 0, 0.05);
            border-color: rgba(200, 255, 0, 0.2);
        }

        .sap-product-row .accent {
            color: var(--accent-volt);
        }

        .sap-product-row .volt {
            color: var(--accent-volt);
            font-weight: 600;
        }

        .sap-product-row .status-badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 600;
            text-align: center;
        }

        .sap-product-row .status-badge.completed {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .sap-product-row .status-badge.open {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .sap-product-row .status-badge.pending {
            background: rgba(100, 100, 100, 0.2);
            color: #888;
        }

        .sap-tabs-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .sap-content {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .sap-section {
            background: var(--bg-card-hover);
            border-radius: 12px;
            padding: 16px;
        }

        .sap-section-title {
            font-size: 0.85em;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sap-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .sap-row:last-child {
            border-bottom: none;
        }

        .sap-label {
            color: var(--text-muted);
            font-size: 0.9em;
        }

        .sap-value {
            font-weight: 600;
            font-size: 0.9em;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
        }

        .sap-value.highlight {
            color: var(--accent-purple);
        }

        .sap-value.warning {
            color: var(--accent-orange);
        }

        .sap-value.highlight {
            color: var(--accent-volt);
            font-weight: 700;
        }

        .sap-value.pending {
            color: var(--text-muted);
            font-style: italic;
        }

        .po-note {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-top: 12px;
            padding: 10px 12px;
            background: rgba(200, 255, 0, 0.05);
            border-left: 3px solid var(--accent-volt);
            border-radius: 0 6px 6px 0;
            font-size: 0.8em;
        }

        .po-note .note-icon {
            flex-shrink: 0;
        }

        .po-note .note-text {
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* SAP Page Grid Layout */
        .sap-page-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            padding: 24px 32px;
        }

        .sap-left-column, .sap-right-column {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .sap-full-width-section {
            grid-column: 1 / -1;
            margin-top: 8px;
        }

        .financial-summary-card .sap-line-header {
            grid-template-columns: minmax(180px, 280px) 70px 75px 50px 70px 85px 80px;
        }

        .financial-summary-card .sap-line-row {
            grid-template-columns: minmax(180px, 280px) 70px 75px 50px 70px 85px 80px;
        }

        .financial-summary-card .sap-line-items-table {
            width: fit-content;
            min-width: 100%;
        }

        .sap-financial-summary {
            display: grid;
            grid-template-columns: repeat(6, auto);
            gap: 0;
            padding: 12px 0;
            background: var(--bg-card-hover);
            border-radius: 8px;
            margin-top: 12px;
            width: fit-content;
            margin-left: auto;
        }

        .sap-financial-summary .summary-row {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            padding: 0 14px;
            border-right: 1px solid var(--border-color);
        }

        .sap-financial-summary .summary-row:last-child {
            border-right: none;
        }

        .sap-financial-summary .summary-label {
            font-size: 0.7em;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 2px;
            white-space: nowrap;
        }

        .sap-financial-summary .summary-value {
            font-size: 0.95em;
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        .sap-financial-summary .summary-row.discount .summary-value {
            color: #ef4444;
        }

        .sap-financial-summary .summary-row.grand-total {
            padding-left: 16px;
        }

        .sap-financial-summary .summary-row.grand-total .summary-label,
        .sap-financial-summary .summary-row.grand-total .summary-value {
            color: var(--accent-volt);
            font-size: 1.05em;
        }

        .sap-card {
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }

        .sap-system-badge {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .sap-status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .sap-status-badge.success {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .sap-status-badge.warning {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        .sap-status-badge.error {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        /* SAP References Grid */
        .sap-references-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 16px;
        }

        .sap-ref-item {
            background: var(--bg-card-hover);
            padding: 12px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .sap-ref-label {
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sap-ref-value {
            font-size: 0.95em;
            font-weight: 600;
            color: var(--accent-volt);
        }

        /* SAP Data Grid */
        .sap-data-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .sap-data-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .sap-data-label {
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sap-data-value {
            font-size: 0.9em;
            color: var(--text-primary);
        }

        .sap-data-value.highlight {
            color: var(--accent-volt);
            font-weight: 600;
        }

        .sap-data-value.status-complete {
            color: #22c55e;
        }

        /* SAP Partners Grid */
        .sap-partners-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .sap-partner-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 6px;
        }

        .sap-partner-type {
            display: block;
            font-size: 0.7em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .sap-partner-value {
            font-size: 0.85em;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        /* SAP Tabs List */
        .sap-tabs-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .sap-tab-badge {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 500;
        }

        /* SAP GL Table */
        .sap-gl-table {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 1.05em;
        }

        .sap-gl-header {
            display: grid;
            grid-template-columns: 110px 1fr 100px 100px;
            gap: 8px;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px 6px 0 0;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            font-size: 0.95em;
            letter-spacing: 0.5px;
        }

        .sap-gl-row {
            display: grid;
            grid-template-columns: 110px 1fr 100px 100px;
            gap: 8px;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.15);
            border-bottom: 1px solid var(--border-color);
            font-size: 1em;
        }

        .sap-gl-row:last-child {
            border-bottom: none;
        }

        .sap-gl-row .debit {
            color: #ef4444;
            text-align: right;
        }

        .sap-gl-row .credit {
            color: #22c55e;
            text-align: right;
        }

        .sap-gl-footer {
            display: grid;
            grid-template-columns: 110px 1fr 100px 100px;
            gap: 8px;
            padding: 12px 14px;
            background: var(--bg-card-hover);
            border-radius: 0 0 6px 6px;
            font-weight: 700;
            font-size: 1.05em;
        }

        .sap-gl-footer .debit {
            color: #ef4444;
            text-align: right;
        }

        .sap-gl-footer .credit {
            color: #22c55e;
            text-align: right;
        }

        /* SAP Tax Grid */
        .sap-tax-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .sap-tax-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .sap-tax-label {
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .sap-tax-value {
            font-size: 0.9em;
            color: var(--text-primary);
        }

        .sap-tax-value.highlight {
            color: var(--accent-volt);
            font-weight: 600;
        }

        /* SAP Validation Flags */
        .sap-flags-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .sap-flag-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
        }

        .sap-flag-item.success {
            background: rgba(34, 197, 94, 0.1);
            border-left: 3px solid #22c55e;
        }

        .sap-flag-item.warning {
            background: rgba(251, 191, 36, 0.1);
            border-left: 3px solid #fbbf24;
        }

        .sap-flag-item.error {
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid #ef4444;
        }

        .sap-flag-icon {
            font-size: 1.1em;
        }

        /* SAP Line Items Tax Table */
        .sap-line-items-table {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 1em;
            margin-bottom: 16px;
        }

        .sap-line-header {
            display: grid;
            grid-template-columns: 2fr 80px 80px 60px 80px 80px;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px 6px 0 0;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        .sap-line-row {
            display: grid;
            grid-template-columns: 2fr 80px 80px 60px 80px 80px;
            gap: 8px;
            padding: 10px 12px;
            background: rgba(0, 0, 0, 0.15);
            border-bottom: 1px solid var(--border-color);
            align-items: center;
        }

        .sap-line-row:last-child {
            border-bottom: none;
            border-radius: 0 0 6px 6px;
        }

        .sap-line-row .product-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sap-line-row .division-badge {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .sap-line-row .division-badge.footwear {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .sap-line-row .division-badge.apparel {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
        }

        .sap-line-row .division-badge.equipment {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .sap-line-row .tax-type {
            font-size: 0.9em;
        }

        .sap-line-row .tax-type.standard {
            color: var(--text-primary);
        }

        .sap-line-row .tax-type.reduced {
            color: var(--accent-volt);
        }

        .sap-line-row .tax-rate {
            font-weight: 600;
            text-align: center;
        }

        .sap-line-row .tax-code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--accent-purple);
        }

        .sap-line-row .tax-amount {
            text-align: right;
            font-weight: 600;
            color: var(--accent-volt);
        }

        /* SAP Tax Totals */
        .sap-tax-totals {
            background: var(--bg-card-hover);
            border-radius: 8px;
            padding: 12px;
        }

        .tax-total-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .tax-total-row:last-child {
            border-bottom: none;
        }

        .tax-total-row.grand-total {
            margin-top: 8px;
            padding-top: 12px;
            border-top: 2px solid var(--accent-volt);
            border-bottom: none;
        }

        .tax-total-label {
            color: var(--text-muted);
            font-size: 0.9em;
        }

        .tax-total-value {
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        .tax-total-value.discount {
            color: #ef4444;
        }

        .tax-total-row.grand-total .tax-total-label,
        .tax-total-row.grand-total .tax-total-value {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--accent-volt);
        }

        /* SAP Profit Center Table */
        .sap-profit-center-table {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 0.85em;
        }

        .sap-pc-header {
            display: grid;
            grid-template-columns: 2fr 80px 100px 80px;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px 6px 0 0;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            font-size: 0.75em;
            letter-spacing: 0.5px;
        }

        .sap-pc-row {
            display: grid;
            grid-template-columns: 2fr 80px 100px 80px;
            gap: 8px;
            padding: 10px 12px;
            background: rgba(0, 0, 0, 0.15);
            border-bottom: 1px solid var(--border-color);
        }

        .sap-pc-row:last-child {
            border-bottom: none;
            border-radius: 0 0 6px 6px;
        }

        .sap-pc-row .pc-value {
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent-purple);
        }

        /* Responsive SAP Page */
        @media (max-width: 1200px) {
            .sap-page-grid {
                grid-template-columns: 1fr;
            }
            
            .sap-line-header,
            .sap-line-row {
                grid-template-columns: 1fr 60px 60px 50px 60px 60px;
                font-size: 0.75em;
            }
        }

        .po-dropdown {
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid rgba(200, 255, 0, 0.3);
            border-radius: 6px;
            padding: 6px 12px;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            cursor: pointer;
            min-width: 160px;
            transition: all 0.2s ease;
        }

        .po-dropdown:hover {
            border-color: var(--accent-volt);
            box-shadow: 0 0 10px rgba(200, 255, 0, 0.2);
        }

        .po-dropdown:focus {
            outline: none;
            border-color: var(--accent-volt);
            box-shadow: 0 0 15px rgba(200, 255, 0, 0.3);
        }

        .po-dropdown option {
            background: #1a1a1a;
            color: var(--text-primary);
            padding: 8px;
        }

        .sap-value.mono {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
        }

        .sap-notice {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            margin-top: 16px;
        }

        .notice-icon {
            font-size: 1.5em;
        }

        .notice-text {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .notice-text strong {
            color: var(--accent-orange);
            font-size: 0.9em;
        }

        .notice-text span {
            font-size: 0.8em;
            color: var(--text-muted);
        }

        /* Order Processing Services Card Styles */
        .environment-card {
            grid-column: 1 / -1;
        }

        .instances-content {
            padding: 16px;
        }

        .instances-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .services-summary {
            display: flex;
            gap: 20px;
        }

        .summary-stat {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .summary-stat strong {
            color: var(--accent-volt);
            font-size: 1.1rem;
            margin-right: 4px;
        }

        .instances-timestamp {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-family: monospace;
        }

        .instances-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .instance-group {
            background: var(--bg-card-hover);
            border-radius: 8px;
            padding: 12px;
        }

        .instance-group.loading-placeholder {
            opacity: 0.6;
        }

        .group-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--accent-volt);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 1px solid rgba(200, 255, 0, 0.2);
        }

        .instance-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 8px;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .instance-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .instance-status {
            font-size: 0.7rem;
            line-height: 1;
        }

        .instance-status.running {
            color: var(--accent-green);
            text-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
        }

        .instance-status.idle {
            color: var(--accent-orange);
            text-shadow: 0 0 8px rgba(245, 158, 11, 0.6);
        }

        .instance-status.down {
            color: #ef4444;
            text-shadow: 0 0 8px rgba(239, 68, 68, 0.6);
        }

        .instance-status.pending {
            color: var(--text-muted);
        }

        .instance-name {
            flex: 1;
            font-size: 0.8rem;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .instance-version {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-family: monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .instances-legend {
            display: flex;
            gap: 16px;
            margin-top: 16px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .services-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }

        .data-source-badge {
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 12px;
            background: var(--bg-card-hover);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-source-badge.splunk {
            background: rgba(0, 200, 83, 0.15);
            color: var(--accent-green);
        }

        .data-source-badge.simulated {
            background: rgba(255, 171, 0, 0.15);
            color: var(--accent-orange);
        }

        .splunk-query-link a {
            font-size: 0.75rem;
            color: var(--accent-volt);
            text-decoration: none;
        }

        .splunk-query-link a:hover {
            text-decoration: underline;
        }

        .instance-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .instance-item:last-child {
            border-bottom: none;
        }

        .instance-name {
            flex: 1;
            font-size: 0.8rem;
            color: var(--text-primary);
            font-family: 'SF Mono', 'Fira Code', monospace;
        }

        .instance-version {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-family: monospace;
            background: var(--bg-secondary);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .instance-events {
            font-size: 0.7rem;
            color: var(--accent-orange);
            font-family: monospace;
            min-width: 50px;
            text-align: right;
        }

        .instance-events-wrap {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .instance-time {
            font-size: 0.65rem;
            color: var(--text-muted);
            font-family: monospace;
        }

        /* Status indicators for services */
        .instance-status-dot {
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
            line-height: 1;
        }

        .instance-status-dot.success {
            color: #00c853;
            text-shadow: 0 0 6px rgba(0, 200, 83, 0.5);
        }

        .instance-status-dot.error {
            color: #ff5252;
            text-shadow: 0 0 6px rgba(255, 82, 82, 0.5);
        }

        .status-indicator {
            font-size: 0.5rem;
            cursor: help;
            transition: transform 0.2s ease;
        }

        .status-indicator.success {
            color: #00c853;
        }

        .status-indicator.error {
            color: #ff5252;
            animation: pulse-error 1.5s ease-in-out infinite;
        }

        .status-indicator:hover {
            transform: scale(1.5);
        }

        @keyframes pulse-error {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .error-badge {
            font-size: 0.65rem;
            background: rgba(255, 82, 82, 0.2);
            color: #ff5252;
            padding: 2px 6px;
            border-radius: 8px;
            margin-left: 8px;
        }

        .instance-group.has-errors {
            border-left: 2px solid #ff5252;
        }

        .services-error-summary {
            background: rgba(255, 82, 82, 0.1);
            border: 1px solid rgba(255, 82, 82, 0.3);
            border-radius: 8px;
            padding: 10px 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #ff5252;
            font-size: 0.85rem;
        }

        .services-error-summary .error-icon {
            font-size: 1.2rem;
        }

        /* Custom Error Tooltip */
        .error-tooltip-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 9998;
            background: transparent;
        }

        .error-tooltip {
            position: fixed;
            z-index: 9999;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 1px solid rgba(255, 82, 82, 0.4);
            border-radius: 12px;
            padding: 0;
            min-width: 320px;
            max-width: 420px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 20px rgba(255, 82, 82, 0.2);
            font-family: 'Segoe UI', sans-serif;
            animation: tooltipFadeIn 0.2s ease-out;
        }

        @keyframes tooltipFadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .error-tooltip-header {
            background: linear-gradient(90deg, rgba(255, 82, 82, 0.2) 0%, transparent 100%);
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 82, 82, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            border-radius: 12px 12px 0 0;
        }

        .error-tooltip-header .error-icon {
            font-size: 1.4rem;
        }

        .error-tooltip-header .service-name {
            color: #fff;
            font-weight: 600;
            font-size: 0.9rem;
            flex: 1;
        }

        .error-tooltip-header .error-count {
            background: #ff5252;
            color: #fff;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .error-tooltip-body {
            padding: 12px 16px;
            max-height: 300px;
            overflow-y: auto;
        }

        .error-tooltip-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 3px solid;
        }

        .error-tooltip-item:last-child {
            margin-bottom: 0;
        }

        .error-tooltip-item.high { border-left-color: #ff5252; }
        .error-tooltip-item.medium { border-left-color: #ffa726; }
        .error-tooltip-item.low { border-left-color: #ffeb3b; }

        .error-tooltip-code {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .error-tooltip-code .code {
            font-family: 'Consolas', monospace;
            font-size: 0.7rem;
            color: #ff5252;
            background: rgba(255, 82, 82, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .error-tooltip-code .type {
            color: #ccc;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .error-tooltip-code .impact {
            margin-left: auto;
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .error-tooltip-code .impact.high { background: rgba(255, 82, 82, 0.2); color: #ff5252; }
        .error-tooltip-code .impact.medium { background: rgba(255, 167, 38, 0.2); color: #ffa726; }
        .error-tooltip-code .impact.low { background: rgba(255, 235, 59, 0.2); color: #ffeb3b; }

        .error-tooltip-message {
            color: #e0e0e0;
            font-size: 0.8rem;
            line-height: 1.5;
            margin-top: 8px;
        }

        .error-tooltip-time {
            color: #888;
            font-size: 0.65rem;
            margin-top: 6px;
            font-family: monospace;
        }

        .error-tooltip-footer {
            padding: 10px 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: right;
        }

        .error-tooltip-footer .close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #ccc;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .error-tooltip-footer .close-btn:hover {
            background: rgba(255, 82, 82, 0.3);
            color: #fff;
        }

        /* Success tooltip (simple) */
        .success-tooltip {
            position: fixed;
            z-index: 9999;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 1px solid rgba(0, 200, 83, 0.4);
            border-radius: 8px;
            padding: 12px 16px;
            min-width: 200px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
            animation: tooltipFadeIn 0.2s ease-out;
        }

        .success-tooltip-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .success-tooltip-content .icon {
            font-size: 1.2rem;
            color: #00c853;
        }

        .success-tooltip-content .text {
            color: #00c853;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .sap-value.success {
            color: var(--accent-green);
        }

        /* Map Card */
        .map-card {
            grid-column: 1 / -1;
            grid-row: 3;
            min-height: 280px;
            position: relative;
            overflow: hidden;
        }

        /* Canada Network Map Styles */
        .canada-map-container {
            position: relative;
            width: 100%;
            height: 280px;
            background: linear-gradient(135deg, 
                rgba(15, 23, 42, 1) 0%, 
                rgba(30, 41, 59, 0.95) 50%,
                rgba(15, 23, 42, 1) 100%);
            border-radius: 12px;
            overflow: hidden;
        }

        /* Starfield effect */
        .starfield {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,0.3), transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 90px 40px, rgba(255,255,255,0.4), transparent),
                radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 160px 120px, rgba(255,255,255,0.3), transparent),
                radial-gradient(2px 2px at 200px 50px, rgba(255,255,255,0.25), transparent),
                radial-gradient(1px 1px at 250px 90px, rgba(255,255,255,0.35), transparent),
                radial-gradient(2px 2px at 300px 30px, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 350px 110px, rgba(255,255,255,0.4), transparent),
                radial-gradient(2px 2px at 400px 60px, rgba(255,255,255,0.15), transparent),
                radial-gradient(1px 1px at 450px 140px, rgba(255,255,255,0.3), transparent),
                radial-gradient(2px 2px at 500px 20px, rgba(255,255,255,0.25), transparent),
                radial-gradient(1px 1px at 550px 100px, rgba(255,255,255,0.35), transparent),
                radial-gradient(2px 2px at 600px 70px, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 650px 130px, rgba(255,255,255,0.4), transparent),
                radial-gradient(2px 2px at 700px 40px, rgba(255,255,255,0.3), transparent),
                radial-gradient(1px 1px at 750px 90px, rgba(255,255,255,0.25), transparent),
                radial-gradient(2px 2px at 800px 150px, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 850px 60px, rgba(255,255,255,0.35), transparent),
                radial-gradient(2px 2px at 900px 110px, rgba(255,255,255,0.15), transparent);
            background-size: 100% 100%;
            opacity: 0.6;
            animation: twinkle 8s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 0.8; }
        }

        .canada-network-map {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .canada-landmass {
            transition: all 0.3s ease;
        }

        .canada-map-container:hover .canada-landmass {
            filter: brightness(1.1);
        }

        .network-lines line {
            animation: linePulse 3s ease-in-out infinite;
        }

        @keyframes linePulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.7; }
        }

        .city-nodes circle {
            animation: nodePulse 2s ease-in-out infinite;
        }

        @keyframes nodePulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .active-route {
            stroke-dasharray: 200;
            stroke-dashoffset: 200;
            animation: drawRoute 2s ease-out forwards, routePulse 1.5s ease-in-out infinite 2s;
        }

        @keyframes drawRoute {
            to { stroke-dashoffset: 0; }
        }

        @keyframes routePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Route Info Overlay */
        .route-info {
            position: absolute;
            bottom: 12px;
            left: 12px;
            display: flex;
            gap: 16px;
            background: rgba(15, 23, 42, 0.95);
            padding: 10px 16px;
            border-radius: 8px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(8px);
        }

        .route-stat {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .route-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
        }

        .route-value {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .route-value.highlight {
            color: var(--accent-orange);
        }

        .route-line {
            stroke: var(--accent-green);
            stroke-width: 2;
            stroke-dasharray: 8 4;
            fill: none;
            opacity: 0.7;
        }

        /* Order Lifecycle Card */
        .lifecycle-card {
            grid-column: 1 / -1;
            grid-row: 4;
        }

        /* Lifecycle Banner Styles (Top of Dashboard) */
        .lifecycle-banner {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 16px;
            padding: 16px 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .lifecycle-banner-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .lifecycle-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lifecycle-icon {
            font-size: 1.2rem;
        }

        .lifecycle-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .current-stage-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .current-stage-badge {
            background: linear-gradient(135deg, var(--accent-green), rgba(16, 185, 129, 0.7));
            color: #000;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
        }

        .lifecycle-flow-banner {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 0;
            padding: 20px 0;
            overflow-x: auto;
            transform: scale(1.25);
            transform-origin: center center;
            margin: 10px 0;
        }

        /* Lifecycle Flow Styles */
        .lifecycle-flow {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 0;
            padding: 20px 0;
            overflow-x: auto;
        }

        .lifecycle-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-width: 90px;
            position: relative;
        }

        .stage-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .stage-icon svg {
            width: 24px;
            height: 24px;
        }

        .lifecycle-stage.completed .stage-icon {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .lifecycle-stage.current .stage-icon {
            background: rgba(200, 255, 0, 0.2);
            border-color: var(--accent-volt);
            color: var(--accent-volt);
            box-shadow: 0 0 20px rgba(200, 255, 0, 0.4);
            animation: pulseGlow 2s infinite;
        }

        .lifecycle-stage.pending .stage-icon {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--border-color);
            color: var(--text-muted);
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 15px rgba(200, 255, 0, 0.3); }
            50% { box-shadow: 0 0 25px rgba(200, 255, 0, 0.6); }
        }

        .stage-label {
            font-size: 0.75em;
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .lifecycle-stage.pending .stage-label {
            color: var(--text-muted);
        }

        .stage-domain {
            font-size: 0.65em;
            color: var(--text-muted);
            opacity: 0.7;
        }

        .stage-connector {
            width: 30px;
            height: 2px;
            margin-top: 24px;
            position: relative;
        }

        .stage-connector::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border-color);
        }

        .stage-connector::after {
            content: '';
            position: absolute;
            right: -4px;
            top: -3px;
            border: 4px solid transparent;
            border-left-color: var(--border-color);
        }

        .stage-connector.completed::before {
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
        }

        .stage-connector.completed::after {
            border-left-color: #10b981;
            filter: drop-shadow(0 0 4px rgba(16, 185, 129, 0.6));
        }

        .stage-connector.pending::before {
            background: var(--border-color);
            opacity: 0.3;
        }
        
        .stage-connector.pending::after {
            border-left-color: var(--border-color);
            opacity: 0.3;
        }

        /* Lifecycle Legend */
        .lifecycle-legend {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75em;
            color: var(--text-muted);
        }

        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        /* Lifecycle Status */
        .lifecycle-status {
            margin-top: 16px;
            padding: 16px;
            background: rgba(200, 255, 0, 0.05);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 8px;
        }

        .status-current {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .status-icon {
            font-size: 1.2em;
        }

        .status-text {
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .status-text strong {
            color: var(--accent-volt);
        }

        .status-timeline {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75em;
            color: var(--text-muted);
        }

        .status-timeline .separator {
            color: var(--accent-green);
        }

        /* Return Flow */
        .return-flow-connector {
            width: 20px;
            height: 2px;
            margin-top: 24px;
            position: relative;
            border-top: 2px dashed var(--accent-orange);
            opacity: 0.6;
        }

        .lifecycle-stage.optional .stage-icon {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--accent-orange);
            border-style: dashed;
            color: var(--accent-orange);
            opacity: 0.7;
        }

        .lifecycle-stage.optional .stage-label,
        .lifecycle-stage.optional .stage-domain {
            color: var(--accent-orange);
            opacity: 0.7;
        }

        .lifecycle-stage.returned .stage-icon {
            background: rgba(245, 158, 11, 0.2);
            border-color: var(--accent-orange);
            border-style: solid;
            color: var(--accent-orange);
        }

        /* Splunk Event Timeline */
        .splunk-timeline {
            padding: 16px 0;
            position: relative;
        }

        .splunk-timeline::before {
            content: '';
            position: absolute;
            left: 72px;
            top: 24px;
            bottom: 24px;
            width: 2px;
            background: linear-gradient(180deg, var(--accent-green) 0%, var(--accent-orange) 50%, var(--border-color) 100%);
        }

        .timeline-event {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 8px 0;
            position: relative;
        }

        .timeline-time {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
            width: 56px;
            text-align: right;
            flex-shrink: 0;
            padding-top: 2px;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
            border: 2px solid var(--bg-card);
            flex-shrink: 0;
            position: relative;
            z-index: 1;
            margin-top: 4px;
        }

        .timeline-dot.completed {
            background: var(--accent-green);
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
        }

        .timeline-dot.current {
            background: var(--accent-orange);
            box-shadow: 0 0 8px rgba(245, 158, 11, 0.5);
            animation: pulse 2s infinite;
        }

        .timeline-dot.error {
            background: #ef4444;
            box-shadow: 0 0 8px rgba(239, 68, 68, 0.5);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .timeline-content {
            flex: 1;
            min-width: 0;
        }

        .timeline-system {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .timeline-action {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .timeline-status {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .timeline-status.success {
            color: var(--accent-green);
        }

        .timeline-status.warning {
            color: var(--accent-orange);
        }

        .timeline-status.error {
            color: #ef4444;
        }

        /* Timeline Summary */
        .timeline-summary {
            display: flex;
            gap: 24px;
            padding: 16px;
            margin-top: 16px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .summary-stat {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .stat-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
        }

        .stat-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .stat-value.success {
            color: var(--accent-green);
        }

        .stat-value.warning {
            color: var(--accent-orange);
        }

        .stat-value.error {
            color: #ef4444;
        }

        .products-card {
            grid-column: 1 / -1;
            grid-row: 2;
        }

        /* Collapsible Products */
        .products-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 16px;
        }

        .products-toggle:hover {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--accent-green);
        }

        .products-toggle .toggle-label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--accent-green);
            font-weight: 600;
        }

        .products-toggle .toggle-arrow {
            transition: transform 0.3s ease;
        }

        .products-toggle.expanded .toggle-arrow {
            transform: rotate(180deg);
        }

        .products-expandable {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .products-expandable.expanded {
            max-height: 500px;
        }

        .lifecycle-content {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 150px;
            background: var(--bg-card-hover);
            border-radius: 12px;
            border: 2px dashed var(--border-color);
        }

        .lifecycle-placeholder {
            text-align: center;
            color: var(--text-muted);
        }

        .lifecycle-placeholder-icon {
            font-size: 3em;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        /* Progress Bar */
        .progress-section {
            position: fixed;
            bottom: 0;
            left: 70px;
            right: 0;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .progress-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .progress-label {
            font-size: 0.85em;
            color: var(--text-muted);
        }

        .progress-value {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--text-primary);
        }

        .progress-value span {
            color: var(--text-muted);
            font-weight: 400;
        }

        .progress-bar-container {
            flex: 1;
            height: 8px;
            background: var(--bg-card);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient-purple);
            border-radius: 4px;
            width: 68%;
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: var(--accent-purple);
            border-radius: 50%;
            border: 3px solid var(--bg-secondary);
        }

        .progress-actions {
            display: flex;
            gap: 12px;
        }

        /* Placeholder Content */
        .placeholder-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
            color: var(--text-muted);
        }

        .placeholder-icon {
            font-size: 3em;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .placeholder-text {
            font-size: 1.1em;
            font-weight: 500;
        }

        .placeholder-subtext {
            font-size: 0.9em;
            margin-top: 8px;
            opacity: 0.7;
        }

        /* Hidden content panels */
        .content-panel {
            display: none;
            height: calc(100vh - 180px);
            overflow-y: auto;
        }

        .content-panel.active {
            display: block;
        }

        /* Category badge */
        .category-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--accent-purple);
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 600;
            color: var(--accent-purple);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .left-column,
            .right-column {
                position: static;
                max-height: none;
                overflow-y: visible;
            }
            
            .order-details-card,
            .sap-details-card {
                grid-column: 1;
            }
            
            .sap-details-card {
                grid-row: 2;
            }
            
            .map-card {
                grid-column: 1;
                grid-row: 3;
            }
            
            .lifecycle-card {
                grid-column: 1;
                grid-row: 4;
            }
        }

        /* Scrollable content area */
        .scrollable-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 100px;
        }
    </style>
</head>
<body>
    <!-- SVG Defs for gradients -->
    <svg width="0" height="0">
        <defs>
            <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#8b5cf6"/>
                <stop offset="100%" style="stop-color:#6366f1"/>
            </linearGradient>
        </defs>
    </svg>

    <!-- Left Navigation -->
    <nav class="left-nav">
        <div class="nav-logo">
            <img src="useravatar.png" alt="Nike" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        
        <div class="nav-item active" data-panel="omobo" onclick="switchPanel('omobo')">
            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
            <span class="nav-label">ORDER</span>
            <span class="nav-tooltip">Order Details</span>
        </div>
        
        <button class="nav-item" data-panel="sap" onclick="switchPanel('sap')" title="SAP Details">
            <svg viewBox="0 0 24 24"><path d="M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5zM19 19H5V5h14v14zM6 15h12v2H6zm0-4h12v2H6zm0-4h12v2H6z"/></svg>
            <span class="nav-label">SAP</span>
            <span class="nav-tooltip">SAP Details</span>
        </button>
        
        <div class="nav-item" data-panel="fulfillment" onclick="switchPanel('fulfillment')">
            <svg viewBox="0 0 24 24"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
            <span class="nav-label">FULFILL</span>
            <span class="nav-tooltip">Fulfillment Details</span>
        </div>
        
        <div class="nav-item" data-panel="wms" onclick="switchPanel('wms')">
            <svg viewBox="0 0 24 24"><path d="M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4h16v3z"/></svg>
            <span class="nav-label">WMS</span>
            <span class="nav-tooltip">WMS Details</span>
        </div>
        
        <div class="nav-spacer"></div>
        
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="back-btn" title="Back">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                
                <div class="order-selector">
                    <div class="custom-dropdown" id="orderDropdown">
                        <div class="dropdown-selected" onclick="toggleDropdown()">
                            <span class="scenario-glow" id="selectedScenario">Loading...</span>
                            <span class="separator">│</span>
                            <span class="jira-glow" id="selectedJira">—</span>
                            <span class="separator">│</span>
                            <span class="order-glow" id="selectedOrder">—</span>
                            <span class="dropdown-arrow">▼</span>
                        </div>
                        <div class="dropdown-options" id="dropdownOptions">
                            <div class="dropdown-header-row">
                                <span class="header-scenario">Scenario</span>
                                <span class="separator">│</span>
                                <span class="header-jira">JIRA Ticket</span>
                                <span class="separator">│</span>
                                <span class="header-order">Order #</span>
                            </div>
                            <div class="dropdown-divider"></div>
                            <!-- V5 PROD orders loaded dynamically -->
                            <div id="v5OrdersList">Loading orders...</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="review-status-display" id="reviewStatusDisplay">
                    <span class="review-status-label">REVIEW STATUS</span>
                    <span class="review-status-badge not-ready" id="reviewStatusBadge">Not Ready for Review</span>
                </div>
            </div>
            
            <div class="header-right">
                <button class="header-btn" onclick="refreshData()">⟳ Refresh</button>
                <button class="settings-btn" title="Settings">
                    <svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                </button>
            </div>
        </header>

        <!-- Scrollable Content Area -->
        <div class="scrollable-content">
            <!-- OMOBO Panel -->
            <div id="panel-omobo" class="content-panel active">
                
                <!-- Order Lifecycle Journey (Top Banner) -->
                <div class="lifecycle-banner">
                    <div class="lifecycle-banner-header">
                        <div class="lifecycle-title">
                            <span class="lifecycle-icon">🔄</span>
                            Order Lifecycle Journey
                        </div>
                        <div class="lifecycle-status">
                            <span class="current-stage-label">Current Stage:</span>
                            <span class="current-stage-badge">Warehouse (WMS)</span>
                        </div>
                    </div>
                    <div class="lifecycle-flow-banner" id="lifecycleFlowBanner">
                        <!-- Stage 1: Inventory -->
                        <div class="lifecycle-stage completed" data-stage="inventory">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
                            </div>
                            <div class="stage-label">Inventory</div>
                            <div class="stage-domain">OCPP</div>
                        </div>
                        <div class="stage-connector completed"></div>
                        
                        <!-- Stage 2: Order Submission -->
                        <div class="lifecycle-stage completed" data-stage="submission">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h18v18H3V3zm2 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h6v2H7v-2z"/></svg>
                            </div>
                            <div class="stage-label">Order<br>Submission</div>
                            <div class="stage-domain">Consumer OM</div>
                        </div>
                        <div class="stage-connector completed"></div>
                        
                        <!-- Stage 3: Order Management -->
                        <div class="lifecycle-stage completed" data-stage="management">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"/></svg>
                            </div>
                            <div class="stage-label">Order<br>Management</div>
                            <div class="stage-domain">Core ERP / SAP</div>
                        </div>
                        <div class="stage-connector completed"></div>
                        
                        <!-- Stage 4: Fulfillment -->
                        <div class="lifecycle-stage completed" data-stage="fulfillment">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 2.5L18.5 7 12 9.5 5.5 7 12 4.5zM4 8.5l7 3.5v7.5l-7-3.5V8.5zm9 11V12l7-3.5V16l-7 3.5z"/></svg>
                            </div>
                            <div class="stage-label">Fulfillment</div>
                            <div class="stage-domain">DFM / FUSION</div>
                        </div>
                        <div class="stage-connector completed"></div>
                        
                        <!-- Stage 5: WMS (Current) -->
                        <div class="lifecycle-stage current" data-stage="wms">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 20h20V4H2v16zm2-4h16V8H4v8zm2-6h12v4H6v-4z"/></svg>
                            </div>
                            <div class="stage-label">Warehouse<br>(WMS)</div>
                            <div class="stage-domain">Node / WMOS</div>
                        </div>
                        <div class="stage-connector pending"></div>
                        
                        <!-- Stage 6: Shipment -->
                        <div class="lifecycle-stage pending" data-stage="shipment">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                            </div>
                            <div class="stage-label">Shipment</div>
                            <div class="stage-domain">Logistics</div>
                        </div>
                        <div class="stage-connector pending"></div>
                        
                        <!-- Stage 7: Delivery -->
                        <div class="lifecycle-stage pending" data-stage="delivery">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3zm0 2.84L18.16 11H5.84L12 5.84z"/></svg>
                            </div>
                            <div class="stage-label">Delivery</div>
                            <div class="stage-domain">FedEx / Carrier</div>
                        </div>
                        
                        <!-- Return Flow -->
                        <div class="return-flow-connector"></div>
                        <div class="lifecycle-stage optional" data-stage="return">
                            <div class="stage-icon">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7h-2z"/></svg>
                            </div>
                            <div class="stage-label">Return</div>
                            <div class="stage-domain">Reverse Logistics</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <!-- LEFT COLUMN: Order Details & Line Items -->
                    <div class="left-column">
                    
                    <!-- Order Details Card -->
                    <div class="card order-details-card">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon purple">📦</div>
                                Order Details
                            </div>
                            <button class="card-action">↗</button>
                        </div>
                        
                        <!-- Order Summary Header -->
                        <div class="order-header-summary">
                            <div class="order-number-display">
                                <span class="order-label">Order</span>
                                <span class="order-num" id="orderNumberDisplay">Loading...</span>
                            </div>
                            <div class="order-total-display">
                                <span class="total-label">Total</span>
                                <span class="total-amount" id="orderTotalDisplay">—</span>
                            </div>
                        </div>

                        <!-- Order Info Grid -->
                        <div class="order-info-grid">
                            <div class="info-item">
                                <div class="info-label">Order Date</div>
                                <div class="info-value" id="orderDateDisplay">—</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Origin</div>
                                <div class="info-value" id="orderOriginDisplay">—</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Enterprise</div>
                                <div class="info-value" id="orderEnterpriseDisplay">—</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Shipping Method</div>
                                <div class="info-value" id="shippingMethodDisplay">—</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Status</div>
                                <div class="info-value" id="orderStatusDisplay"><span class="status-badge">—</span></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Payment Status</div>
                                <div class="info-value" id="paymentStatusDisplay"><span class="status-badge">—</span></div>
                            </div>
                        </div>

                        <!-- Billing & Shipping -->
                        <div class="customer-shipping-grid">
                            <div class="customer-section" id="billingSection">
                                <div class="section-label">💳 Billing Address</div>
                                <div class="customer-info">
                                    <div class="customer-name" id="billingName">—</div>
                                    <div class="customer-address" id="billingAddress1">—</div>
                                    <div class="customer-address" id="billingAddress2">—</div>
                                    <div class="customer-detail" id="billingEmail">✉️ —</div>
                                    <div class="customer-detail" id="billingPhone">📞 —</div>
                                </div>
                            </div>
                            <div class="customer-section" id="shippingSection">
                                <div class="section-label">📦 Ship To</div>
                                <div class="customer-info">
                                    <div class="customer-name" id="shippingName">—</div>
                                    <div class="customer-address" id="shippingAddress1">—</div>
                                    <div class="customer-address" id="shippingAddress2">—</div>
                                    <div class="customer-detail" id="shippingEmail">✉️ —</div>
                                    <div class="customer-detail" id="shippingPhone">📞 —</div>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Breakdown -->
                        <div class="financial-breakdown">
                            <div class="section-label">💰 Financial Breakdown</div>
                            <div class="finance-grid" id="financeGrid">
                                <div class="finance-row">
                                    <span id="productsLabel">Products</span>
                                    <span id="productsAmount">—</span>
                                </div>
                                <div class="finance-row">
                                    <span>Shipping</span>
                                    <span id="shippingAmount">—</span>
                                </div>
                                <div class="finance-row">
                                    <span id="shippingTaxLabel">Shipping Tax</span>
                                    <span id="shippingTaxAmount">—</span>
                                </div>
                                <div class="finance-row discount">
                                    <span>Discounts</span>
                                    <span id="discountsAmount">—</span>
                                </div>
                                <div class="finance-row">
                                    <span>Tax</span>
                                    <span id="taxAmount">—</span>
                                </div>
                                <div class="finance-row total">
                                    <span>Order Total</span>
                                    <span id="orderTotalAmount">—</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <!-- Test Scenario Card -->
                    <div class="card test-scenario-card">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon orange">🧪</div>
                                Test Scenario
                            </div>
                            <button class="card-action" onclick="editTestScenario()">✏️</button>
                        </div>
                        <div class="test-scenario-content" id="testScenarioContent">
                            <div class="scenario-title" id="scenarioTitle">
                                <span class="jira-badge" id="jiraTicket">MOOSE-XXXX</span>
                                <span class="scenario-summary" id="scenarioSummary">No scenario defined</span>
                            </div>
                            <div class="scenario-description" id="scenarioDescription">
                                <ul class="scenario-bullets">
                                    <li>Single Line, Single Unit</li>
                                    <li>Line Discount</li>
                                    <li>Shipping Fee</li>
                                    <li>CA-ON</li>
                                    <li>Return - Consumer fault</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    </div><!-- END LEFT COLUMN -->

                    <!-- RIGHT COLUMN: Data Points & Line Items -->
                    <div class="right-column">
                    
                    <!-- Order Data Points Card -->
                    <div class="card data-points-card">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon blue">📊</div>
                                Order Data Points
                            </div>
                            <button class="card-action">↗</button>
                        </div>
                        
                        <div class="sap-content">
                            <div class="sap-section">
                                <div class="sap-section-title">📋 Order References</div>
                                <div class="sap-row">
                                    <span class="sap-label">Consumer Order #</span>
                                    <span class="sap-value mono highlight" id="consumerOrderRef">—</span>
                                </div>
                                <div class="sap-row">
                                    <span class="sap-label">PO #</span>
                                    <select class="po-dropdown" id="poSelect" onchange="updateFulfiller(this.value)">
                                        <option value="">—</option>
                                        <!-- POs will be populated dynamically -->
                                    </select>
                                </div>
                                <div class="sap-row">
                                    <span class="sap-label">Fulfiller</span>
                                    <span class="sap-value" id="fulfillerDisplay">—</span>
                                </div>
                                <div class="sap-row">
                                    <span class="sap-label">SAP Order #</span>
                                    <span class="sap-value mono" id="sapOrderRef">—</span>
                                </div>
                                <div class="sap-row">
                                    <span class="sap-label">Delivery Doc #</span>
                                    <span class="sap-value mono" id="deliveryDocRef">—</span>
                                </div>
                                <div class="sap-row">
                                    <span class="sap-label">Accounting Doc #</span>
                                    <span class="sap-value mono" id="accountingDocRef">—</span>
                                </div>
                                <div class="po-note">
                                    <span class="note-icon">ℹ️</span>
                                    <span class="note-text">Select PO# from dropdown if order ships from multiple locations</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Line Items Card - Under Order Data Points -->
                    <div class="card line-items-card">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon green">🛒</div>
                                Line Items
                                <small style="color: var(--text-muted); font-weight: 400; margin-left: 8px;">hover for tax details</small>
                            </div>
                        </div>
                        <div class="product-list" id="lineItemsList" style="padding: 0 16px 16px 16px;">
                            <!-- Line items will be dynamically populated -->
                            <div class="product-item">
                                <div class="product-info">
                                    <div class="product-name">Loading line items...</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    </div><!-- END RIGHT COLUMN -->

                    <!-- Order Processing Services Card - Full Width -->
                    <div class="card environment-card" style="grid-column: 1 / -1;">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon green">🔗</div>
                                Services Used in Order Processing
                            </div>
                            <button class="card-action" onclick="refreshOrderServices()" title="Query Splunk for services">⟳</button>
                        </div>
                        
                        <div class="instances-content">
                            <div class="instances-header">
                                <div class="services-summary" id="servicesSummary">
                                    <span class="summary-stat"><strong id="totalServicesCount">--</strong> Services</span>
                                    <span class="summary-stat"><strong id="totalEventsCount">--</strong> Events</span>
                                    <span class="summary-stat"><strong id="categoriesCount">--</strong> Domains</span>
                                </div>
                                <span class="instances-timestamp" id="instancesLastUpdate">Select order to load services</span>
                            </div>
                            
                            <div class="instances-grid" id="instancesGrid">
                                <!-- Services will be dynamically populated based on order -->
                                <div class="instance-group loading-placeholder">
                                    <div class="group-title">Loading...</div>
                                    <div class="instance-item">
                                        <span class="instance-status pending">◌</span>
                                        <span class="instance-name">Select an order to see services</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="services-footer">
                                <span class="data-source-badge" id="dataSourceBadge">Awaiting Query</span>
                                <span class="splunk-query-link" id="splunkQueryLink" style="display: none;">
                                    <a href="#" onclick="showSplunkQuery(); return false;">View Splunk Query</a>
                                </span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- SAP Panel -->
            <div id="panel-sap" class="content-panel">
                <div class="sap-page-grid">
                    <!-- Left Column -->
                    <div class="sap-left-column">
                        
                        <!-- SAP Document References Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon blue">📋</div>
                                    SAP Document References
                                </div>
                            </div>
                            <div class="sap-references-grid" id="sapReferencesGrid">
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">Sales Order</span>
                                    <span class="sap-ref-value mono" id="sapSalesOrder">—</span>
                                </div>
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">Delivery Doc</span>
                                    <span class="sap-ref-value mono" id="sapDelivery">—</span>
                                </div>
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">Billing Doc</span>
                                    <span class="sap-ref-value mono" id="sapBilling">—</span>
                                </div>
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">Accounting Doc</span>
                                    <span class="sap-ref-value mono" id="sapAccounting">—</span>
                                </div>
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">Customer</span>
                                    <span class="sap-ref-value mono" id="sapCustomer">—</span>
                                </div>
                                <div class="sap-ref-item">
                                    <span class="sap-ref-label">PO Number</span>
                                    <span class="sap-ref-value mono" id="sapPONumber">—</span>
                                </div>
                            </div>
                        </div>

                        <!-- Test Scenario Card (SAP Page) -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon orange">🧪</div>
                                    Test Scenario
                                </div>
                            </div>
                            <div class="test-scenario-content" id="sapTestScenarioContent">
                                <div class="scenario-title">
                                    <span class="jira-badge" id="sapJiraTicket">MOOSE-XXXX</span>
                                    <span class="scenario-summary" id="sapScenarioSummary">No scenario defined</span>
                                </div>
                                <div class="scenario-description" id="sapScenarioDescription">
                                    <ul class="scenario-bullets">
                                        <li>Single Line, Single Unit</li>
                                        <li>Line Discount</li>
                                        <li>Shipping Fee</li>
                                        <li>CA-ON</li>
                                        <li>Return - Consumer fault</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- SAP Header Analysis - Financial Data Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon volt">💰</div>
                                    Financial Data (Header Analysis)
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-data-grid">
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Net Value</span>
                                        <span class="sap-data-value mono volt" id="sapNetValue">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Payment Terms</span>
                                        <span class="sap-data-value" id="sapPaymentTerms">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Incoterms</span>
                                        <span class="sap-data-value mono" id="sapIncoterms">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Order Type</span>
                                        <span class="sap-data-value" id="sapOrderType">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Sales Org</span>
                                        <span class="sap-data-value mono" id="sapSalesOrg">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Dist. Channel</span>
                                        <span class="sap-data-value mono" id="sapDistChannel">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Division</span>
                                        <span class="sap-data-value mono" id="sapDivision">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Pricing Date</span>
                                        <span class="sap-data-value" id="sapPricingDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Billing Date</span>
                                        <span class="sap-data-value" id="sapBillingDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Req. Delivery</span>
                                        <span class="sap-data-value" id="sapReqDeliveryDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Cancel Date</span>
                                        <span class="sap-data-value" id="sapCancelDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Total Weight</span>
                                        <span class="sap-data-value mono" id="sapTotalWeight">—</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SAP Header Analysis - Products Card -->
                        <div class="card sap-card" style="grid-column: span 2;">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon green">📋</div>
                                    SAP Line Items (Header Analysis)
                                </div>
                            </div>
                            <div class="sap-products-table" id="sapHeaderProducts">
                                <div class="sap-products-header">
                                    <span>Item</span>
                                    <span>Material</span>
                                    <span>Description</span>
                                    <span>Size</span>
                                    <span>Qty</span>
                                    <span>Net Price</span>
                                    <span>Division</span>
                                    <span>Profit Center</span>
                                    <span>Status</span>
                                </div>
                                <div class="sap-product-row">
                                    <span class="text-muted" style="grid-column: span 9; text-align: center;">Run SAP Header Analysis to populate product data</span>
                                </div>
                            </div>
                        </div>

                        <!-- Sales Order Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon green">📦</div>
                                    Sales Order
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📄 Order Header</div>
                                <div class="sap-data-grid" id="va03Header">
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Sales Order</span>
                                        <span class="sap-data-value mono" id="va03SalesOrder">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Order Type</span>
                                        <span class="sap-data-value">ZDCO (Direct Consumer)</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Sales Org</span>
                                        <span class="sap-data-value">CA10</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Distribution Channel</span>
                                        <span class="sap-data-value">10</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Division</span>
                                        <span class="sap-data-value">00</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Document Date</span>
                                        <span class="sap-data-value" id="va03DocDate">—</span>
                                    </div>
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">👥 Partners</div>
                                <div class="sap-partners-grid" id="va03Partners">
                                    <div class="sap-partner-item">
                                        <span class="sap-partner-type">Sold-To Party</span>
                                        <span class="sap-partner-value" id="va03SoldTo">8000350 - NIKE.COM</span>
                                    </div>
                                    <div class="sap-partner-item">
                                        <span class="sap-partner-type">Ship-To Party</span>
                                        <span class="sap-partner-value" id="va03ShipTo">—</span>
                                    </div>
                                    <div class="sap-partner-item">
                                        <span class="sap-partner-type">Bill-To Party</span>
                                        <span class="sap-partner-value">8000350 - NIKE.COM</span>
                                    </div>
                                    <div class="sap-partner-item">
                                        <span class="sap-partner-type">Payer</span>
                                        <span class="sap-partner-value">8000350 - NIKE.COM</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Delivery Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon orange">🚚</div>
                                    Delivery Document
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📄 Delivery Header</div>
                                <div class="sap-data-grid" id="vl03nHeader">
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Delivery Doc</span>
                                        <span class="sap-data-value mono" id="vl03nDeliveryNum">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Delivery Type</span>
                                        <span class="sap-data-value">LF (Standard)</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Shipping Point</span>
                                        <span class="sap-data-value">1042 (Brimley)</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Goods Issue Date</span>
                                        <span class="sap-data-value" id="vl03nGIDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Goods Issue Status</span>
                                        <span class="sap-data-value status-complete">Posted</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Total Weight</span>
                                        <span class="sap-data-value" id="vl03nWeight">—</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Right Column -->
                    <div class="sap-right-column">

                        <!-- Billing Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon purple">💵</div>
                                    Billing Document
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📄 Billing Header</div>
                                <div class="sap-data-grid" id="vf03Header">
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Billing Doc</span>
                                        <span class="sap-data-value mono" id="vf03BillingNum">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Billing Type</span>
                                        <span class="sap-data-value" id="vf03BillingType">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Billing Date</span>
                                        <span class="sap-data-value" id="vf03BillingDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Net Value</span>
                                        <span class="sap-data-value highlight" id="vf03NetValue">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Currency</span>
                                        <span class="sap-data-value" id="vf03Currency">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Payer</span>
                                        <span class="sap-data-value" id="vf03Payer">—</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Accounting Document (FB03) Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon cyan">📊</div>
                                    Accounting Document
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📄 Document Header</div>
                                <div class="sap-data-grid" id="fb03Header">
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Accounting Doc</span>
                                        <span class="sap-data-value mono" id="fb03DocNum">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Company Code</span>
                                        <span class="sap-data-value" id="fb03CompanyCode">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Fiscal Year</span>
                                        <span class="sap-data-value" id="fb03FiscalYear">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Period</span>
                                        <span class="sap-data-value" id="fb03Period">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Posting Date</span>
                                        <span class="sap-data-value" id="fb03PostingDate">—</span>
                                    </div>
                                    <div class="sap-data-item">
                                        <span class="sap-data-label">Document Type</span>
                                        <span class="sap-data-value" id="fb03DocType">—</span>
                                    </div>
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📒 GL Account Postings</div>
                                <div class="sap-gl-table" id="fb03GLPostings">
                                    <div class="sap-gl-header">
                                        <span>GL Account</span>
                                        <span>Description</span>
                                        <span>Debit</span>
                                        <span>Credit</span>
                                    </div>
                                    <!-- GL rows will be dynamically populated from sap_data.gl_postings -->
                                    <div class="sap-gl-row">
                                        <span class="mono">—</span>
                                        <span>Loading GL postings...</span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Analysis - Line Item Breakdown Card -->
                        <div class="card sap-card financial-summary-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon yellow">💰</div>
                                    Financial Analysis - Line Item Breakdown
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📦 Line Item Tax Details</div>
                                <div class="sap-line-items-table" id="sapLineItemsTaxFull">
                                    <div class="sap-line-header">
                                        <span>Product</span>
                                        <span>Division</span>
                                        <span>Tax Type</span>
                                        <span>Rate</span>
                                        <span>Tax Code</span>
                                        <span>Unit Price</span>
                                        <span>Tax Amt</span>
                                    </div>
                                    <div class="sap-line-row" id="sapLineItemsFullPlaceholder">
                                        <span style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">Loading line items...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="sap-financial-summary">
                                <div class="summary-row">
                                    <span class="summary-label">Products Subtotal</span>
                                    <span class="summary-value" id="sapProductsSubtotal">—</span>
                                </div>
                                <div class="summary-row">
                                    <span class="summary-label">Products Tax</span>
                                    <span class="summary-value" id="sapProductsTax">—</span>
                                </div>
                                <div class="summary-row">
                                    <span class="summary-label">Shipping</span>
                                    <span class="summary-value" id="sapShippingFull">—</span>
                                </div>
                                <div class="summary-row">
                                    <span class="summary-label">Shipping Tax</span>
                                    <span class="summary-value" id="sapShippingTaxFull">—</span>
                                </div>
                                <div class="summary-row discount">
                                    <span class="summary-label">Discount</span>
                                    <span class="summary-value" id="sapDiscountFull">—</span>
                                </div>
                                <div class="summary-row grand-total">
                                    <span class="summary-label">Order Total</span>
                                    <span class="summary-value" id="sapOrderTotalFull">—</span>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Analysis Card -->
                        <div class="card sap-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <div class="card-title-icon yellow">💰</div>
                                    Financial Analysis
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">🏷️ Order Tax Summary</div>
                                <div class="sap-tax-grid" id="sapTaxBreakdown">
                                    <div class="sap-tax-item">
                                        <span class="sap-tax-label">Province</span>
                                        <span class="sap-tax-value" id="sapProvince">YT (Yukon)</span>
                                    </div>
                                    <div class="sap-tax-item">
                                        <span class="sap-tax-label">Standard Rate</span>
                                        <span class="sap-tax-value" id="sapStandardRate">5% GST</span>
                                    </div>
                                    <div class="sap-tax-item">
                                        <span class="sap-tax-label">Total Tax</span>
                                        <span class="sap-tax-value highlight" id="sapTotalTax">CA$6.08</span>
                                    </div>
                                    <div class="sap-tax-item">
                                        <span class="sap-tax-label">Order Total</span>
                                        <span class="sap-tax-value highlight" id="sapOrderTotal">CA$127.53</span>
                                    </div>
                                </div>
                            </div>
                            <div class="sap-section">
                                <div class="sap-section-title">📦 Line Item Tax Breakdown</div>
                                <div class="sap-line-items-table" id="sapLineItemsTax">
                                    <div class="sap-line-header">
                                        <span>Product</span>
                                        <span>Division</span>
                                        <span>Tax Type</span>
                                        <span>Rate</span>
                                        <span>Tax Code</span>
                                        <span>Tax Amt</span>
                                    </div>
                                    <!-- Line items will be populated dynamically -->
                                    <div class="sap-line-row" id="sapLineItemsPlaceholder">
                                        <span colspan="6" style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">Loading line items...</span>
                                    </div>
                                </div>
                                <div class="sap-tax-totals" id="sapTaxTotals">
                                    <div class="tax-total-row">
                                        <span class="tax-total-label">Subtotal (Products)</span>
                                        <span class="tax-total-value" id="sapSubtotalProducts">—</span>
                                    </div>
                                    <div class="tax-total-row">
                                        <span class="tax-total-label">Shipping</span>
                                        <span class="tax-total-value" id="sapShippingAmount">—</span>
                                    </div>
                                    <div class="tax-total-row">
                                        <span class="tax-total-label">Shipping Tax</span>
                                        <span class="tax-total-value" id="sapShippingTax">—</span>
                                    </div>
                                    <div class="tax-total-row">
                                        <span class="tax-total-label">Discount</span>
                                        <span class="tax-total-value discount" id="sapDiscountAmount">—</span>
                                    </div>
                                    <div class="tax-total-row grand-total">
                                        <span class="tax-total-label">Grand Total</span>
                                        <span class="tax-total-value" id="sapGrandTotal">—</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Fulfillment Panel -->
            <div id="panel-fulfillment" class="content-panel">
                <div class="dashboard-grid">
                    <div class="card" style="grid-column: 1 / -1;">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon pink">📦</div>
                                Fulfillment Details
                                <span class="category-badge">Coming Soon</span>
                            </div>
                        </div>
                        <div class="placeholder-content">
                            <div class="placeholder-icon">🚀</div>
                            <div class="placeholder-text">Fulfillment Details</div>
                            <div class="placeholder-subtext">This section will integrate with a new fulfillment tracking tool. Placeholder for future development.</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- WMS Panel -->
            <div id="panel-wms" class="content-panel">
                <div class="dashboard-grid">
                    <div class="card" style="grid-column: 1 / -1;">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-title-icon orange">🏭</div>
                                WMS Details
                                <span class="category-badge">Placeholder</span>
                            </div>
                        </div>
                        <div class="placeholder-content">
                            <div class="placeholder-icon">🏭</div>
                            <div class="placeholder-text">WMS Details</div>
                            <div class="placeholder-subtext">Warehouse Management System data will be captured and displayed here. Content to be added.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        // API Configuration
        const API_BASE = 'http://localhost:5052/api/v5';
        let currentOrderData = null;
        let currentOrderNumber = null;

        // Toggle products expandable section
        function toggleProducts(element) {
            element.classList.toggle('expanded');
            const productsSection = element.nextElementSibling;
            productsSection.classList.toggle('expanded');
        }

        // Update fulfiller when PO is selected
        function updateFulfiller(poValue) {
            const poSelect = document.getElementById('poSelect');
            const selectedOption = poSelect.options[poSelect.selectedIndex];
            const fulfiller = selectedOption.getAttribute('data-fulfiller');
            document.getElementById('fulfillerDisplay').textContent = fulfiller;
        }

        // Panel switching
        function switchPanel(panelId) {
            document.querySelectorAll('.content-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.getElementById('panel-' + panelId).classList.add('active');
            document.querySelector(`.nav-item[data-panel="${panelId}"]`).classList.add('active');
            
            // Load SAP data when switching to SAP panel
            if (panelId === 'sap' && currentOrderData) {
                loadSAPDetails();
            }
        }

        // Load and display SAP Details
        function loadSAPDetails() {
            if (!currentOrderData) return;
            
            // Reset SAP panel first to clear old data
            resetSAPPanel();
            
            const orderNumber = currentOrderData.orderNumber;
            
            // Fetch full order data including sap_data (use API_BASE for correct port)
            fetch(`${API_BASE}/orders/${orderNumber}/full`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.order) {
                        updateSAPPanel(data.order);
                    }
                })
                .catch(error => {
                    console.error('Error loading SAP data:', error);
                    // Try to use existing data
                    updateSAPPanelFromCurrent();
                });
        }

        // Update SAP panel with order data
        function updateSAPPanel(order) {
            const sapData = order.sap_data || {};
            const apiData = order.api_data || {};
            const transactions = sapData.transactions || {};
            const headerAnalysis = sapData.header_analysis || {};
            
            // Update Document References (use *_doc field names from sap_data.json)
            updateSAPElement('sapSalesOrder', sapData.sap_order);
            updateSAPElement('sapDelivery', sapData.delivery_doc || sapData.delivery);
            updateSAPElement('sapBilling', sapData.billing_doc || sapData.billing);
            updateSAPElement('sapAccounting', sapData.accounting_doc || sapData.billing_doc); // Often same as billing
            updateSAPElement('sapCustomer', sapData.partners?.sold_to_party?.number || sapData.customer);
            updateSAPElement('sapPONumber', sapData.po_number);
            
            // Update Header Analysis Financial Data if available
            if (headerAnalysis.financial) {
                const fin = headerAnalysis.financial;
                updateSAPElement('sapNetValue', `${fin.net_value} ${fin.currency}`);
                updateSAPElement('sapPaymentTerms', fin.payment_terms_text || fin.payment_terms);
                updateSAPElement('sapIncoterms', fin.incoterms);
                updateSAPElement('sapSalesOrg', fin.sales_org);
                updateSAPElement('sapDistChannel', fin.distribution_channel);
                updateSAPElement('sapDivision', fin.division);
                updateSAPElement('sapOrderType', `${fin.order_type} (${fin.order_type_text})`);
                updateSAPElement('sapPricingDate', fin.pricing_date);
                updateSAPElement('sapBillingDate', fin.billing_date);
            } else if (sapData.net_value || sapData.sales_org || sapData.order_type) {
                // Fallback: Read from root-level sapData (return order capture format)
                updateSAPElement('sapNetValue', `${sapData.net_value || '0.00'} ${sapData.currency || 'CAD'}`);
                updateSAPElement('sapPaymentTerms', sapData.payment_terms_text || sapData.payment_terms);
                updateSAPElement('sapIncoterms', sapData.incoterms || 'FOB ORIGIN');
                updateSAPElement('sapSalesOrg', sapData.sales_org);
                updateSAPElement('sapDistChannel', sapData.distribution_channel || '10');
                updateSAPElement('sapDivision', sapData.division || '98');
                updateSAPElement('sapOrderType', sapData.order_type ? `${sapData.order_type} (${sapData.order_type_text || 'Return Order'})` : null);
                updateSAPElement('sapPricingDate', sapData.pricing_date || sapData.doc_date);
                updateSAPElement('sapBillingDate', sapData.billing_date || sapData.doc_date);
            }
            
            // Update Header Analysis Product Data if available
            if (headerAnalysis.products && headerAnalysis.products.length > 0) {
                updateSAPProductsTable(headerAnalysis.products);
            }
            
            // Update Order Details from header analysis
            if (headerAnalysis.order_details) {
                const details = headerAnalysis.order_details;
                updateSAPElement('sapShipToName', details.ship_to_name);
                updateSAPElement('sapShipToAddress', details.ship_to_address);
                updateSAPElement('sapReqDeliveryDate', details.requested_delivery_date);
                updateSAPElement('sapCancelDate', details.cancel_date);
                updateSAPElement('sapTotalWeight', details.total_weight);
                updateSAPElement('sapTotalVolume', details.total_volume);
            } else if (sapData.ship_to_name || sapData.cancel_date) {
                // Fallback: Read from root-level sapData (return order capture format)
                updateSAPElement('sapShipToName', sapData.ship_to_name);
                const address = [sapData.street, sapData.city, sapData.region, sapData.postal_code, sapData.country].filter(Boolean).join(', ');
                updateSAPElement('sapShipToAddress', address || null);
                updateSAPElement('sapReqDeliveryDate', sapData.req_delivery_date || sapData.overview?.['ctxtJ_3ASZFH-J_3ARQDA']);
                updateSAPElement('sapCancelDate', sapData.cancel_date || sapData.overview?.['ctxtJ_3ASZFH-J_3ACADA']);
                updateSAPElement('sapTotalWeight', sapData.total_weight);
                updateSAPElement('sapTotalVolume', sapData.total_volume);
            }
            
            // Show AFS tabs captured
            if (headerAnalysis.afs_tabs_captured) {
                const afsTabs = document.getElementById('afsTabsCaptured');
                if (afsTabs) {
                    afsTabs.innerHTML = headerAnalysis.afs_tabs_captured.map(tab => 
                        `<span class="sap-tab-badge">${tab.replace(/_/g, ' ')}</span>`
                    ).join('');
                }
            }
            
            // Update VA03 Section
            if (transactions.VA03) {
                const va03 = transactions.VA03;
                updateSAPStatus('va03Status', va03.status);
                updateSAPElement('va03SoldTo', va03.sold_to ? `${va03.sold_to} - ${va03.ship_to || 'NIKE.COM'}` : '—');
                
                // Update tabs analyzed
                if (va03.tabs_analyzed) {
                    const tabsList = document.getElementById('va03Tabs');
                    if (tabsList) {
                        tabsList.innerHTML = va03.tabs_analyzed.map(tab => 
                            `<span class="sap-tab-badge">${tab}</span>`
                        ).join('');
                    }
                }
            }
            
            // Update VA03 Section - Sales Order fields
            updateSAPElement('va03SalesOrder', sapData.sap_order);
            updateSAPElement('va03DocDate', sapData.va03?.document_date || sapData.header_data?.document_date || apiData.orderDate?.split('T')[0]);
            
            // Update VL03N Section - Delivery fields
            updateSAPElement('vl03nDeliveryNum', sapData.delivery_doc || sapData.delivery);
            updateSAPElement('vl03nGIDate', sapData.vl03n?.goods_issue_date || sapData.shipping_data?.goods_issue_date);
            updateSAPElement('vl03nWeight', sapData.vl03n?.total_weight || sapData.header_data?.total_weight || '0.090 KG');
            
            // Update VF03 Section - Billing fields
            updateSAPElement('vf03BillingNum', sapData.billing_doc || sapData.billing);
            updateSAPElement('vf03BillingDate', sapData.vf03?.billing_date || sapData.billing_data?.billing_date);
            updateSAPElement('vf03BillingType', sapData.vf03?.billing_type || sapData.billing_type);
            updateSAPElement('vf03Currency', sapData.vf03?.currency || sapData.currency || (apiData.currency ? apiData.currency : null));
            updateSAPElement('vf03Payer', sapData.vf03?.payer || sapData.payer || sapData.partners?.payer?.number);
            
            // Update net value from SAP data or API data
            if (sapData.vf03?.net_value) {
                updateSAPElement('vf03NetValue', `CA$${sapData.vf03.net_value}`);
            } else if (sapData.billing_doc && apiData.totals) {
                updateSAPElement('vf03NetValue', `CA$${apiData.totals.orderTotal?.toFixed(2) || '0.00'}`);
            }
            
            // Update FB03 Section
            if (transactions.FB03) {
                const fb03 = transactions.FB03;
                updateSAPStatus('fb03Status', fb03.status);
                updateSAPElement('fb03DocNum', sapData.accounting_doc || sapData.billing_doc);
            }
            
            // Update FB03 additional fields from fb03 object or top-level sap_data
            const fb03Data = sapData.fb03 || {};
            updateSAPElement('fb03CompanyCode', fb03Data.company_code || sapData.company_code);
            updateSAPElement('fb03FiscalYear', fb03Data.fiscal_year || sapData.fiscal_year);
            updateSAPElement('fb03Period', fb03Data.period);
            updateSAPElement('fb03PostingDate', fb03Data.posting_date);
            if (fb03Data.doc_type) {
                updateSAPElement('fb03DocType', `${fb03Data.doc_type} (${fb03Data.doc_type_desc || 'Billing'})`);
            }
            
            // Update GL Account Postings from sap_data.gl_postings
            if (sapData.gl_postings && sapData.gl_postings.length > 0) {
                updateGLPostingsTable(sapData.gl_postings);
            }
            
            // Update Tax Information and Line Items breakdown
            const lineItems = apiData.lineItems || [];
            const firstItem = lineItems[0];
            const province = firstItem?.shipState?.replace('CA-', '') || 'ON';
            const taxInfo = getTaxInfoForProvince(province);
            
            // Update tax summary
            updateSAPElement('sapProvince', `${province} (${getProvinceName(province)})`);
            updateSAPElement('sapStandardRate', taxInfo.displayRate);
            
            if (apiData.totals) {
                updateSAPElement('sapTotalTax', `CA$${apiData.totals.tax?.toFixed(2) || '0.00'}`);
                updateSAPElement('sapOrderTotal', `CA$${apiData.totals.orderTotal?.toFixed(2) || '0.00'}`);
            }
            
            // Populate line items tax breakdown
            updateLineItemsTaxTable(lineItems, province, apiData.totals);
            
            // Populate full-width financial line items table
            updateFullWidthLineItemsTable(lineItems, province, apiData.totals);
            
            // Populate profit center by item
            updateProfitCenterTable(lineItems);
            
            // Populate SAP Header Products table from billing_items
            if (sapData.billing_items && sapData.billing_items.length > 0) {
                updateSAPProductsTable(sapData.billing_items);
            }
            
            console.log('SAP Panel updated with order data');
        }

        // Update GL Account Postings table from sap_data.gl_postings
        function updateGLPostingsTable(glPostings) {
            const container = document.getElementById('fb03GLPostings');
            if (!container) return;
            
            let totalDebit = 0;
            let totalCredit = 0;
            
            // Generate GL rows
            const rows = glPostings.map(posting => {
                const amount = Math.abs(posting.amount || 0);
                const isDebit = posting.amount > 0;
                
                if (isDebit) {
                    totalDebit += amount;
                } else {
                    totalCredit += amount;
                }
                
                return `
                    <div class="sap-gl-row">
                        <span class="mono">${posting.account || '—'}</span>
                        <span>${posting.description || posting.text || '—'}</span>
                        <span class="${isDebit ? 'debit' : ''}">${isDebit ? `CA$${amount.toFixed(2)}` : ''}</span>
                        <span class="${!isDebit ? 'credit' : ''}">${!isDebit ? `CA$${amount.toFixed(2)}` : ''}</span>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = `
                <div class="sap-gl-header">
                    <span>GL Account</span>
                    <span>Description</span>
                    <span>Debit</span>
                    <span>Credit</span>
                </div>
                ${rows}
                <div class="sap-gl-footer">
                    <span></span>
                    <span>Total (must balance to 0)</span>
                    <span class="debit">CA$${totalDebit.toFixed(2)}</span>
                    <span class="credit">CA$${totalCredit.toFixed(2)}</span>
                </div>
            `;
        }

        // Update full-width line items financial table
        function updateFullWidthLineItemsTable(lineItems, province, totals) {
            const container = document.getElementById('sapLineItemsTaxFull');
            if (!container) return;
            
            const taxInfo = getTaxInfoForProvince(province);
            let productSubtotal = 0;
            let productTax = 0;
            
            // Build line item rows
            let rowsHtml = `
                <div class="sap-line-header">
                    <span>Product</span>
                    <span>Division</span>
                    <span>Tax Type</span>
                    <span>Rate</span>
                    <span>Tax Code</span>
                    <span>Unit Price</span>
                    <span>Tax Amt</span>
                </div>
            `;
            
            if (lineItems.length === 0) {
                rowsHtml += `
                    <div class="sap-line-row">
                        <span style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">No line items available</span>
                    </div>
                `;
            } else {
                lineItems.forEach((item, idx) => {
                    const productName = item.productName || `Item ${idx + 1}`;
                    const shortName = productName.length > 35 ? productName.substring(0, 35) + '...' : productName;
                    const divisionCode = item.divisionCode || item.productDetails?.divisionCode || '10';
                    const isKids = isKidsProduct(item);
                    const taxType = isKids ? 'Reduced' : 'Standard';
                    const rate = isKids ? '5%' : taxInfo.totalRate;
                    const taxCode = isKids ? 'E2' : taxInfo.code;
                    
                    // Get item price
                    const itemPrice = parseFloat(item.itemPrice || item.unitPrice || item.productDetails?.price || 0);
                    const itemTaxRate = isKids ? 0.05 : (taxInfo.totalRateNum / 100);
                    const itemTax = itemPrice * itemTaxRate;
                    
                    productSubtotal += itemPrice;
                    productTax += itemTax;
                    
                    rowsHtml += `
                        <div class="sap-line-row">
                            <span class="product-name" title="${productName}">${shortName}</span>
                            <span class="division-badge ${getDivisionName(divisionCode).toLowerCase()}">${getDivisionDisplay(divisionCode)}</span>
                            <span class="tax-type ${taxType.toLowerCase()}">${taxType}</span>
                            <span class="tax-rate">${rate}</span>
                            <span class="tax-code">${taxCode}</span>
                            <span class="unit-price">CA$${itemPrice.toFixed(2)}</span>
                            <span class="tax-amount">CA$${itemTax.toFixed(2)}</span>
                        </div>
                    `;
                });
            }
            
            container.innerHTML = rowsHtml;
            
            // Calculate totals
            const shipping = totals?.shipping || 0;
            const shippingTax = shipping * (taxInfo.totalRateNum / 100);
            const discount = totals?.discount || 0;
            const orderTotal = totals?.orderTotal || (productSubtotal + productTax + shipping + shippingTax - discount);
            
            // Update summary fields
            updateSAPElement('sapProductsSubtotal', `CA$${productSubtotal.toFixed(2)}`);
            updateSAPElement('sapProductsTax', `CA$${productTax.toFixed(2)}`);
            updateSAPElement('sapShippingFull', `CA$${shipping.toFixed(2)}`);
            updateSAPElement('sapShippingTaxFull', `CA$${shippingTax.toFixed(2)}`);
            updateSAPElement('sapDiscountFull', discount > 0 ? `-CA$${discount.toFixed(2)}` : '—');
            updateSAPElement('sapOrderTotalFull', `CA$${orderTotal.toFixed(2)}`);
        }

        // Update line items tax breakdown table
        function updateLineItemsTaxTable(lineItems, province, totals) {
            const container = document.getElementById('sapLineItemsTax');
            if (!container) return;
            
            const taxInfo = getTaxInfoForProvince(province);
            let productSubtotal = 0;
            let totalTax = 0;
            
            // Build line item rows
            let rowsHtml = `
                <div class="sap-line-header">
                    <span>Product</span>
                    <span>Division</span>
                    <span>Tax Type</span>
                    <span>Rate</span>
                    <span>Tax Code</span>
                    <span>Tax Amt</span>
                </div>
            `;
            
            if (lineItems.length === 0) {
                rowsHtml += `
                    <div class="sap-line-row">
                        <span style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">No line items available</span>
                    </div>
                `;
            } else {
                lineItems.forEach((item, idx) => {
                    const productName = item.productName || `Item ${idx + 1}`;
                    const shortName = productName.length > 30 ? productName.substring(0, 30) + '...' : productName;
                    const divisionCode = item.divisionCode || item.productDetails?.divisionCode || '10';
                    const division = getDivisionName(divisionCode);
                    const isKids = isKidsProduct(item);
                    const taxType = isKids ? 'Reduced' : 'Standard';
                    const rate = isKids ? '5%' : taxInfo.totalRate;
                    const taxCode = isKids ? 'E2' : taxInfo.code;
                    
                    // Get item price and calculate tax from actual order data
                    const itemPrice = parseFloat(item.itemPrice || item.unitPrice || item.productDetails?.price || 0);
                    const itemTaxRate = isKids ? 0.05 : (taxInfo.totalRateNum / 100);
                    // Use actual tax from totals if available (product tax = total tax - shipping tax)
                    const actualProductTax = totals?.tax ? (totals.tax - (totals.shippingTax || 0)) : null;
                    const itemTax = actualProductTax !== null ? (actualProductTax / lineItems.length) : (itemPrice * itemTaxRate);
                    
                    productSubtotal += itemPrice;
                    totalTax += itemTax;
                    
                    rowsHtml += `
                        <div class="sap-line-row">
                            <span class="product-name" title="${productName}">${shortName}</span>
                            <span class="division-badge ${division.toLowerCase()}">${divisionCode === '10' ? 'FTW' : divisionCode === '20' ? 'APP' : 'EQP'}</span>
                            <span class="tax-type ${taxType.toLowerCase()}">${taxType}</span>
                            <span class="tax-rate">${rate}</span>
                            <span class="tax-code">${taxCode}</span>
                            <span class="tax-amount">CA$${itemTax.toFixed(2)}</span>
                        </div>
                    `;
                });
            }
            
            container.innerHTML = rowsHtml;
            
            // Update totals from actual API values
            const shipping = totals?.shipping || totals?.shippingTotal || 0;
            const shippingTax = totals?.shippingTax || (shipping * (taxInfo.totalRateNum / 100));
            const discount = Math.abs(totals?.discount || totals?.discountTotal || 0);
            const productTax = totals?.tax ? (totals.tax - shippingTax) : totalTax;
            const grandTotal = totals?.orderTotal || (productSubtotal + productTax + shipping + shippingTax - discount);
            
            updateSAPElement('sapSubtotalProducts', `CA$${productSubtotal.toFixed(2)}`);
            updateSAPElement('sapShippingAmount', `CA$${shipping.toFixed(2)}`);
            updateSAPElement('sapShippingTax', `CA$${shippingTax.toFixed(2)}`);
            updateSAPElement('sapDiscountAmount', discount > 0 ? `-CA$${discount.toFixed(2)}` : '—');
            updateSAPElement('sapGrandTotal', `CA$${grandTotal.toFixed(2)}`);
        }

        // Update profit center table
        function updateProfitCenterTable(lineItems) {
            const container = document.getElementById('sapProfitCenterTable');
            if (!container) return;
            
            let rowsHtml = `
                <div class="sap-pc-header">
                    <span>Product</span>
                    <span>Division</span>
                    <span>Profit Center</span>
                    <span>Plant</span>
                </div>
            `;
            
            if (lineItems.length === 0) {
                rowsHtml += `
                    <div class="sap-pc-row">
                        <span style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">No line items available</span>
                    </div>
                `;
            } else {
                lineItems.forEach((item, idx) => {
                    const productName = item.productName || `Item ${idx + 1}`;
                    const shortName = productName.length > 25 ? productName.substring(0, 25) + '...' : productName;
                    const divisionCode = item.divisionCode || item.productDetails?.divisionCode || '10';
                    const profitCenter = item.profitCenter || item.productDetails?.profitCenter || '622001';
                    const plant = '1042'; // Brimley
                    
                    rowsHtml += `
                        <div class="sap-pc-row">
                            <span title="${productName}">${shortName}</span>
                            <span class="division-badge ${getDivisionName(divisionCode).toLowerCase()}">${getDivisionDisplay(divisionCode)}</span>
                            <span class="pc-value">${profitCenter}</span>
                            <span>${plant}</span>
                        </div>
                    `;
                });
            }
            
            container.innerHTML = rowsHtml;
        }

        // Get division name from code
        function getDivisionName(code) {
            const divisions = { '10': 'Footwear', '20': 'Apparel', '30': 'Equipment' };
            return divisions[code] || 'Unknown';
        }

        // Get division display code
        function getDivisionDisplay(code) {
            const displays = { '10': '10-FTW', '20': '20-APP', '30': '30-EQP' };
            return displays[code] || code;
        }

        // Check if product is kids/children's (reduced tax rate)
        function isKidsProduct(item) {
            const name = (item.productName || '').toLowerCase();
            const gender = (item.gender || item.productDetails?.gender || '').toLowerCase();
            return name.includes('kids') || name.includes('child') || name.includes('youth') || 
                   name.includes('boys') || name.includes('girls') ||
                   gender.includes('youth') || gender.includes('kids');
        }

        // Get full tax info for province
        function getTaxInfoForProvince(province) {
            const taxInfo = {
                'AB': { code: 'Z1', displayRate: '5% GST', totalRate: '5%', totalRateNum: 5 },
                'BC': { code: 'E1', displayRate: '5% GST + 7% PST', totalRate: '12%', totalRateNum: 12 },
                'MB': { code: 'E3', displayRate: '5% GST + 7% RST', totalRate: '12%', totalRateNum: 12 },
                'NB': { code: 'X4', displayRate: '15% HST', totalRate: '15%', totalRateNum: 15 },
                'NL': { code: 'X4', displayRate: '15% HST', totalRate: '15%', totalRateNum: 15 },
                'NS': { code: 'O8', displayRate: '15% HST', totalRate: '15%', totalRateNum: 15 },
                'NT': { code: 'Z1', displayRate: '5% GST', totalRate: '5%', totalRateNum: 5 },
                'NU': { code: 'Z1', displayRate: '5% GST', totalRate: '5%', totalRateNum: 5 },
                'ON': { code: 'Z8', displayRate: '13% HST', totalRate: '13%', totalRateNum: 13 },
                'PE': { code: 'Z9', displayRate: '15% HST', totalRate: '15%', totalRateNum: 15 },
                'QC': { code: 'E4', displayRate: '5% GST + 9.975% QST', totalRate: '14.975%', totalRateNum: 14.975 },
                'SK': { code: 'E5', displayRate: '5% GST + 6% PST', totalRate: '11%', totalRateNum: 11 },
                'YT': { code: 'Z1', displayRate: '5% GST', totalRate: '5%', totalRateNum: 5 }
            };
            return taxInfo[province] || { code: 'Z8', displayRate: '13% HST', totalRate: '13%', totalRateNum: 13 };
        }

        // Update SAP panel from current cached data
        function updateSAPPanelFromCurrent() {
            if (!currentOrderData) return;
            
            // Use sapDocuments if available
            const sapDocs = currentOrderData.sapDocuments || {};
            
            updateSAPElement('sapSalesOrder', sapDocs.salesOrder);
            updateSAPElement('sapDelivery', sapDocs.deliveryDoc);
            updateSAPElement('sapBilling', sapDocs.billingDoc);
            updateSAPElement('sapAccounting', sapDocs.accountingDoc);
            updateSAPElement('sapCustomer', sapDocs.customer);
            
            // Update from current order data
            if (currentOrderData.totals) {
                updateSAPElement('vf03NetValue', `CA$${currentOrderData.totals.orderTotal?.toFixed(2) || '0.00'}`);
                updateSAPElement('sapGSTAmount', `CA$${currentOrderData.totals.tax?.toFixed(2) || '0.00'}`);
                updateSAPElement('sapTotalTax', `CA$${currentOrderData.totals.tax?.toFixed(2) || '0.00'}`);
            }
        }

        // Update SAP Products table from billing_items
        function updateSAPProductsTable(products) {
            const container = document.getElementById('sapHeaderProducts');
            if (!container) return;
            
            let html = `
                <div class="sap-products-header">
                    <span>Item</span>
                    <span>Material</span>
                    <span>Description</span>
                    <span>Size</span>
                    <span>Qty</span>
                    <span>Net Price</span>
                    <span>Division</span>
                    <span>Profit Center</span>
                    <span>Status</span>
                </div>
            `;
            
            products.forEach(item => {
                // Map billing_items fields (item, material, description, size, qty, unit, net_price, division, profit_center, status)
                const itemNum = item.item || item.item_number || '—';
                const material = item.material || '—';
                const description = item.description || '—';
                const size = item.size || '—';
                const qty = item.qty || item.quantity || 1;
                const unit = item.unit || item.uom || 'EA';
                const netPrice = item.net_price || item.net_value || 0;
                const division = item.division || '—';
                const profitCenter = item.profit_center || '—';
                const status = item.status || item.overall_status || '—';
                
                const statusClass = status === 'Complete' || status === 'Completed' ? 'completed' : 
                                   status === 'Open' ? 'open' : 'pending';
                html += `
                    <div class="sap-product-row">
                        <span class="mono">${itemNum}</span>
                        <span class="mono accent">${material}</span>
                        <span>${description}</span>
                        <span class="mono">${size}</span>
                        <span class="mono">${qty} ${unit}</span>
                        <span class="mono volt">CA$${parseFloat(netPrice).toFixed(2)}</span>
                        <span class="mono">${division}</span>
                        <span class="mono">${profitCenter}</span>
                        <span class="status-badge ${statusClass}">${status}</span>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // Helper to update SAP element
        function updateSAPElement(elementId, value) {
            const el = document.getElementById(elementId);
            if (el) {
                el.textContent = value || '—';
            }
        }

        // Reset SAP panel to clear all data (called when loading new order)
        function resetSAPPanel() {
            // Reset all SAP document references
            const sapElements = [
                'sapSalesOrder', 'sapDelivery', 'sapBilling', 'sapAccounting', 
                'sapCustomer', 'sapPONumber',
                // VF03 - Billing
                'vf03BillingNum', 'vf03BillingDate', 'vf03BillingType', 
                'vf03NetValue', 'vf03Currency', 'vf03Payer',
                // FB03 - Accounting
                'fb03DocNum', 'fb03CompanyCode', 'fb03FiscalYear', 
                'fb03Period', 'fb03PostingDate', 'fb03DocType',
                // VA03 - Sales Order
                'va03SalesOrder', 'va03DocDate', 'va03SoldTo',
                // VL03N - Delivery
                'vl03nDeliveryNum', 'vl03nGIDate', 'vl03nWeight',
                // Header Analysis
                'sapNetValue', 'sapPaymentTerms', 'sapIncoterms',
                'sapSalesOrg', 'sapDistChannel', 'sapDivision',
                'sapOrderType', 'sapPricingDate', 'sapBillingDate',
                'sapShipToName', 'sapShipToAddress', 'sapReqDeliveryDate',
                'sapCancelDate', 'sapTotalWeight', 'sapTotalVolume',
                // Tax info
                'sapProvince', 'sapStandardRate', 'sapTotalTax', 'sapOrderTotal',
                'sapGSTAmount'
            ];
            
            sapElements.forEach(id => updateSAPElement(id, null));
            
            // Reset GL postings table
            const glContainer = document.getElementById('fb03GLPostings');
            if (glContainer) {
                glContainer.innerHTML = `
                    <div class="sap-gl-header">
                        <span>GL Account</span>
                        <span>Description</span>
                        <span>Debit</span>
                        <span>Credit</span>
                    </div>
                    <div class="sap-gl-row">
                        <span class="mono">—</span>
                        <span>No SAP data captured</span>
                        <span></span>
                        <span></span>
                    </div>
                `;
            }
            
            // Reset AFS tabs
            const afsTabs = document.getElementById('afsTabsCaptured');
            if (afsTabs) afsTabs.innerHTML = '';
            
            // Reset VA03 tabs
            const va03Tabs = document.getElementById('va03Tabs');
            if (va03Tabs) va03Tabs.innerHTML = '';
            
            console.log('SAP Panel reset');
        }

        // Helper to update SAP status badge
        function updateSAPStatus(elementId, status) {
            const el = document.getElementById(elementId);
            if (el) {
                el.textContent = status || 'PENDING';
                el.className = 'sap-status-badge';
                if (status === 'SUCCESS') {
                    el.classList.add('success');
                } else if (status === 'SKIPPED') {
                    el.classList.add('warning');
                } else {
                    el.classList.add('warning');
                }
            }
        }

        // Get province full name
        function getProvinceName(code) {
            const provinces = {
                'AB': 'Alberta', 'BC': 'British Columbia', 'MB': 'Manitoba',
                'NB': 'New Brunswick', 'NL': 'Newfoundland', 'NS': 'Nova Scotia',
                'NT': 'Northwest Territories', 'NU': 'Nunavut', 'ON': 'Ontario',
                'PE': 'Prince Edward Island', 'QC': 'Quebec', 'SK': 'Saskatchewan', 'YT': 'Yukon'
            };
            return provinces[code] || code;
        }

        // Get tax code for province
        function getTaxCodeForProvince(province) {
            const taxCodes = {
                'AB': 'Z1 (GST Only 5%)', 'BC': 'E1 (GST 5% + PST 7%)', 
                'MB': 'E3 (GST 5% + RST 7%)', 'NB': 'X4 (HST 15%)',
                'NL': 'X4 (HST 15%)', 'NS': 'O8 (HST 15%)',
                'NT': 'Z1 (GST Only 5%)', 'NU': 'Z1 (GST Only 5%)',
                'ON': 'Z8 (HST 13%)', 'PE': 'Z9 (HST 15%)',
                'QC': 'E4 (GST 5% + QST 9.975%)', 'SK': 'E5 (GST 5% + PST 6%)',
                'YT': 'Z1 (GST Only 5%)'
            };
            return taxCodes[province] || 'Unknown';
        }

        // Extract order number from selector value
        function getOrderNumberFromSelect(value) {
            const match = value.match(/C0-\d+/);
            return match ? match[0] : null;
        }

        // Map orderId to orderNumber (legacy - no longer used, orders come from API)
        function getOrderNumberFromOrderId(orderId) {
            // Orders are now loaded dynamically from V5 API
            // This function is kept for backwards compatibility but should not be used
            console.warn('getOrderNumberFromOrderId is deprecated - orders should come from API');
            return null;
        }

        // Custom Dropdown Functions
        function toggleDropdown() {
            const dropdown = document.getElementById('orderDropdown');
            dropdown.classList.toggle('open');
        }

        function selectOrder(orderId, scenario, jira, orderNum) {
            // Update the selected display
            const selected = document.querySelector('.dropdown-selected');
            selected.innerHTML = `
                <span class="scenario-glow">${scenario}</span>
                <span class="separator">│</span>
                <span class="jira-glow">${jira}</span>
                <span class="separator">│</span>
                <span class="order-glow">${orderNum}</span>
                <span class="dropdown-arrow">▼</span>
            `;
            
            // Update selected state in options
            document.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelector(`.dropdown-option[data-value="${orderId}"]`)?.classList.add('selected');
            
            // Close dropdown
            document.getElementById('orderDropdown').classList.remove('open');
            
            // Load the order
            loadOrder(orderId, orderNum);
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('orderDropdown');
            if (dropdown && !dropdown.contains(e.target)) {
                dropdown.classList.remove('open');
            }
        });

        // Load order data from API
        async function loadOrder(orderId, orderNumber) {
            if (!orderId) return;
            
            // Use provided orderNumber or extract from orderId
            if (!orderNumber) {
                orderNumber = getOrderNumberFromOrderId(orderId);
            }
            if (!orderNumber) {
                showNotification('Invalid order selection', 'error');
                return;
            }
            
            showNotification('Loading order from API...', 'info');
            
            try {
                // First try to get cached data
                let response = await fetch(`${API_BASE}/orders/${orderNumber}/api-data`);
                let result = await response.json();
                
                if (!result.success) {
                    // Fetch fresh data from Order Detail Insights API
                    showNotification('Fetching from Nike API...', 'info');
                    response = await fetch(`${API_BASE}/orders/${orderNumber}/fetch-details`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' }
                    });
                    result = await response.json();
                }
                
                if (result.success && result.data) {
                    currentOrderNumber = orderNumber;
                    currentOrderData = result.data;
                    updateDashboard(result.data);
                    showNotification('Order loaded successfully', 'success');
                    
                    // Also refresh the order processing services
                    setTimeout(refreshOrderServices, 500);
                } else {
                    showNotification(result.error || 'Failed to load order', 'error');
                }
            } catch (error) {
                console.error('Load error:', error);
                showNotification('Error connecting to API', 'error');
            }
        }

        // Refresh data from API
        async function refreshData() {
            // Use global currentOrderNumber or try to get from dropdown
            let orderNumber = currentOrderNumber;
            if (!orderNumber) {
                const orderSelect = document.getElementById('orderSelect');
                if (orderSelect && orderSelect.selectedIndex >= 0) {
                    orderNumber = getOrderNumberFromSelect(orderSelect.options[orderSelect.selectedIndex].text);
                }
            }
            
            if (!orderNumber) {
                showNotification('Select an order first', 'error');
                return;
            }
            
            showNotification('Refreshing from Nike API...', 'info');
            
            try {
                const response = await fetch(`${API_BASE}/orders/${orderNumber}/fetch-details`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });
                const result = await response.json();
                
                if (result.success && result.data) {
                    currentOrderNumber = orderNumber;
                    currentOrderData = result.data;
                    updateDashboard(result.data);
                    showNotification('Data refreshed successfully', 'success');
                } else {
                    showNotification(result.error || 'Refresh failed', 'error');
                }
            } catch (error) {
                console.error('Refresh error:', error);
                showNotification('Error refreshing data', 'error');
            }
        }

        // Update lifecycle journey based on current stage
        function updateLifecycleJourney(currentStage, orderStatus) {
            const stages = ['inventory', 'submission', 'management', 'fulfillment', 'wms', 'shipment', 'delivery', 'return'];
            const stageOrder = {
                'inventory': 0, 'submission': 1, 'management': 2, 'fulfillment': 3,
                'wms': 4, 'shipment': 5, 'delivery': 6, 'return': 7
            };
            
            const currentIndex = stageOrder[currentStage] || 4;
            const isReturn = orderStatus?.toLowerCase().includes('return');
            
            // Update each stage
            stages.forEach((stage, index) => {
                const stageEl = document.querySelector(`[data-stage="${stage}"]`);
                if (!stageEl) return;
                
                // Remove all state classes
                stageEl.classList.remove('completed', 'current', 'pending', 'optional', 'returned');
                
                if (stage === 'return') {
                    if (isReturn) {
                        stageEl.classList.add('returned');
                    } else {
                        stageEl.classList.add('optional');
                    }
                } else if (index < currentIndex || (isReturn && index <= 6)) {
                    stageEl.classList.add('completed');
                } else if (index === currentIndex && !isReturn) {
                    stageEl.classList.add('current');
                } else {
                    stageEl.classList.add('pending');
                }
            });
            
            // Update the connectors (arrows) between stages
            const connectors = document.querySelectorAll('.stage-connector');
            connectors.forEach((connector, index) => {
                connector.classList.remove('completed', 'pending');
                // For return orders, all connectors up to return should be completed
                // For non-return, connectors up to currentIndex should be completed
                if (isReturn) {
                    // All connectors completed for return orders (including the one before return)
                    connector.classList.add('completed');
                } else if (index < currentIndex) {
                    connector.classList.add('completed');
                } else {
                    connector.classList.add('pending');
                }
            });
            
            // Update the Current Stage badge
            const stageBadge = document.querySelector('.current-stage-badge');
            if (stageBadge) {
                const stageNames = {
                    'inventory': 'INVENTORY', 'submission': 'ORDER SUBMISSION', 
                    'management': 'ORDER MANAGEMENT', 'fulfillment': 'FULFILLMENT',
                    'wms': 'WAREHOUSE (WMS)', 'shipment': 'SHIPMENT', 
                    'delivery': 'DELIVERY', 'return': 'RETURN'
                };
                stageBadge.textContent = isReturn ? 'RETURN PROCESSED' : (stageNames[currentStage] || 'WAREHOUSE (WMS)');
            }
        }
        
        // Update dashboard with API data
        function updateDashboard(data) {
            if (!data) return;
            
            // Update order header using IDs
            const orderNumEl = document.getElementById('orderNumberDisplay') || document.querySelector('.order-num');
            if (orderNumEl) orderNumEl.textContent = data.orderNumber || 'N/A';
            
            const totalAmtEl = document.getElementById('orderTotalDisplay') || document.querySelector('.total-amount');
            if (totalAmtEl) totalAmtEl.textContent = `CA$${data.totals?.orderTotal?.toFixed(2) || '0.00'}`;
            
            // Update order info grid using IDs
            const dateEl = document.getElementById('orderDateDisplay');
            if (dateEl) dateEl.textContent = formatDate(data.orderCreateDate || data.orderDate);
            
            const originEl = document.getElementById('orderOriginDisplay');
            if (originEl) originEl.textContent = data.channel || data.origin || 'N/A';
            
            const enterpriseEl = document.getElementById('orderEnterpriseDisplay');
            if (enterpriseEl) enterpriseEl.textContent = (data.locale === 'en_CA' || data.enterprise === 'NIKECA') ? 'NIKECA' : (data.enterprise || data.locale || 'NIKECA');
            
            const shippingMethodEl = document.getElementById('shippingMethodDisplay');
            if (shippingMethodEl) shippingMethodEl.textContent = formatShippingMethod(data.shippingMethod);
            
            // Update status badges
            const statusEl = document.getElementById('orderStatusDisplay');
            if (statusEl) {
                statusEl.innerHTML = `<span class="status-badge ${(data.status || '').toLowerCase().replace(/\s+/g, '-')}">${data.status || 'Unknown'}</span>`;
            }
            
            const paymentEl = document.getElementById('paymentStatusDisplay');
            if (paymentEl) {
                paymentEl.innerHTML = `<span class="status-badge ${(data.paymentStatus || '').toLowerCase()}">${data.paymentStatus || 'Unknown'}</span>`;
            }
            
            // Update customer info
            updateCustomerSection(data);
            
            // Update financial breakdown
            updateFinancials(data);
            
            // Update order references
            updateOrderReferences(data);
            
            // Update line items
            updateLineItems(data.lineItems || []);
            
            // Update test scenario
            updateTestScenario();
            
            // Update review status
            updateReviewStatus(data.review_status || 'not_ready');
            
            console.log('Dashboard updated with API data:', data);
        }

        // Update Review Status display
        function updateReviewStatus(status) {
            const badge = document.getElementById('reviewStatusBadge');
            if (!badge) return;
            
            const statusConfig = {
                'not_ready': { text: 'NOT READY', class: 'not-ready' },
                'ready': { text: 'PASS', class: 'ready' },
                'in_progress': { text: 'Review in Progress', class: 'in-progress' },
                'pass': { text: 'Pass', class: 'pass' },
                'fail': { text: 'Fail', class: 'fail' }
            };
            
            const config = statusConfig[status] || statusConfig['not_ready'];
            badge.textContent = config.text;
            badge.className = 'review-status-badge ' + config.class;
        }

        // Update Test Scenario card from order data
        function updateTestScenario() {
            if (!currentOrderData) return;
            
            const order = currentOrderData;
            const orderNum = order.orderNumber || currentOrderNumber;
            const jiraTicket = order.jira_ticket || order.jiraTicket || 'MOOSE-XXXX';
            const scenarioSummary = order.scenario_summary || order.scenarioSummary || 'No scenario defined';
            
            // Hardcoded scenario details per order
            let scenarioDetails;
            if (orderNum === 'C01560878011') {
                scenarioDetails = ['Single Line, Single Unit', '$ off promo - product', 'Paid Express Shipping', 'Shipping Fee', 'CA-ON'];
            } else if (orderNum === 'CAR100100200189') {
                scenarioDetails = ['Single Line, Single Unit', 'Line Discount', 'Shipping Fee', 'CA-ON', 'Return - Consumer fault'];
            } else {
                scenarioDetails = order.scenario_details || order.scenarioDetails || ['Click edit to add test scenario details'];
            }
            
            // Update JIRA badge
            const jiraBadge = document.getElementById('jiraTicket');
            if (jiraBadge) jiraBadge.textContent = jiraTicket;
            
            // Update scenario summary
            const summaryEl = document.getElementById('scenarioSummary');
            if (summaryEl) summaryEl.textContent = scenarioSummary;
            
            // Update scenario bullets
            const descEl = document.getElementById('scenarioDescription');
            if (descEl) {
                const bullets = Array.isArray(scenarioDetails) ? scenarioDetails : [scenarioDetails];
                descEl.innerHTML = `
                    <ul class="scenario-bullets">
                        ${bullets.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                `;
            }
            
            // Also update SAP page Test Scenario
            const sapJira = document.getElementById('sapJiraTicket');
            if (sapJira) sapJira.textContent = jiraTicket;
            
            const sapSummary = document.getElementById('sapScenarioSummary');
            if (sapSummary) sapSummary.textContent = scenarioSummary;
            
            const sapDescEl = document.getElementById('sapScenarioDescription');
            if (sapDescEl) {
                const bullets = Array.isArray(scenarioDetails) ? scenarioDetails : [scenarioDetails];
                sapDescEl.innerHTML = `
                    <ul class="scenario-bullets">
                        ${bullets.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                `;
            }
        }

        // Edit Test Scenario
        function editTestScenario() {
            const order = currentOrderData;
            const currentJira = order?.jira_ticket || order?.jiraTicket || '';
            const currentSummary = order?.scenario_summary || order?.scenarioSummary || '';
            const currentDetails = order?.scenario_details || order?.scenarioDetails || [];
            
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 9999;';
            modal.innerHTML = `
                <div style="background: var(--bg-card); border-radius: 12px; padding: 24px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
                    <h3 style="margin: 0 0 20px 0; color: var(--text-primary);">🧪 Edit Test Scenario</h3>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: var(--text-muted); margin-bottom: 6px; font-size: 0.85em;">JIRA Ticket</label>
                        <input type="text" id="editJira" value="${currentJira}" placeholder="MOOSE-4689" 
                            style="width: 100%; padding: 10px; background: var(--bg-card-hover); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); font-family: monospace;">
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: var(--text-muted); margin-bottom: 6px; font-size: 0.85em;">Scenario Summary</label>
                        <input type="text" id="editSummary" value="${currentSummary}" placeholder="FS3 | NW Territories | SLSQ - Adult | $ off Promo | Paid EXP | Klarna | No FDX | Full Return (CF) | A-Grade" 
                            style="width: 100%; padding: 10px; background: var(--bg-card-hover); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary);">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; color: var(--text-muted); margin-bottom: 6px; font-size: 0.85em;">Details (one per line)</label>
                        <textarea id="editDetails" rows="8" placeholder="1 unit of an Adult product&#10;$ off promo&#10;Paid Express Shipping - $40&#10;Shipping to Northwest Territories"
                            style="width: 100%; padding: 10px; background: var(--bg-card-hover); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); resize: vertical;">${Array.isArray(currentDetails) ? currentDetails.join('\n') : currentDetails}</textarea>
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button onclick="this.closest('div').parentElement.parentElement.remove();" 
                            style="padding: 10px 20px; background: var(--bg-card-hover); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer;">Cancel</button>
                        <button onclick="saveTestScenario();" 
                            style="padding: 10px 20px; background: var(--accent-green); color: #000; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Save</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Save Test Scenario
        async function saveTestScenario() {
            const jira = document.getElementById('editJira').value.trim();
            const summary = document.getElementById('editSummary').value.trim();
            const details = document.getElementById('editDetails').value.split('\n').filter(line => line.trim());
            
            if (!currentOrderData) return;
            
            try {
                const response = await fetch(`/api/v5/orders/${currentOrderData.orderNumber}/update`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        jira_ticket: jira,
                        scenario_summary: summary,
                        scenario_details: details
                    })
                });
                
                if (response.ok) {
                    // Update local data
                    currentOrderData.jira_ticket = jira;
                    currentOrderData.scenario_summary = summary;
                    currentOrderData.scenario_details = details;
                    
                    // Update display
                    updateTestScenario();
                    
                    // Close modal
                    document.querySelector('div[style*="position: fixed"]').remove();
                    
                    showNotification('Test scenario saved!', 'success');
                } else {
                    showNotification('Failed to save scenario', 'error');
                }
            } catch (error) {
                console.error('Error saving scenario:', error);
                showNotification('Error saving scenario', 'error');
            }
        }

        function updateInfoItem(label, value) {
            const items = document.querySelectorAll('.info-item');
            items.forEach(item => {
                const labelEl = item.querySelector('.info-label');
                if (labelEl && labelEl.textContent.includes(label)) {
                    const valueEl = item.querySelector('.info-value');
                    if (valueEl && !valueEl.querySelector('.status-badge')) {
                        valueEl.textContent = value;
                    }
                }
            });
        }

        function updateStatusBadge(label, value, badgeClass) {
            const items = document.querySelectorAll('.info-item');
            items.forEach(item => {
                const labelEl = item.querySelector('.info-label');
                if (labelEl && labelEl.textContent.includes(label)) {
                    const badge = item.querySelector('.status-badge');
                    if (badge) {
                        badge.textContent = value || 'Unknown';
                    }
                }
            });
        }

        function updateCustomerSection(data) {
            // Update Ship To from shippingAddress object
            const shipAddr = data.shippingAddress || {};
            const shippingSection = document.getElementById('shippingSection');
            if (shippingSection) {
                const nameEl = document.getElementById('shippingName') || shippingSection.querySelector('.customer-name');
                const addr1El = document.getElementById('shippingAddress1') || shippingSection.querySelectorAll('.customer-address')[0];
                const addr2El = document.getElementById('shippingAddress2') || shippingSection.querySelectorAll('.customer-address')[1];
                const emailEl = document.getElementById('shippingEmail') || shippingSection.querySelectorAll('.customer-detail')[0];
                const phoneEl = document.getElementById('shippingPhone') || shippingSection.querySelectorAll('.customer-detail')[1];
                
                if (nameEl) nameEl.textContent = shipAddr.name || data.customerName || '—';
                if (addr1El) addr1El.textContent = shipAddr.street || '—';
                if (addr2El) {
                    const province = (shipAddr.province_code || shipAddr.province || '').replace('CA-', '');
                    const country = shipAddr.country === 'CA' ? 'Canada' : (shipAddr.country || '');
                    addr2El.textContent = `${shipAddr.city || ''}, ${province} ${shipAddr.postal_code || ''}, ${country}`;
                }
                if (emailEl) emailEl.textContent = `✉️ ${shipAddr.email || data.customerEmail || '—'}`;
                if (phoneEl) phoneEl.textContent = `📞 ${shipAddr.phone || '—'}`;
            }
            
            // Update Billing Address (use billingAddress or fall back to shippingAddress)
            const billAddr = data.billingAddress || data.billing || shipAddr;
            const billingSection = document.getElementById('billingSection');
            if (billingSection) {
                const nameEl = document.getElementById('billingName') || billingSection.querySelector('.customer-name');
                const addr1El = document.getElementById('billingAddress1') || billingSection.querySelectorAll('.customer-address')[0];
                const addr2El = document.getElementById('billingAddress2') || billingSection.querySelectorAll('.customer-address')[1];
                const emailEl = document.getElementById('billingEmail') || billingSection.querySelectorAll('.customer-detail')[0];
                const phoneEl = document.getElementById('billingPhone') || billingSection.querySelectorAll('.customer-detail')[1];
                
                if (nameEl) nameEl.textContent = billAddr.name || data.customerName || '—';
                if (addr1El) addr1El.textContent = billAddr.street || billAddr.address || '—';
                if (addr2El) {
                    const province = (billAddr.province_code || billAddr.province || billAddr.state || '').replace('CA-', '');
                    const country = billAddr.country === 'CA' ? 'Canada' : (billAddr.country || '');
                    addr2El.textContent = `${billAddr.city || ''}, ${province} ${billAddr.postal_code || billAddr.zipCode || ''}, ${country}`;
                }
                if (emailEl) emailEl.textContent = `✉️ ${billAddr.email || data.customerEmail || '—'}`;
                if (phoneEl) phoneEl.textContent = `📞 ${billAddr.phone || '—'}`;
            }
        }

        function updateFinancials(data) {
            const totals = data.totals || {};
            const financeRows = document.querySelectorAll('.finance-row');
            
            financeRows.forEach(row => {
                const label = row.querySelector('span:first-child')?.textContent || '';
                const valueEl = row.querySelector('span:last-child');
                
                if (label.includes('Products') && valueEl) {
                    const lineCount = data.lineItems?.reduce((sum, l) => sum + (l.quantity || 0), 0) || 0;
                    row.querySelector('span:first-child').textContent = `Products (${lineCount} units)`;
                    valueEl.textContent = `CA$${totals.subtotal?.toFixed(2) || '0.00'}`;
                } else if (label.includes('Shipping') && !label.includes('Tax') && valueEl) {
                    valueEl.textContent = `CA$${totals.shippingTotal?.toFixed(2) || '0.00'}`;
                } else if (label.includes('Shipping Tax') && valueEl) {
                    valueEl.textContent = `CA$${totals.shippingTax?.toFixed(2) || '0.00'}`;
                } else if (label.includes('Discounts') && valueEl) {
                    valueEl.textContent = `-CA$${totals.discountTotal?.toFixed(2) || '0.00'}`;
                } else if (label === 'Tax' && valueEl) {
                    valueEl.textContent = `CA$${totals.taxTotal?.toFixed(2) || '0.00'}`;
                } else if (label.includes('Order Total') && valueEl) {
                    valueEl.textContent = `CA$${totals.orderTotal?.toFixed(2) || '0.00'}`;
                }
            });
        }

        function updateOrderReferences(data) {
            const firstLine = data.lineItems?.[0] || {};
            const sapDocs = data.sapDocuments || {};
            
            // Update Consumer Order # using ID
            const consumerOrderEl = document.getElementById('consumerOrderRef') || document.querySelector('.sap-value.mono.highlight');
            if (consumerOrderEl) {
                consumerOrderEl.textContent = data.orderNumber || 'N/A';
            }
            
            // Update lifecycle journey based on order status
            try {
                updateLifecycleJourney(data.lifecycleStage || 'wms', data.status);
            } catch (e) {
                console.warn('updateLifecycleJourney not available:', e);
            }
            
            // Update SAP Order # using ID
            const sapOrderEl = document.getElementById('sapOrderRef');
            if (sapOrderEl) {
                const sapOrder = sapDocs.salesOrder || firstLine.sapOrder;
                sapOrderEl.textContent = sapOrder || 'Pending';
                sapOrderEl.classList.toggle('pending', !sapOrder);
            }
            
            // Update Delivery Doc # using ID
            const deliveryDocEl = document.getElementById('deliveryDocRef');
            if (deliveryDocEl) {
                const deliveryDoc = sapDocs.deliveryDoc;
                deliveryDocEl.textContent = deliveryDoc || 'Pending';
                deliveryDocEl.classList.toggle('pending', !deliveryDoc);
            }
            
            // Update Accounting Doc # using ID
            const accountingDocEl = document.getElementById('accountingDocRef');
            if (accountingDocEl) {
                const accountingDoc = sapDocs.accountingDoc || sapDocs.billingDoc;
                accountingDocEl.textContent = accountingDoc || 'Pending';
                accountingDocEl.classList.toggle('pending', !accountingDoc);
            }
            
            // Update Fulfiller using ID
            const fulfillerEl = document.getElementById('fulfillerDisplay');
            if (fulfillerEl) {
                fulfillerEl.textContent = firstLine.shipNode ? `${firstLine.shipNode} (Brimley General Availability)` : 'Pending';
            }
            
            // Update PO dropdown
            const poSelect = document.getElementById('poSelect');
            if (poSelect && firstLine.poNumber) {
                poSelect.innerHTML = `<option value="po1" data-fulfiller="${firstLine.shipNode || '1042_GA'} (Brimley General Availability)">${firstLine.poNumber}</option>`;
            }
        }

        function updateLineItems(lineItems) {
            const container = document.getElementById('lineItemsList');
            if (!container) {
                console.error('Line items container not found');
                return;
            }
            console.log(`Updating ${lineItems.length} line items`);
            
            container.innerHTML = lineItems.map((item, index) => {
                const pd = item.productDetails || {};
                const gender = pd.genders?.[0] || '';
                const sportTag = pd.sportTags?.[0] || '';
                const isDiscounted = pd.discounted || (pd.msrp && pd.currentPrice && pd.currentPrice < pd.fullPrice);
                const statusClass = (item.status || '').toLowerCase().includes('return') ? 'returned' : 
                                   (item.status || '').toLowerCase().includes('cancel') ? 'cancelled' : 'active';
                
                return `
                <div class="line-item-card">
                    <div class="line-item-header">
                        <span class="line-item-name">${pd.labelName || item.productName || 'Unknown Product'}</span>
                        <span class="line-item-status ${statusClass}">${item.status || 'Processing'}</span>
                    </div>
                    
                    <!-- Product API Data - Primary Identifiers (reordered per user spec) -->
                    <div class="line-item-grid">
                        <!-- Row 1: Style Color, Size, GTIN/UPC, Legacy SKU -->
                        <div class="grid-item">
                            <span class="grid-label">Style Color</span>
                            <span class="grid-value">${pd.styleColor || item.styleNumber + '-' + item.colorCode || '—'}</span>
                        </div>
                        <div class="grid-item">
                            <span class="grid-label">Size</span>
                            <span class="grid-value">${pd.nikeSize || item.displaySize || '—'}</span>
                        </div>
                        <div class="grid-item">
                            <span class="grid-label">GTIN / UPC</span>
                            <span class="grid-value mono">${pd.gtin || item.upc || '—'}</span>
                        </div>
                        <div class="grid-item">
                            <span class="grid-label">Legacy SKU / ITEMID</span>
                            <span class="grid-value mono">${pd.stockKeepingUnitId || '—'}</span>
                        </div>
                        <!-- Row 2: Product ID UUID (2 cols), SKU UUID (2 cols) -->
                        <div class="grid-item" style="grid-column: span 2;">
                            <span class="grid-label">Product ID UUID</span>
                            <span class="grid-value mono small">${pd.productId || '—'}</span>
                        </div>
                        <div class="grid-item" style="grid-column: span 2;">
                            <span class="grid-label">SKU UUID</span>
                            <span class="grid-value mono small">${pd.snapshotId || '—'}</span>
                        </div>
                        <!-- Row 3: Legacy Product ID, Style Type, Product Type -->
                        <div class="grid-item">
                            <span class="grid-label">Legacy Product ID</span>
                            <span class="grid-value mono">${pd.pid || '—'}</span>
                        </div>
                        <div class="grid-item">
                            <span class="grid-label">Style Type</span>
                            <span class="grid-value">${pd.styleType || '—'}</span>
                        </div>
                        <div class="grid-item" style="grid-column: span 2;">
                            <span class="grid-label">Product Type</span>
                            <span class="grid-value">${pd.productType || item.productType || '—'}</span>
                        </div>
                    </div>
                    
                    <!-- SAP Data Tags -->
                    <div class="line-item-attributes">
                        ${gender ? `<span class="attr-tag gender">${gender}</span>` : ''}
                        ${sportTag ? `<span class="attr-tag sport">${sportTag}</span>` : ''}
                        ${item.divisionCode ? `<span class="attr-tag sap">Div: ${item.divisionCode}</span>` : ''}
                        ${item.profitCenter ? `<span class="attr-tag sap">PC: ${item.profitCenter}</span>` : ''}
                    </div>
                    
                    <!-- Pricing -->
                    <div class="line-item-pricing">
                        <div class="price-row">
                            <span class="qty-badge">×${item.quantity || 1}</span>
                            <span class="unit-price">CA$${(item.unitPrice || 0).toFixed(2)}</span>
                        </div>
                        <div class="total-price ${isDiscounted ? 'sale' : ''}">
                            CA$${((item.unitPrice || 0) * (item.quantity || 1)).toFixed(2)}
                            ${isDiscounted ? '<span class="sale-badge">SALE</span>' : ''}
                        </div>
                        ${item.taxAmount ? `<div class="tax-line">+CA$${item.taxAmount.toFixed(2)} tax</div>` : ''}
                    </div>
                </div>
            `}).join('');
        }

        function formatDate(isoDate) {
            if (!isoDate) return 'N/A';
            try {
                const date = new Date(isoDate);
                return date.toLocaleString('en-US', { 
                    month: 'short', day: 'numeric', year: 'numeric',
                    hour: 'numeric', minute: '2-digit', hour12: true 
                });
            } catch {
                return isoDate;
            }
        }

        // Format shipping method code to human-readable name
        function formatShippingMethod(code) {
            if (!code) return 'Standard';
            const methods = {
                'NDA': 'Next Day Air',
                'NDS': 'Next Day Saver',
                'SDA': 'Second Day Air',
                '2DA': 'Second Day Air',
                'GND': 'Ground Service',
                'GROUND': 'Ground Service',
                'STD': 'Standard Ground',
                'STANDARD': 'Standard Ground',
                'EXP': 'Express',
                'EXPRESS': 'Express',
                'PRI': 'Priority',
                'PRIORITY': 'Priority',
                'ECO': 'Economy',
                'ECONOMY': 'Economy'
            };
            return methods[code.toUpperCase()] || code;
        }

        // Export report
        function exportReport() {
            if (!currentOrderData) {
                showNotification('No order data to export', 'error');
                return;
            }
            
            const dataStr = JSON.stringify(currentOrderData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `order_${currentOrderData.orderNumber}_export.json`;
            a.click();
            URL.revokeObjectURL(url);
            showNotification('Report exported', 'success');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const colors = {
                info: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',
                success: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                error: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)'
            };
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${colors[type] || colors.info};
                color: white;
                padding: 12px 24px;
                border-radius: 10px;
                font-weight: 500;
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 2500);
        }

        // Add CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // ============================================
        // Order Processing Services Functions
        // ============================================
        
        let currentSplunkQuery = null;
        
        async function refreshOrderServices() {
            const grid = document.getElementById('instancesGrid');
            const timestamp = document.getElementById('instancesLastUpdate');
            
            if (!grid) {
                console.error('Instances grid not found');
                return;
            }
            
            // Get current order number from global variable
            const orderNumber = currentOrderNumber;
            
            if (!orderNumber) {
                grid.innerHTML = `
                    <div class="instance-group loading-placeholder">
                        <div class="group-title">No Order Selected</div>
                        <div class="instance-item">
                            <span class="instance-status pending">◌</span>
                            <span class="instance-name">Select an order to see services used in processing</span>
                        </div>
                    </div>
                `;
                return;
            }
            
            // Show loading state
            grid.innerHTML = `
                <div class="instance-group loading-placeholder">
                    <div class="group-title">Querying Splunk...</div>
                    <div class="instance-item">
                        <span class="instance-status pending">◌</span>
                        <span class="instance-name">Searching for services that processed ${orderNumber}...</span>
                    </div>
                </div>
            `;
            
            try {
                // Get SAP order and PO from current order data
                const sapOrder = currentOrderData?.lineItems?.[0]?.sapOrder || '';
                const poNumber = currentOrderData?.lineItems?.[0]?.poNumber || '';
                
                const url = `${API_BASE}/orders/${orderNumber}/services?sap_order=${sapOrder}&po_number=${poNumber}`;
                const response = await fetch(url);
                const result = await response.json();
                
                if (result.success) {
                    renderOrderServices(result);
                    currentSplunkQuery = result.splunk_query;
                    
                    if (timestamp) {
                        timestamp.textContent = `Queried: ${new Date().toLocaleTimeString()}`;
                    }
                    
                    // Update data source badge
                    const badge = document.getElementById('dataSourceBadge');
                    if (badge) {
                        badge.textContent = result.data_source === 'splunk' ? 'Live Splunk Data' : 'Simulated Data';
                        badge.className = `data-source-badge ${result.data_source}`;
                    }
                    
                    // Show query link
                    const queryLink = document.getElementById('splunkQueryLink');
                    if (queryLink && result.splunk_query) {
                        queryLink.style.display = 'inline';
                    }
                    
                    console.log(`Order services loaded: ${result.summary.total_services} services, ${result.summary.total_events} events`);
                    showNotification(`Found ${result.summary.total_services} services that processed this order`, 'success');
                } else {
                    console.error('Failed to fetch order services:', result.error);
                    showNotification('Failed to fetch order services', 'error');
                }
            } catch (error) {
                console.error('Error fetching order services:', error);
                showNotification('Error connecting to API', 'error');
            }
        }
        
        function renderOrderServices(data) {
            const grid = document.getElementById('instancesGrid');
            const byCategory = data.by_category || {};
            
            // Calculate totals including error counts
            let totalErrors = 0;
            let totalServices = 0;
            let totalEvents = 0;
            
            Object.values(byCategory).forEach(services => {
                services.forEach(svc => {
                    totalServices++;
                    totalEvents += svc.event_count || 0;
                    totalErrors += svc.error_count || 0;
                });
            });
            
            // Update summary stats
            document.getElementById('totalServicesCount').textContent = totalServices;
            document.getElementById('totalEventsCount').textContent = totalEvents.toLocaleString();
            document.getElementById('categoriesCount').textContent = data.summary?.categories?.length || Object.keys(byCategory).length;
            
            // Category icons
            const categoryIcons = {
                'Inventory': '📦',
                'Order Capture': '🛒',
                'Order Submit': '📤',
                'Order Context': '📋',
                'Order Management': '📋',
                'Order Review': '🔍',
                'Payment': '💳',
                'SAP Integration': '🔗',
                'Fulfillment Options': '🎯',
                'Fulfillment': '🚚',
                'Order Details': '📄',
                'VOM': '📡',
                'Recon': '🔄',
                'Invoice': '🧾',
                'Shipping': '✈️',
                'Order Status': '📊',
                'Returns': '↩️',
                'Supporting': '⚙️',
                'Other': '⚙️'
            };
            
            // Generate HTML for each category
            let html = '';
            const categoryOrder = [
                'Inventory', 'Order Capture', 'Order Submit', 'Order Context', 
                'Payment', 'Order Review', 'SAP Integration', 
                'Fulfillment Options', 'Fulfillment', 'Order Details', 
                'VOM', 'Recon', 'Invoice', 'Shipping', 'Order Status', 
                'Returns', 'Supporting', 'Other'
            ];
            
            categoryOrder.forEach(category => {
                const services = byCategory[category];
                if (!services || services.length === 0) return;
                
                const icon = categoryIcons[category] || '⚙️';
                const categoryErrors = services.filter(s => s.has_errors).length;
                const categoryClass = categoryErrors > 0 ? 'has-errors' : '';
                
                html += `
                    <div class="instance-group ${categoryClass}">
                        <div class="group-title">${icon} ${category}${categoryErrors > 0 ? ` <span class="error-badge">${categoryErrors} errors</span>` : ''}</div>
                        ${services.map(svc => {
                            const hasErrors = svc.has_errors || svc.error_count > 0;
                            const statusClass = hasErrors ? 'error' : 'success';
                            const statusIcon = '●';
                            
                            // Build unique ID for tooltip
                            const tooltipId = `tooltip-${svc.service.replace(/[^a-zA-Z0-9]/g, '-')}-${Math.random().toString(36).substr(2, 9)}`;
                            
                            // Store error details for custom tooltip
                            let errorData = null;
                            if (hasErrors && svc.errors && svc.errors.length > 0) {
                                errorData = JSON.stringify(svc.errors);
                            }
                            
                            return `
                                <div class="instance-item" data-service="${svc.service}">
                                    <span class="instance-status-dot ${statusClass}" 
                                          data-has-errors="${hasErrors}"
                                          data-errors='${errorData || "[]"}'
                                          data-service-name="${svc.service}"
                                          onclick="showErrorTooltip(event, this)">${statusIcon}</span>
                                    <span class="instance-name">${svc.service}</span>
                                    <span class="instance-events">${svc.event_count} events</span>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            });
            
            // Error summary removed per user request - errors shown via red indicators on individual services
            
            grid.innerHTML = html || `
                <div class="instance-group">
                    <div class="group-title">No Services Found</div>
                    <div class="instance-item">
                        <span class="instance-status pending">◌</span>
                        <span class="instance-name">No Splunk events found for this order</span>
                    </div>
                </div>
            `;
        }
        
        // Error tooltip function for service status indicators
        function showErrorTooltip(event, element) {
            event.stopPropagation();
            
            // Remove any existing tooltip
            const existingTooltip = document.querySelector('.error-tooltip, .success-tooltip');
            const existingOverlay = document.querySelector('.error-tooltip-overlay');
            if (existingTooltip) existingTooltip.remove();
            if (existingOverlay) existingOverlay.remove();
            
            const hasErrors = element.dataset.hasErrors === 'true';
            const serviceName = element.dataset.serviceName;
            
            const rect = element.getBoundingClientRect();
            let tooltip;
            
            if (!hasErrors) {
                // Show simple success tooltip
                tooltip = document.createElement('div');
                tooltip.className = 'success-tooltip';
                tooltip.innerHTML = `
                    <div class="success-tooltip-content">
                        <span class="icon">✓</span>
                        <span class="text">All events processed successfully</span>
                    </div>
                `;
                
                // Position and show
                document.body.appendChild(tooltip);
                const tooltipRect = tooltip.getBoundingClientRect();
                tooltip.style.left = `${rect.left + rect.width/2 - tooltipRect.width/2}px`;
                tooltip.style.top = `${rect.top - tooltipRect.height - 10}px`;
                
                // Auto-hide after 2 seconds
                setTimeout(() => tooltip.remove(), 2000);
                
                // Click anywhere to close
                setTimeout(() => {
                    document.addEventListener('click', function closeTooltip() {
                        tooltip.remove();
                        document.removeEventListener('click', closeTooltip);
                    }, { once: true });
                }, 100);
                
                return;
            }
            
            // Parse error data
            let errors = [];
            try {
                errors = JSON.parse(element.dataset.errors || '[]');
            } catch (e) {
                console.error('Error parsing error data:', e);
            }
            
            if (errors.length === 0) {
                showNotification('No error details available', 'warning');
                return;
            }
            
            // Create overlay
            const overlay = document.createElement('div');
            overlay.className = 'error-tooltip-overlay';
            overlay.onclick = () => {
                tooltip.remove();
                overlay.remove();
            };
            document.body.appendChild(overlay);
            
            // Create error tooltip
            tooltip = document.createElement('div');
            tooltip.className = 'error-tooltip';
            
            // Format timestamp
            const formatTime = (ts) => {
                try {
                    const date = new Date(ts);
                    return date.toLocaleString('en-US', { 
                        month: 'short', 
                        day: 'numeric',
                        hour: '2-digit', 
                        minute: '2-digit',
                        second: '2-digit'
                    });
                } catch (e) {
                    return ts;
                }
            };
            
            tooltip.innerHTML = `
                <div class="error-tooltip-header">
                    <span class="error-icon">⚠️</span>
                    <span class="service-name">${serviceName}</span>
                    <span class="error-count">${errors.length} issue${errors.length > 1 ? 's' : ''}</span>
                </div>
                <div class="error-tooltip-body">
                    ${errors.map(err => `
                        <div class="error-tooltip-item ${(err.impact || 'low').toLowerCase()}">
                            <div class="error-tooltip-code">
                                <span class="code">${err.error_code || err.level || 'ERR'}</span>
                                <span class="type">${err.error_type || 'Unknown error'}</span>
                                <span class="impact ${(err.impact || 'low').toLowerCase()}">${err.impact || 'Low'}</span>
                            </div>
                            <div class="error-tooltip-message">
                                ${err.human_message || err.error_type || 'An error occurred during processing.'}
                            </div>
                            <div class="error-tooltip-time">📅 ${formatTime(err.timestamp)}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="error-tooltip-footer">
                    <button class="close-btn" onclick="this.closest('.error-tooltip').remove(); document.querySelector('.error-tooltip-overlay')?.remove();">Close</button>
                </div>
            `;
            
            document.body.appendChild(tooltip);
            
            // Position tooltip
            const tooltipRect = tooltip.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            let left = rect.left + rect.width/2 - tooltipRect.width/2;
            let top = rect.bottom + 10;
            
            // Keep within viewport
            if (left < 10) left = 10;
            if (left + tooltipRect.width > viewportWidth - 10) left = viewportWidth - tooltipRect.width - 10;
            if (top + tooltipRect.height > viewportHeight - 10) {
                top = rect.top - tooltipRect.height - 10;
            }
            
            tooltip.style.left = `${left}px`;
            tooltip.style.top = `${top}px`;
        }
        
        function showSplunkQuery() {
            if (!currentSplunkQuery) {
                showNotification('No query available', 'error');
                return;
            }
            
            // Create modal to show query
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: var(--bg-card);
                    border-radius: 12px;
                    padding: 24px;
                    max-width: 800px;
                    max-height: 80vh;
                    overflow: auto;
                    border: 1px solid var(--border-color);
                ">
                    <h3 style="margin: 0 0 16px 0; color: var(--accent-volt);">Splunk Query</h3>
                    <pre style="
                        background: var(--bg-secondary);
                        padding: 16px;
                        border-radius: 8px;
                        overflow-x: auto;
                        font-size: 0.8rem;
                        color: var(--text-primary);
                        font-family: 'SF Mono', 'Fira Code', monospace;
                        white-space: pre-wrap;
                    ">${currentSplunkQuery}</pre>
                    <div style="margin-top: 16px; text-align: right;">
                        <button onclick="navigator.clipboard.writeText(\`${currentSplunkQuery.replace(/`/g, '\\`')}\`); this.textContent = 'Copied!'; setTimeout(() => this.textContent = 'Copy to Clipboard', 2000);" style="
                            background: var(--accent-volt);
                            color: black;
                            border: none;
                            padding: 8px 16px;
                            border-radius: 6px;
                            cursor: pointer;
                            margin-right: 8px;
                        ">Copy to Clipboard</button>
                        <button onclick="this.closest('div').parentElement.parentElement.remove();" style="
                            background: var(--bg-card-hover);
                            color: var(--text-primary);
                            border: 1px solid var(--border-color);
                            padding: 8px 16px;
                            border-radius: 6px;
                            cursor: pointer;
                        ">Close</button>
                    </div>
                </div>
            `;
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            document.body.appendChild(modal);
        }
        
        // Refresh services when order is loaded
        function refreshServicesForCurrentOrder() {
            setTimeout(refreshOrderServices, 500);
        }

        // V5 Production Orders List (loaded from API)
        let v5Orders = [];
        
        // Load V5 Production orders from API
        async function loadV5Orders() {
            console.log('Loading V5 PROD orders from API...');
            try {
                const response = await fetch(`${API_BASE}/orders`);
                if (!response.ok) throw new Error('Failed to load orders');
                const data = await response.json();
                v5Orders = data.orders || [];
                console.log('Loaded', v5Orders.length, 'V5 PROD orders');
                populateV5Dropdown();
                return v5Orders;
            } catch (error) {
                console.error('Error loading V5 orders:', error);
                document.getElementById('v5OrdersList').innerHTML = '<div style="color:#ff6b6b;padding:10px;">Failed to load orders. Is V5 API running on port 5052?</div>';
                return [];
            }
        }
        
        // Populate dropdown with V5 orders
        function populateV5Dropdown() {
            const container = document.getElementById('v5OrdersList');
            if (!v5Orders.length) {
                container.innerHTML = '<div style="color:#888;padding:10px;">No PROD orders found</div>';
                return;
            }
            
            container.innerHTML = v5Orders.map((order, idx) => {
                // Determine review status display
                const reviewStatus = order.review_status || 'not_ready';
                const isPass = reviewStatus === 'ready' || reviewStatus === 'pass';
                const statusText = isPass ? 'PASS' : 'NOT READY';
                const statusClass = isPass ? 'status-pass' : 'status-not-ready';
                
                return `
                <div class="dropdown-option" data-value="v5_${idx}" data-order="${order.order_number}" 
                     onclick="selectV5Order('${order.order_number}', '${order.scenario_case || 'PROD'}', '${order.jira_ticket || '—'}')">
                    <span class="scenario-glow">${order.scenario_case || 'PROD'}</span>
                    <span class="separator">│</span>
                    <span class="jira-glow">${order.jira_ticket || '—'}</span>
                    <span class="separator">│</span>
                    <span class="order-glow">${order.order_number}</span>
                    <span class="dropdown-status ${statusClass}">${statusText}</span>
                </div>
            `;
            }).join('');
        }
        
        // Select V5 order from dropdown
        async function selectV5Order(orderNumber, scenario, jira) {
            console.log('Selecting V5 order:', orderNumber);
            
            // Close dropdown FIRST (before async operations)
            document.getElementById('orderDropdown').classList.remove('open');
            
            // Update dropdown display
            document.getElementById('selectedScenario').textContent = scenario;
            document.getElementById('selectedJira').textContent = jira;
            document.getElementById('selectedOrder').textContent = orderNumber;
            
            // Load the order data
            await loadV5OrderData(orderNumber);
        }
        
        // Load V5 order data from API
        async function loadV5OrderData(orderNumber) {
            console.log('Loading V5 order data:', orderNumber);
            showNotification('Loading order...', 'info');
            
            try {
                const response = await fetch(`${API_BASE}/orders/${orderNumber}/api-data`);
                if (!response.ok) throw new Error('Order not found');
                const result = await response.json();
                
                if (result.success && result.data) {
                    currentOrderNumber = orderNumber;
                    currentOrderData = result.data;
                    
                    // Update all UI sections
                    renderV5OrderDetails(result.data);
                    showNotification('Order loaded successfully', 'success');
                } else {
                    showNotification('Failed to load order: ' + (result.error || 'Unknown error'), 'error');
                }
            } catch (error) {
                console.error('Error loading V5 order:', error);
                showNotification('Error: ' + error.message, 'error');
            }
        }
        
        // Render V5 order details
        function renderV5OrderDetails(data) {
            console.log('Rendering V5 order:', data);
            
            // Use updateDashboard for consistent rendering
            updateDashboard(data);
            
            // Also render line items if present
            if (data.lineItems && data.lineItems.length) {
                renderV5LineItems(data.lineItems);
            }
            
            // Update lifecycle stage
            updateLifecycleStage(data.lifecycleStage || 'processing');
            
            // Update Review Status
            updateReviewStatusDisplay(data.reviewStatus || 'not_ready');
            
            // IMPORTANT: Refresh SAP panel when order changes
            // This ensures the SAP tab shows correct data for the selected order
            loadSAPDetails();
            
            // Render Splunk services if available
            console.log('Checking splunkServices:', data.splunkServices);
            console.log('splunkServices keys:', data.splunkServices ? Object.keys(data.splunkServices) : 'none');
            console.log('by_category:', data.splunkServices?.by_category);
            if (data.splunkServices && data.splunkServices.by_category && typeof renderOrderServices === 'function') {
                console.log('Rendering Splunk services with by_category:', Object.keys(data.splunkServices.by_category));
                // Pass splunkServices directly - it already has by_category, summary, services
                renderOrderServices(data.splunkServices);
            } else {
                console.log('Splunk services not available or missing by_category');
            }
        }
        
        // Helper to update field by selector
        function updateField(selector, value) {
            const el = document.querySelector(selector);
            if (el) el.textContent = value;
        }
        
        // Render V5 line items
        function renderV5LineItems(items) {
            const container = document.querySelector('.line-items-body') || document.querySelector('#lineItemsContainer');
            if (!container) return;
            
            container.innerHTML = items.map(item => `
                <tr class="line-item-row">
                    <td class="item-image-cell">
                        <div class="item-image-placeholder">📦</div>
                    </td>
                    <td class="item-details-cell">
                        <div class="item-name">${item.productName || 'Unknown Product'}</div>
                        <div class="item-style">${item.styleColor || '—'}</div>
                        <div class="item-size">Size: ${item.size || '—'}</div>
                    </td>
                    <td class="item-qty-cell">${item.quantity || 1}</td>
                    <td class="item-price-cell">CA$${(item.unitPrice || 0).toFixed(2)}</td>
                    <td class="item-tax-cell">CA$${(item.tax || 0).toFixed(2)}</td>
                    <td class="item-total-cell">CA$${(item.totalWithTax || item.unitPrice || 0).toFixed(2)}</td>
                    <td class="item-status-cell">
                        <span class="status-badge ${(item.status || '').toLowerCase()}">${item.status || 'Processing'}</span>
                    </td>
                </tr>
            `).join('');
        }
        
        // Update lifecycle stage visualization
        function updateLifecycleStage(stage) {
            const stageMap = {
                'order_placed': 1,
                'processing': 2,
                'fulfilled': 3,
                'shipped': 4,
                'delivered': 5,
                'returned': 6
            };
            const currentStep = stageMap[stage] || 2;
            
            document.querySelectorAll('.lifecycle-step').forEach((step, idx) => {
                step.classList.remove('active', 'completed');
                if (idx + 1 < currentStep) step.classList.add('completed');
                if (idx + 1 === currentStep) step.classList.add('active');
            });
            
            const stageBadge = document.querySelector('.current-stage-badge');
            if (stageBadge) stageBadge.textContent = stage.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }
        
        // Update review status display
        function updateReviewStatusDisplay(status) {
            const badge = document.getElementById('reviewStatusBadge');
            if (badge) {
                const statusText = {
                    'not_ready': 'NOT READY',
                    'ready': 'PASS',
                    'in_progress': 'Review in Progress',
                    'pass': 'Pass',
                    'fail': 'Fail'
                };
                badge.textContent = statusText[status] || status;
                badge.className = 'review-status-badge ' + status.replace(/_/g, '-');
            }
        }

        // Initialize - V5 Production Dashboard
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('V5 Production Order Dashboard loaded');
            
            // First, load V5 orders for dropdown
            await loadV5Orders();
            
            // Check for order in URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const urlOrder = urlParams.get('order');
            
            if (urlOrder) {
                console.log('Loading order from URL:', urlOrder);
                
                // Find the order in V5 orders list
                const order = v5Orders.find(o => o.order_number === urlOrder);
                if (order) {
                    await selectV5Order(urlOrder, order.scenario_case || 'PROD', order.jira_ticket || '—');
                } else {
                    // Order not in list, try loading directly
                    await loadV5OrderData(urlOrder);
                    document.getElementById('selectedOrder').textContent = urlOrder;
                    document.getElementById('selectedScenario').textContent = 'PROD';
                }
            } else if (v5Orders.length > 0) {
                // Load first order by default
                const firstOrder = v5Orders[0];
                await selectV5Order(firstOrder.order_number, firstOrder.scenario_case || 'PROD', firstOrder.jira_ticket || '—');
            }
        });
        
        // Load order by order number (for URL parameters)
        async function loadOrderByNumber(orderNumber) {
            console.log('Loading order by number:', orderNumber);
            
            // Find the order ID in the dropdown that matches this order number
            const options = document.querySelectorAll('.dropdown-option');
            let foundOrderId = null;
            
            options.forEach(opt => {
                const orderGlow = opt.querySelector('.order-glow');
                if (orderGlow && orderGlow.textContent === orderNumber) {
                    foundOrderId = opt.getAttribute('data-value');
                }
            });
            
            if (foundOrderId) {
                // Use the existing loadOrder function with the orderId
                console.log('Found order ID:', foundOrderId);
                updateDropdownDisplay(orderNumber);
                await loadOrder(foundOrderId, orderNumber);
                setTimeout(refreshOrderServices, 500);
            } else {
                // Order not in dropdown, load directly from API
                console.log('Order not in dropdown, loading from API...');
                try {
                    const response = await fetch(`${API_BASE}/orders/${orderNumber}/api-data`);
                    if (!response.ok) throw new Error('Order not found');
                    const result = await response.json();
                    
                    if (result.success && result.data) {
                        currentOrderNumber = orderNumber;
                        currentOrderData = result.data;
                        updateDropdownDisplay(orderNumber);
                        
                        // Manually update UI sections
                        populateOrderDetails(result.data);
                        updateLineItems(result.data.lineItems || []);
                        updateFinancialBreakdown(result.data);
                        updateOrderReferences(result.data);
                        
                        setTimeout(refreshOrderServices, 500);
                        console.log('Order loaded successfully from API:', orderNumber);
                    } else {
                        console.error('Failed to load order:', result.error);
                    }
                } catch (error) {
                    console.error('Error loading order from API:', error);
                }
            }
        }
        
        // Update dropdown display for current order
        function updateDropdownDisplay(orderNumber) {
            const dropdownSelected = document.querySelector('.dropdown-selected');
            if (dropdownSelected) {
                // Try to find matching order in dropdown options
                const options = document.querySelectorAll('.dropdown-option');
                let found = false;
                options.forEach(opt => {
                    const orderGlow = opt.querySelector('.order-glow');
                    if (orderGlow && orderGlow.textContent === orderNumber) {
                        const scenario = opt.querySelector('.scenario-glow')?.textContent || '';
                        const jira = opt.querySelector('.jira-glow')?.textContent || '';
                        dropdownSelected.innerHTML = `
                            <span class="scenario-glow">${scenario}</span>
                            <span class="separator">│</span>
                            <span class="jira-glow">${jira}</span>
                            <span class="separator">│</span>
                            <span class="order-glow">${orderNumber}</span>
                            <span class="dropdown-arrow">▼</span>
                        `;
                        found = true;
                    }
                });
                if (!found) {
                    // Just show the order number
                    dropdownSelected.innerHTML = `
                        <span class="order-glow">${orderNumber}</span>
                        <span class="dropdown-arrow">▼</span>
                    `;
                }
            }
        }
    </script>
<script>
        // ============================================
        // STANDALONE MODE - V5 Dashboard Export
        // ALL ORDERS EMBEDDED - 2 orders
        // Generated: 2026-01-20T11:52:34.413266
        // ============================================
        const STANDALONE_MODE = true;
        const EMBEDDED_ALL_ORDERS = [
  {
    "order_number": "C01560878011",
    "sap_order": "7614808596",
    "po_number": "CA1698129408",
    "review_status": "ready",
    "jira_ticket": "MOOSE-538",
    "scenario_case": "FS-2.0",
    "scenario_summary": "SALES ORDER",
    "scenario_details": [
      "Single Line, Single Unit",
      "$ off promo - product",
      "Paid Express Shipping",
      "Shipping Fee",
      "CA-ON"
    ],
    "api_data": {
      "orderNumber": "C01560878011",
      "orderType": "Sales Order",
      "orderDate": "2026-01-14T01:12:32",
      "orderClassification": "STANDARD",
      "status": "Return Created",
      "paymentStatus": "Paid",
      "origin": "nike.digital.web",
      "enterprise": "NIKECA",
      "createdBy": "Consumer",
      "currency": "CAD",
      "customerName": "Buffalo Bill E3",
      "customerEmail": "tkinney.candig@gmail.com",
      "customerPhone": "7165146141",
      "shippingAddress": {
        "name": "Buffalo Bill E3",
        "street": "1 Bass Pro Mills Dr",
        "city": "Concord",
        "province": "ON",
        "province_code": "CA-ON",
        "postal_code": "L4K 5W4",
        "country": "CA",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141"
      },
      "billingAddress": {
        "name": "Buffalo Bill E3",
        "street": "1 Bass Pro Mills Dr",
        "city": "Concord",
        "province": "ON",
        "province_code": "CA-ON",
        "postal_code": "L4K 5W4",
        "country": "CA",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141"
      },
      "sapDocuments": {
        "salesOrder": "7614808596",
        "poNumber": "CA1698129408",
        "deliveryDoc": "1337937146",
        "billingDoc": "4540523822",
        "accountingDoc": "4540523822",
        "goodsIssue": "2272120068",
        "shipment": "0825245580",
        "handlingUnit": "3036690938",
        "pickingRequest": "1337937146",
        "serviceConfirmation": "0157146020"
      },
      "fulfillment": {
        "node": "1042_GA",
        "doms_purchase_order": "CA1698129408",
        "s4_delivery_number": "1337937146"
      },
      "lifecycleStage": "return",
      "totals": {
        "product": 24.0,
        "productTotal": 24.0,
        "subtotal": 24.0,
        "shipping": 10.95,
        "shippingTotal": 10.95,
        "shippingTax": 1.42,
        "discount": -12.0,
        "discountTotal": -12.0,
        "tax": 2.02,
        "taxTotal": 2.02,
        "orderTotal": 24.97
      },
      "lineItems": [
        {
          "productName": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
          "styleColor": "DX5416-480",
          "color": "Game Royal/Game Royal/White",
          "size": "S",
          "unitPrice": 24.0,
          "quantity": 1,
          "status": "Return Created",
          "fulfiller": "1042_GA - 7614808596 (CA1698129408)",
          "shippedDate": "2026-01-14",
          "deliveredDate": "2026-01-15",
          "totalWithTax": 12.6,
          "productType": "APPAREL",
          "category": "KIDS",
          "ageGroup": "OLDER KIDS",
          "gtin": "00196153477223",
          "upc": "196153477223",
          "ean": "00196153477223",
          "sapOrder": "7614808596",
          "poNumber": "CA1698129408",
          "ftcDate": "2026-01-22T08:30:00",
          "divisionCode": "20",
          "divisionName": "Apparel",
          "profitCenter": "622001",
          "taxType": "reduced",
          "taxNote": "Kids clothing - 5% GST only (no PST) in Ontario",
          "tax": 0.6
        }
      ],
      "shipments": [
        {
          "trackingNumber": "459016771265",
          "carrier": "FedEx",
          "service": "GRND",
          "shipmentId": "80d89889-14ad-438b-8d3a-f403690130ee",
          "shipDate": "2026-01-14",
          "status": "Shipped",
          "deliveredDate": "2026-01-15",
          "fulfiller": "1042_GA - 7614808596 (CA1698129408)",
          "itemCount": 1
        }
      ],
      "paymentHistory": [
        {
          "date": "2026-01-14T01:12:32",
          "type": "AUTHORIZATION",
          "amount": 24.97,
          "authCode": "020538",
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T01:12:32",
          "type": "CREATE_ORDER",
          "amount": 24.97,
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T19:10:22",
          "type": "ORDER_INVOICE",
          "amount": -24.97,
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T19:10:22",
          "type": "CHARGE",
          "amount": 24.97,
          "transactionId": "1079042329",
          "status": "CHECKED"
        }
      ],
      "priceSummary": {
        "product": 24.0,
        "shipping": 10.95,
        "discount": -12.0,
        "tax": 2.02,
        "total": 24.97
      },
      "reviewStatus": "ready",
      "review_status": "ready",
      "returnOrder": "CAR100100200189",
      "returnStatus": "Created",
      "scenario_details": [
        "Single Line, Single Unit",
        "$ off promo - product",
        "Paid Express Shipping",
        "Shipping Fee",
        "CA-ON"
      ]
    },
    "sap_data": {
      "captured_at": "2026-01-16T06:37:59.000000",
      "capture_method": "SAP_COMPLETE_ORDER_CAPTURE_V3",
      "sap_analysis_complete": true,
      "deep_analysis_version": "2026-01-16T06:37:59",
      "capture_file": "sap_screenshots_prod/sap_complete_7614808596_20260115_224122.json",
      "sap_order": "7614808596",
      "po_number": "CA1698129408",
      "delivery_doc": "1337937146",
      "billing_doc": "4540523822",
      "accounting_doc": "4540523822",
      "goods_issue_doc": "2272120068",
      "shipment_doc": "0825245580",
      "company_code": "753",
      "fiscal_year": "2026",
      "key_documents": {
        "sales_order": "7614808596",
        "delivery_doc": "1337937146",
        "billing_doc": "4540523822",
        "accounting_doc": "4540523822",
        "goods_issue": "2272120068",
        "shipment": "0825245580"
      },
      "header_analysis": {
        "financial": {
          "net_value": "22.95",
          "currency": "CAD",
          "payment_terms": "ZIC1",
          "payment_terms_text": "Per Nike Owned Agreement",
          "incoterms": "FOB ORIGIN",
          "sales_org": "1100",
          "distribution_channel": "10",
          "division": "98",
          "order_type": "Z033",
          "order_type_text": "Direct Consumr Order",
          "pricing_date": "01/14/2026",
          "billing_date": "01/15/2026"
        },
        "order_details": {
          "requested_delivery_date": "01/15/2026",
          "cancel_date": "03/15/2026",
          "total_weight": "0.090 KG",
          "total_volume": "0.001 M3",
          "ship_to_name": "Buffalo Bill",
          "ship_to_address": "E3 1 Bass Pro Mills Dr, Concord ON L4K 5W4"
        },
        "products": [
          {
            "item": "10",
            "material": "196153477223",
            "description": "NK G NK DF TROHY LGN - Girls Nike Dri-FIT Trophy Leggings",
            "size": "S",
            "qty": 1,
            "net_price": 22.95,
            "net_value": 22.95,
            "division": "20",
            "profit_center": "922192"
          }
        ],
        "afs_tabs_captured": [
          "Sales",
          "Shipping",
          "Billing",
          "Financial_accounting",
          "Conditions",
          "Account_assignment",
          "Partner",
          "Texts",
          "Purchase_order_data",
          "Status"
        ]
      },
      "transactions": {
        "VA03": {
          "sales_order": "7614808596",
          "sold_to": "8000350",
          "ship_to": "8000350",
          "order_type": "Z033",
          "document_date": "01/14/2026",
          "net_value": "22.95",
          "currency": "CAD"
        },
        "VL03N": {
          "delivery_doc": "1337937146",
          "shipping_point": "1042",
          "ship_to": "8000350"
        },
        "VF03": {
          "billing_doc": "4540523822",
          "billing_date": "01/15/2026",
          "billing_type": "ZDTC",
          "net_value": "22.95",
          "currency": "CAD",
          "payer": "8000350",
          "company_code": "753"
        },
        "FB03": {
          "accounting_doc": "4540523822",
          "company_code": "753",
          "fiscal_year": "2026",
          "posting_date": "01/15/2026",
          "document_type": "RV"
        }
      },
      "pricing": {
        "net_value": "22.95",
        "currency": "CAD",
        "pricing_procedure": "ZCDDTC",
        "pricing_date": "01/14/2026"
      },
      "va03": {
        "net_value": "22.95",
        "currency": "CAD",
        "payment_terms": "ZIC1",
        "payment_terms_text": "Per Nike Owned Agreement",
        "incoterms": "FOB ORIGIN",
        "sales_org": "1100",
        "distribution_channel": "10",
        "division": "98",
        "pur_ord_type": "Z033",
        "purchase_order_type": "Direct Consumr Order",
        "doc_date": "01/14/2026",
        "pricing_date": "01/14/2026",
        "billing_date": "01/15/2026",
        "total_weight": "0.090 KG",
        "req_delivery_date": "01/15/2026",
        "cancel_date": "03/15/2026",
        "sold_to": "8000350",
        "sold_to_name": "NIKE.COM",
        "ship_to": "8000350",
        "ship_to_name": "Buffalo Bill",
        "po_number": "CA1698129408",
        "company_code": "753"
      },
      "vf03": {
        "billing_doc": "4540523822",
        "billing_type": "ZDTC",
        "billing_type_desc": "At-Once Invoice",
        "billing_date": "01/15/2026",
        "net_value": "22.95",
        "currency": "CAD",
        "payer": "8000350",
        "company_code": "753"
      },
      "fb03": {
        "accounting_doc": "4540523822",
        "company_code": "753",
        "fiscal_year": "2026",
        "period": "1",
        "posting_date": "01/15/2026",
        "doc_type": "RV",
        "doc_type_desc": "Billing doc.transfer",
        "status": "Complete"
      },
      "header_data": {
        "order_type": "Z033",
        "order_type_desc": "Direct Consumr Order",
        "document_date": "01/14/2026",
        "created_by": "BTC_GBL_DO",
        "created_on": "01/14/2026",
        "created_time": "03:31:38",
        "sales_org": "1100",
        "distribution_channel": "10",
        "division": "98",
        "sales_office": "0042",
        "sales_office_desc": "Canada Sales Office",
        "doc_currency": "CAD",
        "pricing_date": "01/14/2026",
        "pricing_procedure": "ZCDDTC",
        "pricing_procedure_desc": "CAN Digital Dir",
        "net_value": "22.95",
        "sold_to_party": "8000350",
        "sold_to_name": "NIKE.COM",
        "sold_to_address": "200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
        "ship_to_party": "8000350",
        "ship_to_name": "Buffalo Bill",
        "ship_to_address": "E3 1 Bass Pro Mills Dr / Concord ON L4K 5W4",
        "payer": "8000350",
        "billing_date": "01/15/2026",
        "req_delivery_date": "01/15/2026",
        "cancel_date": "03/15/2026",
        "incoterms": "FOB ORIGIN",
        "total_weight": "0.090 KG",
        "payment_terms": "ZIC1"
      },
      "billing_data": {
        "company_code": "753",
        "company_name": "NIKE Canada Corp.",
        "billing_date": "01/15/2026",
        "payment_terms": "ZIC1",
        "payment_terms_desc": "Per Nike Owned Agreement",
        "incoterms": "FOB",
        "incoterms_location": "ORIGIN",
        "fixed_value_date": "01/14/2026"
      },
      "shipping_data": {
        "shipping_condition": "Consumer Order.Com",
        "means_of_transport": "GRND",
        "means_of_transport_desc": "Ground",
        "total_weight": "0.090",
        "weight_unit": "KG",
        "net_weight": "0.090",
        "volume": "0.001",
        "volume_unit": "M3"
      },
      "item_data": {
        "item_number": "10",
        "item_category": "ZTN2",
        "item_category_desc": "At-Once Item",
        "material": "DX5416-480",
        "material_desc": "K NK DF TRPHY23 SHORT",
        "order_quantity": "1",
        "quantity_unit": "EA",
        "delivery_qty": "1",
        "delivery_date": "01/15/2026",
        "schedule_type": "Z3"
      },
      "document_flow": {
        "sales_order": "7614808596",
        "outbound_delivery": "1337937146",
        "service_confirmation": "0157146020",
        "picking_request": "1337937146",
        "goods_issue": "2272120068",
        "shipment": "0825245580",
        "handling_unit": "3036690938",
        "billing_doc": "4540523822",
        "accounting_doc": "4540523822"
      },
      "partners": {
        "sold_to_party": {
          "number": "8000350",
          "name": "NIKE.COM",
          "city": "TORONTO",
          "postal_code": "M5V 3C7"
        },
        "top_node": {
          "number": "8000350",
          "name": "NIKE.COM",
          "city": "TORONTO",
          "postal_code": "M5V 3C7"
        },
        "bill_to_party": {
          "number": "8000350",
          "name": "NIKE.COM",
          "city": "TORONTO",
          "postal_code": "M5V 3C7"
        },
        "payer": {
          "number": "8000350",
          "name": "NIKE.COM",
          "city": "TORONTO",
          "postal_code": "M5V 3C7"
        },
        "ship_to_party": {
          "number": "8000350",
          "name": "Buffalo Bill",
          "address": "E3 1 Bass Pro Mills Dr",
          "city": "Concord",
          "postal_code": "L4K 5W4"
        },
        "end_cust_bill_addr": {
          "number": "536516",
          "name": "Kinney Tia",
          "address": "17965 SW Niks Drive",
          "city": "Beaverton",
          "postal_code": "97003"
        }
      },
      "plant": "1042",
      "fulfillerCode": "1042_GA",
      "fulfillerName": "Brimley General Availability",
      "gl_postings": [
        {
          "account": "8000350",
          "description": "Customer Receivable",
          "text": "NIKE.COM",
          "amount": 24.97,
          "profit_center": "922192"
        },
        {
          "account": "40000000",
          "description": "Sales",
          "text": "",
          "amount": -24.0,
          "profit_center": "922192"
        },
        {
          "account": "22009001",
          "description": "AcTax-Sales-GST",
          "text": "GST 5%",
          "amount": -0.6
        },
        {
          "account": "22009004",
          "description": "AcTax-Sales-HST",
          "text": "HST 8%",
          "amount": -1.42
        },
        {
          "account": "48003000",
          "description": "Other Rev - Shipping",
          "text": "Ground",
          "amount": -10.95
        },
        {
          "account": "49400011",
          "description": "ICRev-Csgn Whls",
          "text": "Intercompany",
          "amount": -12.0,
          "profit_center": "922192"
        },
        {
          "account": "59400002",
          "description": "ICCOGS-Csgn Retl",
          "text": "Intercompany",
          "amount": 12.0,
          "profit_center": "922192"
        },
        {
          "account": "40501000",
          "description": "Discount-Cash",
          "text": "",
          "amount": 12.0
        }
      ],
      "billing_items": [
        {
          "item": "000010",
          "material": "00196153477223",
          "description": "Nike Trophy23 Older Kids' Leggings",
          "size": "S",
          "qty": 1,
          "unit": "EA",
          "net_price": 22.95,
          "net_value": 22.95,
          "division": "20",
          "profit_center": "922192",
          "status": "Complete"
        }
      ],
      "tax_summary": {
        "province": "ON",
        "tax_type": "HST",
        "tax_rate": 0.13,
        "product_subtotal": 22.95,
        "product_tax": 2.67,
        "shipping_subtotal": 10.95,
        "shipping_tax": 1.42,
        "tax_amount": 4.09,
        "gross_total": 27.04,
        "province_name": "Ontario"
      },
      "cogs_summary": {
        "total_net_value": 22.95,
        "total_cogs": 12.0,
        "gross_margin": 10.95,
        "margin_pct": 47.7
      },
      "vl03n": {
        "delivery_doc": "1337937146",
        "delivery_type": "LF",
        "shipping_point": "1042",
        "goods_issue_date": "01/15/2026",
        "goods_issue_status": "Complete",
        "total_weight": "0.090 KG"
      }
    },
    "omobo_data": {
      "captured_at": "2026-01-16T01:16:00.000000",
      "omobo_analysis_complete": true,
      "capture_method": "FULL_DEEP_ANALYSIS_ALL_TABS_V2",
      "deep_analysis_version": "2026-01-16",
      "order_number": "C01560878011",
      "order_type": "Sales Order",
      "order_date": "2026-01-14T01:12:32",
      "order_classification": "STANDARD",
      "status": "Return Created",
      "payment_status": "Paid",
      "origin": "nike.digital.web",
      "enterprise": "NIKECA",
      "created_by": "Consumer",
      "customer": {
        "name": "Tia Kinney",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141",
        "nike_member": true,
        "member_type": "Nike/Brand Member",
        "member_id": "aff8b62f-2389-4457-8fb2-02ed0c4b5d87"
      },
      "sap_order": "7614808596",
      "po_number": "CA1698129408",
      "fulfillment_node": "1042_GA",
      "fulfiller": "1042_GA - 7614808596 (CA1698129408)",
      "shipment": {
        "tracking_number": "459016771265",
        "carrier": "FedEx",
        "service": "GRND",
        "shipment_id": "80d89889-14ad-438b-8d3a-f403690130ee",
        "ship_date": "2026-01-14",
        "edd": "2026-01-15",
        "status": "Shipped"
      },
      "shipping_address": {
        "name": "Buffalo Bill",
        "address_line1": "E3 1 Bass Pro Mills Dr",
        "city": "Concord",
        "state": "ON",
        "postal_code": "L4K 5W4",
        "country": "CA",
        "phone": "7165146141",
        "email": "tkinney.candig@gmail.com"
      },
      "billing_address": {
        "name": "Tia Kinney",
        "address_line1": "17965 SW Niks Drive",
        "city": "Beaverton",
        "state": "OR",
        "postal_code": "97003",
        "country": "US",
        "phone": "7165146141"
      },
      "line_items": [
        {
          "style_number": "DX5416-480",
          "style_name": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
          "color": "Game Royal/Game Royal/White",
          "size": "S",
          "display_size": "S",
          "quantity": 1,
          "unit_price": 24.0,
          "currency": "CAD",
          "status": "Return Created",
          "edd": "2026-01-15",
          "line_total": 12.6,
          "upc": "00196153477223",
          "gtin": "00196153477223",
          "type": "INLINE",
          "ftc_date": "2026-01-22T08:30:00",
          "tax": 0.6,
          "charge": 0.0,
          "ext_price": 24.0,
          "product_type": "KIDS",
          "fulfiller": "1042_GA - 7614808596 (CA1698129408)",
          "splunk_product_details": {
            "gtin": "00196153477223",
            "nike_size": "S",
            "stock_keeping_unit_id": "28781154",
            "product_id": "65867526-b3b3-5d3c-99f8-aa5b58fdd722",
            "catalog_sku_id": "e254bf73-642b-3872-b5bb-99e6c4410d16",
            "commodity_code": null,
            "merch_group": "US",
            "parent_type": "merchProduct",
            "localized_size": "S",
            "source": "splunk_pricing"
          },
          "stock_keeping_unit_id": "28781154",
          "product_id": "65867526-b3b3-5d3c-99f8-aa5b58fdd722",
          "catalog_sku_id": "e254bf73-642b-3872-b5bb-99e6c4410d16",
          "commodity_code": null,
          "merch_group": "US",
          "productDetails": {
            "stockKeepingUnitId": "28781154",
            "productId": "65867526-b3b3-5d3c-99f8-aa5b58fdd722",
            "snapshotId": "e254bf73-642b-3872-b5bb-99e6c4410d16",
            "catalogSkuId": "e254bf73-642b-3872-b5bb-99e6c4410d16",
            "merchGroup": "US",
            "commodityCode": null,
            "gtin": "00196153477223",
            "nikeSize": "S",
            "styleColor": "DX5416-480",
            "labelName": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
            "pid": "",
            "styleType": "INLINE",
            "productType": "KIDS",
            "price": 24.0,
            "currentPrice": 24.0,
            "fullPrice": 24.0
          },
          "styleColor": "DX5416-480",
          "productName": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts"
        }
      ],
      "totals": {
        "product": 24.0,
        "shipping": 10.95,
        "discounts": 12.0,
        "tax": 2.02,
        "order_total": 24.97,
        "currency": "CAD"
      },
      "tax_breakdown": {
        "product_tax": 0.6,
        "shipping_tax": 1.42,
        "total_tax": 2.02,
        "product_tax_rate": 0.05,
        "shipping_tax_rate": 0.13,
        "province": "ON",
        "tax_code": "Z8",
        "notes": "Kids product = 5% GST only; Shipping = 13% HST standard rate"
      },
      "coupon_code": "TESTCA50PUSR01",
      "communications": [
        {
          "date": "2026-01-14",
          "sent_to": "tkinney.candig@gmail.com",
          "category": "digital_purchase_invoice",
          "type": "email"
        },
        {
          "date": "2026-01-14",
          "sent_to": "tkinney.candig@gmail.com",
          "category": "ship_confirmation",
          "type": "email"
        },
        {
          "date": "2026-01-13",
          "sent_to": "tkinney.candig@gmail.com",
          "category": "order_confirmation",
          "type": "email"
        }
      ],
      "comments": [
        {
          "date": "2026-01-14T08:34:06",
          "prime_line": "1",
          "user": "DOMS",
          "reason": "FTC1",
          "contact_type": "Email",
          "reference": "Email_Event",
          "details": "FTC - order delay notification - Nike Store, Swoosh, Nike Find"
        },
        {
          "date": "2026-01-14T01:12:32",
          "reason": "approve",
          "details": "FraudAuthResponse"
        }
      ],
      "payment": {
        "type": "Credit Card",
        "card_type": "MasterCard",
        "merchant_id": "NikeECOM_CA",
        "card_last_four": "5375",
        "expiration": "12/2027",
        "status": "Active",
        "requested_auth": 0,
        "authorized": 0,
        "requested_charge": 0,
        "charged": 24.97,
        "refunded": 0,
        "deep_analysis_updated": "2026-01-16T01:16:00Z"
      },
      "transactions": [
        {
          "date": "2026-01-14T01:12:32",
          "auth_date": "2026-01-14T01:11:06",
          "type": "AUTHORIZATION",
          "amount": 24.97,
          "auth_code": "020538",
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T01:12:32",
          "type": "CREATE_ORDER",
          "amount": 24.97,
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T19:10:22",
          "type": "ORDER_INVOICE",
          "amount": -24.97,
          "status": "CHECKED"
        },
        {
          "date": "2026-01-14T19:10:22",
          "auth_date": "2026-01-14T19:10:22",
          "type": "CHARGE",
          "amount": 24.97,
          "status": "CHECKED",
          "invoice_number": "1079042329"
        }
      ],
      "invoices": [
        {
          "invoice_number": "1079042329",
          "invoice_date": "2026-01-14",
          "invoice_type": "ORDER",
          "order_number": "C01560878011",
          "order_date": "2026-01-14",
          "summary": {
            "card_type": "MasterCard",
            "card_classification": "CREDIT_CARD",
            "amount": 24.97,
            "card_last_four": "5375",
            "expiration": "12/2027"
          },
          "billing_address": {
            "name": "Tia Kinney",
            "address": "17965 SW Niks Drive",
            "city_state_zip": "Beaverton, OR, 97003",
            "phone": "7165146141"
          },
          "header_charges_discount": {
            "charges": 10.95,
            "discounts": 0.0,
            "tax": 1.42
          },
          "totals": {
            "line_subtotals": 24.0,
            "total_charges": 10.95,
            "total_discounts": 12.0,
            "total_tax": 2.02
          },
          "transaction": {
            "date": "2026-01-14",
            "type": "CHARGE",
            "amount": 24.97,
            "status": "CHECKED",
            "ref_id": "H5R4PSRK8C9JRBX3"
          },
          "line_items": [
            {
              "style_number": "DX5416",
              "style_name": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
              "clr": "480",
              "size": "S",
              "qty": 1.0,
              "unit": 24.0,
              "ext_price": 24.0,
              "charge": 0.0,
              "tax": 0.6,
              "total": 12.6
            }
          ]
        }
      ],
      "shipments": [
        {
          "tracking_number": "459016771265",
          "carrier": "FedEx",
          "carrier_code": "FEDX",
          "status": "SHIPPED",
          "shipped_date": "2026-01-14T21:30:00.000Z",
          "estimated_delivery": "2026-01-15T16:30:00Z",
          "delivery_doc": "1337937146",
          "bol": "9900036468800001",
          "container_number": "00000912090020091658",
          "node": "1042_GA",
          "shipping_method": "GRND"
        }
      ],
      "return_order": "CAR100100200189",
      "return_status": "Created",
      "related_orders": [
        {
          "order_number": "CAR100100200189",
          "type": "Return",
          "status": "Created"
        }
      ]
    },
    "splunk_services": {
      "data_source": "splunk_prod",
      "splunk_query": "\nsearch index=app* OR index=dockerlogs* (\"C01560878011\" OR \"7614808596\" OR \"CA1698129408\" OR \"1337937146\" OR \"4540523822\")\n| rex field=sourcetype \"log4j:(?<svc_name>[^:]+)\"\n| rex field=_raw \"app=(?<app_name>[a-zA-Z0-9_-]+)\"\n| eval service = coalesce(svc_name, app_name)\n| where isnotnull(service)\n| eval has_error = if(match(_raw, \"(?i)(ERROR|FATAL|Exception|FAILED|failure|error=|status=5)\"), 1, 0)\n| stats \n    count as event_count,\n    sum(has_error) as error_count,\n    min(_time) as first_seen,\n    max(_time) as last_seen,\n    values(index) as indexes\n    by service\n| eval first_seen_str = strftime(first_seen, \"%Y-%m-%d %H:%M:%S\")\n| eval last_seen_str = strftime(last_seen, \"%Y-%m-%d %H:%M:%S\")\n| sort -event_count\n",
      "search_identifiers": {
        "consumer_order": "C01560878011",
        "sap_order": "7614808596",
        "po_number": "CA1698129408",
        "delivery_doc": "1337937146",
        "accounting_doc": "4540523822"
      },
      "summary": {
        "total_services": 91,
        "total_events": 23345,
        "categories": [
          "Order Review",
          "Shipping",
          "Order Insights",
          "Order Repository",
          "Fulfillment",
          "Returns",
          "Order Capture",
          "Node Integration",
          "Sterling OMS",
          "Invoice",
          "Event Management",
          "Tax",
          "Payment",
          "Order Status",
          "Supporting",
          "Order Transformation",
          "Order Submit",
          "SAP Integration",
          "Integration Platform",
          "Promotions",
          "Recon",
          "Inventory"
        ],
        "errors_found": 29
      },
      "services": [
        {
          "service": "order-review-prod",
          "category": "Order Review",
          "event_count": 6880,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:17:21",
          "last_seen": "2026-01-20 17:26:10",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "shipmentdetails",
          "category": "Shipping",
          "event_count": 4240,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:17:21",
          "last_seen": "2026-01-20 17:26:10",
          "indexes": [
            "app"
          ],
          "status": "pass"
        },
        {
          "service": "order-detail-insights-prod",
          "category": "Order Insights",
          "event_count": 2905,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-14 09:17:20",
          "last_seen": "2026-01-20 17:26:09",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "order-summary-insights-prod",
          "category": "Order Insights",
          "event_count": 2547,
          "error_count": 519,
          "has_errors": true,
          "first_seen": "2026-01-14 09:17:21",
          "last_seen": "2026-01-20 17:34:45",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "frv3ingestion_global",
          "category": "Order Review",
          "event_count": 1018,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-14 00:00:00",
          "last_seen": "2026-01-16 23:53:03",
          "indexes": [
            "app-silver"
          ],
          "status": "error"
        },
        {
          "service": "order-repo-ingestor-prod",
          "category": "Order Repository",
          "event_count": 923,
          "error_count": 96,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-16 23:47:20",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "frv3query_global",
          "category": "Order Review",
          "event_count": 680,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:17:21",
          "last_seen": "2026-01-20 17:26:10",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentstatusservice-prod",
          "category": "Fulfillment",
          "event_count": 451,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 11:36:02",
          "last_seen": "2026-01-14 18:53:23",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "return-capture-service-prod",
          "category": "Returns",
          "event_count": 337,
          "error_count": 56,
          "has_errors": true,
          "first_seen": "2026-01-16 17:09:44",
          "last_seen": "2026-01-16 23:45:58",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "fulfillmentpoegress-na-prod",
          "category": "Fulfillment",
          "event_count": 324,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:41",
          "last_seen": "2026-01-14 11:30:01",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "order-update-processor-prod",
          "category": "Order Insights",
          "event_count": 269,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:21",
          "last_seen": "2026-01-15 02:30:56",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "order-repo-update-bridge-prod",
          "category": "Order Repository",
          "event_count": 268,
          "error_count": 14,
          "has_errors": true,
          "first_seen": "2026-01-14 09:12:58",
          "last_seen": "2026-01-16 23:47:20",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "order-repo-stream-prod",
          "category": "Order Repository",
          "event_count": 224,
          "error_count": 32,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-16 23:47:20",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "ordercreateprocessor-prod",
          "category": "Order Capture",
          "event_count": 169,
          "error_count": 3,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:44",
          "last_seen": "2026-01-14 09:12:47",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "return-order-create-service-prod",
          "category": "Returns",
          "event_count": 141,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-16 23:45:49",
          "last_seen": "2026-01-16 23:45:51",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "fulfillmentrequestcreate-enrich-prod",
          "category": "Fulfillment",
          "event_count": 123,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:42",
          "last_seen": "2026-01-15 02:31:13",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "fulfilleventstrwrkr-prod",
          "category": "Fulfillment",
          "event_count": 118,
          "error_count": 80,
          "has_errors": true,
          "first_seen": "2026-01-14 09:41:47",
          "last_seen": "2026-01-16 23:47:09",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "nsp-replay-service-prod",
          "category": "Node Integration",
          "event_count": 118,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-17 21:16:30",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "sterling-consumer-om",
          "category": "Sterling OMS",
          "event_count": 106,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:32",
          "last_seen": "2026-01-16 23:51:45",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "consumerinvoice",
          "category": "Invoice",
          "event_count": 100,
          "error_count": 5,
          "has_errors": true,
          "first_seen": "2026-01-15 02:53:03",
          "last_seen": "2026-01-15 03:31:30",
          "indexes": [
            "app-gold"
          ],
          "status": "error"
        },
        {
          "service": "user-order-insights-prod",
          "category": "Order Insights",
          "event_count": 94,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-16 17:07:50",
          "last_seen": "2026-01-20 17:34:45",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestcreate-consume-prod",
          "category": "Fulfillment",
          "event_count": 84,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:41",
          "last_seen": "2026-01-14 09:41:41",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "eventmanagement",
          "category": "Event Management",
          "event_count": 80,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-16 23:51:45",
          "indexes": [
            "app"
          ],
          "status": "pass"
        },
        {
          "service": "ordertaxservice-prod",
          "category": "Tax",
          "event_count": 78,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-15 02:35:31",
          "last_seen": "2026-01-15 02:35:32",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "fulfillmentconfirmservice-prod",
          "category": "Fulfillment",
          "event_count": 78,
          "error_count": 9,
          "has_errors": true,
          "first_seen": "2026-01-15 02:30:53",
          "last_seen": "2026-01-15 02:32:42",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "fulfillmentqueryservice-prod",
          "category": "Fulfillment",
          "event_count": 71,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:21",
          "last_seen": "2026-01-16 23:45:33",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "orderpaymentservice-prod",
          "category": "Payment",
          "event_count": 68,
          "error_count": 10,
          "has_errors": true,
          "first_seen": "2026-01-15 02:54:51",
          "last_seen": "2026-01-15 03:10:22",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "sterling-order-detail-prod",
          "category": "Sterling OMS",
          "event_count": 61,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:17:21",
          "last_seen": "2026-01-16 23:46:48",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "pass"
        },
        {
          "service": "paymentfraudworker",
          "category": "Payment",
          "event_count": 48,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:33:55",
          "last_seen": "2026-01-15 03:39:50",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "return-order-create-listener-prod",
          "category": "Returns",
          "event_count": 45,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-16 23:45:56",
          "last_seen": "2026-01-16 23:45:57",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "na-node-intg-status-service-prod",
          "category": "Node Integration",
          "event_count": 42,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 18:53:15",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "partnerorderstatusupdates-prod",
          "category": "Order Status",
          "event_count": 39,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:36",
          "last_seen": "2026-01-16 23:51:45",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestrouter-api-global-prod",
          "category": "Fulfillment",
          "event_count": 38,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:02",
          "last_seen": "2026-01-14 11:36:02",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "invoicerepository-prod",
          "category": "Invoice",
          "event_count": 35,
          "error_count": 6,
          "has_errors": true,
          "first_seen": "2026-01-15 02:53:04",
          "last_seen": "2026-01-16 01:14:45",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "cssfproxy",
          "category": "Supporting",
          "event_count": 34,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:02",
          "last_seen": "2026-01-16 23:47:30",
          "indexes": [
            "app"
          ],
          "status": "pass"
        },
        {
          "service": "consumerinvoicepdfservice-prod",
          "category": "Invoice",
          "event_count": 34,
          "error_count": 5,
          "has_errors": true,
          "first_seen": "2026-01-15 03:31:34",
          "last_seen": "2026-01-15 23:01:34",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "sterling-order-processor-prod",
          "category": "Sterling OMS",
          "event_count": 31,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:31",
          "last_seen": "2026-01-15 03:31:38",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "charonv2wkr",
          "category": "Order Transformation",
          "event_count": 31,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:09",
          "last_seen": "2026-01-14 09:11:09",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "ordersubmitocpubworker-prod",
          "category": "Order Submit",
          "event_count": 28,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:16",
          "last_seen": "2026-01-14 09:11:17",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestrouter-digitalnsp-global-prod",
          "category": "Fulfillment",
          "event_count": 27,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:03",
          "last_seen": "2026-01-14 11:36:03",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentenrichservice-prod",
          "category": "Fulfillment",
          "event_count": 26,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:02",
          "last_seen": "2026-01-15 02:37:59",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "checkoutswkr",
          "category": "Order Capture",
          "event_count": 25,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:04",
          "last_seen": "2026-01-14 09:11:09",
          "indexes": [
            "app-silver"
          ],
          "status": "error"
        },
        {
          "service": "create-rso-request-prod",
          "category": "SAP Integration",
          "event_count": 21,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-16 23:45:56",
          "last_seen": "2026-01-16 23:46:01",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "pass"
        },
        {
          "service": "order-updates-listener-prod",
          "category": "Order Insights",
          "event_count": 19,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-15 02:32:41",
          "last_seen": "2026-01-15 02:37:41",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "intg-pltfm-msg-receiver-sg-domsintg-009-prod",
          "category": "Integration Platform",
          "event_count": 19,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:21",
          "last_seen": "2026-01-15 03:10:22",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestcreate-enrich-prodbg",
          "category": "Fulfillment",
          "event_count": 18,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:47",
          "last_seen": "2026-01-16 23:46:47",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "omniarchivesrch",
          "category": "Order Repository",
          "event_count": 16,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 20:25:47",
          "last_seen": "2026-01-16 15:49:33",
          "indexes": [
            "app-gold"
          ],
          "status": "pass"
        },
        {
          "service": "postpurchase",
          "category": "Promotions",
          "event_count": 15,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-16 17:08:50",
          "last_seen": "2026-01-16 23:45:33",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "business-monitor-prod",
          "category": "Event Management",
          "event_count": 14,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-16 09:06:23",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "error"
        },
        {
          "service": "fulfillreqnodeegress-api-global-prod",
          "category": "Fulfillment",
          "event_count": 13,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 11:36:04",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "na-node-integration-processor-service-SG-NA-00004-prod",
          "category": "Node Integration",
          "event_count": 12,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 18:53:15",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "recon",
          "category": "Recon",
          "event_count": 12,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-14 09:11:50",
          "indexes": [
            "app"
          ],
          "status": "error"
        },
        {
          "service": "returns-location-prod",
          "category": "Returns",
          "event_count": 12,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-16 17:09:44",
          "last_seen": "2026-01-16 23:45:48",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "pass"
        },
        {
          "service": "ordersubmitreceiver-us-east-1-prod",
          "category": "Order Submit",
          "event_count": 11,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:09",
          "last_seen": "2026-01-14 09:11:09",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestcancel-nsp-prod",
          "category": "Fulfillment",
          "event_count": 10,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:53",
          "last_seen": "2026-01-15 02:33:18",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "cgw-fulfillmentevent-bridge-prod",
          "category": "Fulfillment",
          "event_count": 9,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:41:47",
          "last_seen": "2026-01-15 02:30:59",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "pass"
        },
        {
          "service": "nxgdemandhandler",
          "category": "Order Transformation",
          "event_count": 8,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 11:42:24",
          "last_seen": "2026-01-15 02:32:59",
          "indexes": [
            "app-silver"
          ],
          "status": "error"
        },
        {
          "service": "na-node-integration-publisher-service-SG-NA-00004-prod",
          "category": "Node Integration",
          "event_count": 8,
          "error_count": 6,
          "has_errors": true,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 18:53:15",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "intg-pltfm-msg-receiver-sg-domsintg-004-prod",
          "category": "Integration Platform",
          "event_count": 6,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:32",
          "last_seen": "2026-01-14 09:12:32",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "intg-pltfm-msg-receiver-sg-domsintg-005-prod",
          "category": "Integration Platform",
          "event_count": 5,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:30:56",
          "last_seen": "2026-01-15 02:30:56",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "intg-gi-receiver-mq-prod",
          "category": "Integration Platform",
          "event_count": 5,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:30:17",
          "last_seen": "2026-01-15 02:30:17",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "orderreporting",
          "category": "Order Status",
          "event_count": 5,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-16 23:45:53",
          "last_seen": "2026-01-16 23:45:53",
          "indexes": [
            "app-gold"
          ],
          "status": "pass"
        },
        {
          "service": "charonv2cmd",
          "category": "Order Transformation",
          "event_count": 5,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:09",
          "last_seen": "2026-01-14 09:11:09",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "intg-fr-receiver-prod",
          "category": "Integration Platform",
          "event_count": 5,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 11:36:03",
          "last_seen": "2026-01-14 11:36:04",
          "indexes": [
            "dockerlogs"
          ],
          "status": "error"
        },
        {
          "service": "roentgen-sap-pull-prod",
          "category": "SAP Integration",
          "event_count": 5,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 11:36:04",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "global-carrier-labels-fedex-wrkr-prod",
          "category": "Shipping",
          "event_count": 4,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-16 23:45:49",
          "last_seen": "2026-01-16 23:45:50",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "error"
        },
        {
          "service": "digitalsequenceidgenerator-prod",
          "category": "Supporting",
          "event_count": 4,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:53:03",
          "last_seen": "2026-01-15 02:53:03",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "omniarchive",
          "category": "Order Repository",
          "event_count": 4,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:02",
          "last_seen": "2026-01-16 15:49:32",
          "indexes": [
            "app-gold"
          ],
          "status": "pass"
        },
        {
          "service": "address-repo-prod",
          "category": "Supporting",
          "event_count": 4,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-14 09:11:50",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "invoicepublishservice-prod",
          "category": "Invoice",
          "event_count": 4,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 03:31:32",
          "last_seen": "2026-01-15 03:31:32",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "oneom-prod",
          "category": "Order Transformation",
          "event_count": 3,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:55",
          "last_seen": "2026-01-14 09:11:55",
          "indexes": [
            "dockerlogs-gold"
          ],
          "status": "pass"
        },
        {
          "service": "cgw-return-label-info-prod",
          "category": "Returns",
          "event_count": 3,
          "error_count": 2,
          "has_errors": true,
          "first_seen": "2026-01-16 23:45:49",
          "last_seen": "2026-01-16 23:45:51",
          "indexes": [
            "dockerlogs-silver"
          ],
          "status": "error"
        },
        {
          "service": "deliverses",
          "category": "Shipping",
          "event_count": 3,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:03",
          "last_seen": "2026-01-16 15:49:33",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "intg-pltfm-message-delivery-sg-domsintg-009-prod",
          "category": "Integration Platform",
          "event_count": 3,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:21",
          "last_seen": "2026-01-14 11:53:43",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "datagatherer",
          "category": "Supporting",
          "event_count": 2,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:02",
          "last_seen": "2026-01-15 23:06:12",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "determinetarget",
          "category": "Supporting",
          "event_count": 2,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:02",
          "last_seen": "2026-01-15 23:06:12",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "paymentfraud",
          "category": "Payment",
          "event_count": 2,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:55:41",
          "last_seen": "2026-01-15 02:55:41",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "promotionredemption",
          "category": "Promotions",
          "event_count": 2,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:09",
          "last_seen": "2026-01-14 09:11:09",
          "indexes": [
            "app-silver"
          ],
          "status": "pass"
        },
        {
          "service": "paymentadyen",
          "category": "Payment",
          "event_count": 2,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:06",
          "last_seen": "2026-01-14 09:11:06",
          "indexes": [
            "app-hc"
          ],
          "status": "error"
        },
        {
          "service": "merchskusv2_facade",
          "category": "Inventory",
          "event_count": 1,
          "error_count": 1,
          "has_errors": true,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-14 09:11:50",
          "indexes": [
            "app-hc"
          ],
          "status": "error"
        },
        {
          "service": "node-fr-preprocessor-receiver-svc-prod",
          "category": "Node Integration",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:03",
          "last_seen": "2026-01-14 11:36:03",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "risedigitalordertransformer",
          "category": "SAP Integration",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 03:31:32",
          "last_seen": "2026-01-15 03:31:32",
          "indexes": [
            "app"
          ],
          "status": "pass"
        },
        {
          "service": "intg-pltfm-message-delivery-sg-domsintg-004-prod",
          "category": "Integration Platform",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:12:32",
          "last_seen": "2026-01-14 09:12:32",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "na-node-integration-processor-service-SG-NA-00005-prod",
          "category": "Node Integration",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:30:17",
          "last_seen": "2026-01-15 02:30:17",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "na-node-integration-receiver-service-SG-NA-00004-prod",
          "category": "Node Integration",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 11:36:04",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "fulfillmentrequestinfoservice-prod",
          "category": "Fulfillment",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 11:36:04",
          "last_seen": "2026-01-14 11:36:04",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "intg-pltfm-message-delivery-sg-domsintg-005-prod",
          "category": "Integration Platform",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:30:56",
          "last_seen": "2026-01-15 02:30:56",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "merchproductsv2_facade",
          "category": "Inventory",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-14 09:11:50",
          "indexes": [
            "app-hc"
          ],
          "status": "pass"
        },
        {
          "service": "pfthreadcrusher",
          "category": "Supporting",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-01 00:10:13",
          "last_seen": "2026-01-01 00:10:13",
          "indexes": [
            "app"
          ],
          "status": "pass"
        },
        {
          "service": "sapgainvsyncwrkr-fibers-prod",
          "category": "SAP Integration",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-14 09:11:50",
          "last_seen": "2026-01-14 09:11:50",
          "indexes": [
            "dockerlogs"
          ],
          "status": "pass"
        },
        {
          "service": "onesource,main,main02",
          "category": "Tax",
          "event_count": 1,
          "error_count": 0,
          "has_errors": false,
          "first_seen": "2026-01-15 02:35:32",
          "last_seen": "2026-01-15 02:35:32",
          "indexes": [
            "app"
          ],
          "status": "pass"
        }
      ],
      "by_category": {
        "Order Review": [
          {
            "service": "order-review-prod",
            "category": "Order Review",
            "event_count": 6880,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:17:21",
            "last_seen": "2026-01-20 17:26:10",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "frv3ingestion_global",
            "category": "Order Review",
            "event_count": 1018,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-14 00:00:00",
            "last_seen": "2026-01-16 23:53:03",
            "indexes": [
              "app-silver"
            ],
            "status": "error"
          },
          {
            "service": "frv3query_global",
            "category": "Order Review",
            "event_count": 680,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:17:21",
            "last_seen": "2026-01-20 17:26:10",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          }
        ],
        "Shipping": [
          {
            "service": "shipmentdetails",
            "category": "Shipping",
            "event_count": 4240,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:17:21",
            "last_seen": "2026-01-20 17:26:10",
            "indexes": [
              "app"
            ],
            "status": "pass"
          },
          {
            "service": "global-carrier-labels-fedex-wrkr-prod",
            "category": "Shipping",
            "event_count": 4,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-16 23:45:49",
            "last_seen": "2026-01-16 23:45:50",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "error"
          },
          {
            "service": "deliverses",
            "category": "Shipping",
            "event_count": 3,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:03",
            "last_seen": "2026-01-16 15:49:33",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          }
        ],
        "Order Insights": [
          {
            "service": "order-detail-insights-prod",
            "category": "Order Insights",
            "event_count": 2905,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-14 09:17:20",
            "last_seen": "2026-01-20 17:26:09",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "order-summary-insights-prod",
            "category": "Order Insights",
            "event_count": 2547,
            "error_count": 519,
            "has_errors": true,
            "first_seen": "2026-01-14 09:17:21",
            "last_seen": "2026-01-20 17:34:45",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "order-update-processor-prod",
            "category": "Order Insights",
            "event_count": 269,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:21",
            "last_seen": "2026-01-15 02:30:56",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "user-order-insights-prod",
            "category": "Order Insights",
            "event_count": 94,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-16 17:07:50",
            "last_seen": "2026-01-20 17:34:45",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "pass"
          },
          {
            "service": "order-updates-listener-prod",
            "category": "Order Insights",
            "event_count": 19,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-15 02:32:41",
            "last_seen": "2026-01-15 02:37:41",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          }
        ],
        "Order Repository": [
          {
            "service": "order-repo-ingestor-prod",
            "category": "Order Repository",
            "event_count": 923,
            "error_count": 96,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-16 23:47:20",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "order-repo-update-bridge-prod",
            "category": "Order Repository",
            "event_count": 268,
            "error_count": 14,
            "has_errors": true,
            "first_seen": "2026-01-14 09:12:58",
            "last_seen": "2026-01-16 23:47:20",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "order-repo-stream-prod",
            "category": "Order Repository",
            "event_count": 224,
            "error_count": 32,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-16 23:47:20",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "omniarchivesrch",
            "category": "Order Repository",
            "event_count": 16,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 20:25:47",
            "last_seen": "2026-01-16 15:49:33",
            "indexes": [
              "app-gold"
            ],
            "status": "pass"
          },
          {
            "service": "omniarchive",
            "category": "Order Repository",
            "event_count": 4,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:02",
            "last_seen": "2026-01-16 15:49:32",
            "indexes": [
              "app-gold"
            ],
            "status": "pass"
          }
        ],
        "Fulfillment": [
          {
            "service": "fulfillmentstatusservice-prod",
            "category": "Fulfillment",
            "event_count": 451,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 11:36:02",
            "last_seen": "2026-01-14 18:53:23",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "fulfillmentpoegress-na-prod",
            "category": "Fulfillment",
            "event_count": 324,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:41",
            "last_seen": "2026-01-14 11:30:01",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestcreate-enrich-prod",
            "category": "Fulfillment",
            "event_count": 123,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:42",
            "last_seen": "2026-01-15 02:31:13",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          },
          {
            "service": "fulfilleventstrwrkr-prod",
            "category": "Fulfillment",
            "event_count": 118,
            "error_count": 80,
            "has_errors": true,
            "first_seen": "2026-01-14 09:41:47",
            "last_seen": "2026-01-16 23:47:09",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "fulfillmentrequestcreate-consume-prod",
            "category": "Fulfillment",
            "event_count": 84,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:41",
            "last_seen": "2026-01-14 09:41:41",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentconfirmservice-prod",
            "category": "Fulfillment",
            "event_count": 78,
            "error_count": 9,
            "has_errors": true,
            "first_seen": "2026-01-15 02:30:53",
            "last_seen": "2026-01-15 02:32:42",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "fulfillmentqueryservice-prod",
            "category": "Fulfillment",
            "event_count": 71,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:21",
            "last_seen": "2026-01-16 23:45:33",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestrouter-api-global-prod",
            "category": "Fulfillment",
            "event_count": 38,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:02",
            "last_seen": "2026-01-14 11:36:02",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestrouter-digitalnsp-global-prod",
            "category": "Fulfillment",
            "event_count": 27,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:03",
            "last_seen": "2026-01-14 11:36:03",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentenrichservice-prod",
            "category": "Fulfillment",
            "event_count": 26,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:02",
            "last_seen": "2026-01-15 02:37:59",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestcreate-enrich-prodbg",
            "category": "Fulfillment",
            "event_count": 18,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:47",
            "last_seen": "2026-01-16 23:46:47",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillreqnodeegress-api-global-prod",
            "category": "Fulfillment",
            "event_count": 13,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 11:36:04",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestcancel-nsp-prod",
            "category": "Fulfillment",
            "event_count": 10,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:53",
            "last_seen": "2026-01-15 02:33:18",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "cgw-fulfillmentevent-bridge-prod",
            "category": "Fulfillment",
            "event_count": 9,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:41:47",
            "last_seen": "2026-01-15 02:30:59",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          },
          {
            "service": "fulfillmentrequestinfoservice-prod",
            "category": "Fulfillment",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 11:36:04",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "Returns": [
          {
            "service": "return-capture-service-prod",
            "category": "Returns",
            "event_count": 337,
            "error_count": 56,
            "has_errors": true,
            "first_seen": "2026-01-16 17:09:44",
            "last_seen": "2026-01-16 23:45:58",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "return-order-create-service-prod",
            "category": "Returns",
            "event_count": 141,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-16 23:45:49",
            "last_seen": "2026-01-16 23:45:51",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "return-order-create-listener-prod",
            "category": "Returns",
            "event_count": 45,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-16 23:45:56",
            "last_seen": "2026-01-16 23:45:57",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          },
          {
            "service": "returns-location-prod",
            "category": "Returns",
            "event_count": 12,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-16 17:09:44",
            "last_seen": "2026-01-16 23:45:48",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "pass"
          },
          {
            "service": "cgw-return-label-info-prod",
            "category": "Returns",
            "event_count": 3,
            "error_count": 2,
            "has_errors": true,
            "first_seen": "2026-01-16 23:45:49",
            "last_seen": "2026-01-16 23:45:51",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "error"
          }
        ],
        "Order Capture": [
          {
            "service": "ordercreateprocessor-prod",
            "category": "Order Capture",
            "event_count": 169,
            "error_count": 3,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:44",
            "last_seen": "2026-01-14 09:12:47",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "checkoutswkr",
            "category": "Order Capture",
            "event_count": 25,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:04",
            "last_seen": "2026-01-14 09:11:09",
            "indexes": [
              "app-silver"
            ],
            "status": "error"
          }
        ],
        "Node Integration": [
          {
            "service": "nsp-replay-service-prod",
            "category": "Node Integration",
            "event_count": 118,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-17 21:16:30",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "na-node-intg-status-service-prod",
            "category": "Node Integration",
            "event_count": 42,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 18:53:15",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "na-node-integration-processor-service-SG-NA-00004-prod",
            "category": "Node Integration",
            "event_count": 12,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 18:53:15",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "na-node-integration-publisher-service-SG-NA-00004-prod",
            "category": "Node Integration",
            "event_count": 8,
            "error_count": 6,
            "has_errors": true,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 18:53:15",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "node-fr-preprocessor-receiver-svc-prod",
            "category": "Node Integration",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:03",
            "last_seen": "2026-01-14 11:36:03",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "na-node-integration-processor-service-SG-NA-00005-prod",
            "category": "Node Integration",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:30:17",
            "last_seen": "2026-01-15 02:30:17",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "na-node-integration-receiver-service-SG-NA-00004-prod",
            "category": "Node Integration",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 11:36:04",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "Sterling OMS": [
          {
            "service": "sterling-consumer-om",
            "category": "Sterling OMS",
            "event_count": 106,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:32",
            "last_seen": "2026-01-16 23:51:45",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          },
          {
            "service": "sterling-order-detail-prod",
            "category": "Sterling OMS",
            "event_count": 61,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:17:21",
            "last_seen": "2026-01-16 23:46:48",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "pass"
          },
          {
            "service": "sterling-order-processor-prod",
            "category": "Sterling OMS",
            "event_count": 31,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:31",
            "last_seen": "2026-01-15 03:31:38",
            "indexes": [
              "dockerlogs-silver"
            ],
            "status": "pass"
          }
        ],
        "Invoice": [
          {
            "service": "consumerinvoice",
            "category": "Invoice",
            "event_count": 100,
            "error_count": 5,
            "has_errors": true,
            "first_seen": "2026-01-15 02:53:03",
            "last_seen": "2026-01-15 03:31:30",
            "indexes": [
              "app-gold"
            ],
            "status": "error"
          },
          {
            "service": "invoicerepository-prod",
            "category": "Invoice",
            "event_count": 35,
            "error_count": 6,
            "has_errors": true,
            "first_seen": "2026-01-15 02:53:04",
            "last_seen": "2026-01-16 01:14:45",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "consumerinvoicepdfservice-prod",
            "category": "Invoice",
            "event_count": 34,
            "error_count": 5,
            "has_errors": true,
            "first_seen": "2026-01-15 03:31:34",
            "last_seen": "2026-01-15 23:01:34",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "invoicepublishservice-prod",
            "category": "Invoice",
            "event_count": 4,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 03:31:32",
            "last_seen": "2026-01-15 03:31:32",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "Event Management": [
          {
            "service": "eventmanagement",
            "category": "Event Management",
            "event_count": 80,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-16 23:51:45",
            "indexes": [
              "app"
            ],
            "status": "pass"
          },
          {
            "service": "business-monitor-prod",
            "category": "Event Management",
            "event_count": 14,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-16 09:06:23",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "error"
          }
        ],
        "Tax": [
          {
            "service": "ordertaxservice-prod",
            "category": "Tax",
            "event_count": 78,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-15 02:35:31",
            "last_seen": "2026-01-15 02:35:32",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "onesource,main,main02",
            "category": "Tax",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:35:32",
            "last_seen": "2026-01-15 02:35:32",
            "indexes": [
              "app"
            ],
            "status": "pass"
          }
        ],
        "Payment": [
          {
            "service": "orderpaymentservice-prod",
            "category": "Payment",
            "event_count": 68,
            "error_count": 10,
            "has_errors": true,
            "first_seen": "2026-01-15 02:54:51",
            "last_seen": "2026-01-15 03:10:22",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "paymentfraudworker",
            "category": "Payment",
            "event_count": 48,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:33:55",
            "last_seen": "2026-01-15 03:39:50",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          },
          {
            "service": "paymentfraud",
            "category": "Payment",
            "event_count": 2,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:55:41",
            "last_seen": "2026-01-15 02:55:41",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          },
          {
            "service": "paymentadyen",
            "category": "Payment",
            "event_count": 2,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:06",
            "last_seen": "2026-01-14 09:11:06",
            "indexes": [
              "app-hc"
            ],
            "status": "error"
          }
        ],
        "Order Status": [
          {
            "service": "partnerorderstatusupdates-prod",
            "category": "Order Status",
            "event_count": 39,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:36",
            "last_seen": "2026-01-16 23:51:45",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "orderreporting",
            "category": "Order Status",
            "event_count": 5,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-16 23:45:53",
            "last_seen": "2026-01-16 23:45:53",
            "indexes": [
              "app-gold"
            ],
            "status": "pass"
          }
        ],
        "Supporting": [
          {
            "service": "cssfproxy",
            "category": "Supporting",
            "event_count": 34,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:02",
            "last_seen": "2026-01-16 23:47:30",
            "indexes": [
              "app"
            ],
            "status": "pass"
          },
          {
            "service": "digitalsequenceidgenerator-prod",
            "category": "Supporting",
            "event_count": 4,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:53:03",
            "last_seen": "2026-01-15 02:53:03",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "address-repo-prod",
            "category": "Supporting",
            "event_count": 4,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-14 09:11:50",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "datagatherer",
            "category": "Supporting",
            "event_count": 2,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:02",
            "last_seen": "2026-01-15 23:06:12",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          },
          {
            "service": "determinetarget",
            "category": "Supporting",
            "event_count": 2,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:02",
            "last_seen": "2026-01-15 23:06:12",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          },
          {
            "service": "pfthreadcrusher",
            "category": "Supporting",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-01 00:10:13",
            "last_seen": "2026-01-01 00:10:13",
            "indexes": [
              "app"
            ],
            "status": "pass"
          }
        ],
        "Order Transformation": [
          {
            "service": "charonv2wkr",
            "category": "Order Transformation",
            "event_count": 31,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:09",
            "last_seen": "2026-01-14 09:11:09",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          },
          {
            "service": "nxgdemandhandler",
            "category": "Order Transformation",
            "event_count": 8,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 11:42:24",
            "last_seen": "2026-01-15 02:32:59",
            "indexes": [
              "app-silver"
            ],
            "status": "error"
          },
          {
            "service": "charonv2cmd",
            "category": "Order Transformation",
            "event_count": 5,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:09",
            "last_seen": "2026-01-14 09:11:09",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          },
          {
            "service": "oneom-prod",
            "category": "Order Transformation",
            "event_count": 3,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:55",
            "last_seen": "2026-01-14 09:11:55",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "pass"
          }
        ],
        "Order Submit": [
          {
            "service": "ordersubmitocpubworker-prod",
            "category": "Order Submit",
            "event_count": 28,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:16",
            "last_seen": "2026-01-14 09:11:17",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "ordersubmitreceiver-us-east-1-prod",
            "category": "Order Submit",
            "event_count": 11,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:09",
            "last_seen": "2026-01-14 09:11:09",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "SAP Integration": [
          {
            "service": "create-rso-request-prod",
            "category": "SAP Integration",
            "event_count": 21,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-16 23:45:56",
            "last_seen": "2026-01-16 23:46:01",
            "indexes": [
              "dockerlogs-gold"
            ],
            "status": "pass"
          },
          {
            "service": "roentgen-sap-pull-prod",
            "category": "SAP Integration",
            "event_count": 5,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:04",
            "last_seen": "2026-01-14 11:36:04",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "risedigitalordertransformer",
            "category": "SAP Integration",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 03:31:32",
            "last_seen": "2026-01-15 03:31:32",
            "indexes": [
              "app"
            ],
            "status": "pass"
          },
          {
            "service": "sapgainvsyncwrkr-fibers-prod",
            "category": "SAP Integration",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-14 09:11:50",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "Integration Platform": [
          {
            "service": "intg-pltfm-msg-receiver-sg-domsintg-009-prod",
            "category": "Integration Platform",
            "event_count": 19,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:21",
            "last_seen": "2026-01-15 03:10:22",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-pltfm-msg-receiver-sg-domsintg-004-prod",
            "category": "Integration Platform",
            "event_count": 6,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:32",
            "last_seen": "2026-01-14 09:12:32",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-pltfm-msg-receiver-sg-domsintg-005-prod",
            "category": "Integration Platform",
            "event_count": 5,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:30:56",
            "last_seen": "2026-01-15 02:30:56",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-gi-receiver-mq-prod",
            "category": "Integration Platform",
            "event_count": 5,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:30:17",
            "last_seen": "2026-01-15 02:30:17",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-fr-receiver-prod",
            "category": "Integration Platform",
            "event_count": 5,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 11:36:03",
            "last_seen": "2026-01-14 11:36:04",
            "indexes": [
              "dockerlogs"
            ],
            "status": "error"
          },
          {
            "service": "intg-pltfm-message-delivery-sg-domsintg-009-prod",
            "category": "Integration Platform",
            "event_count": 3,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 11:36:21",
            "last_seen": "2026-01-14 11:53:43",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-pltfm-message-delivery-sg-domsintg-004-prod",
            "category": "Integration Platform",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:12:32",
            "last_seen": "2026-01-14 09:12:32",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          },
          {
            "service": "intg-pltfm-message-delivery-sg-domsintg-005-prod",
            "category": "Integration Platform",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-15 02:30:56",
            "last_seen": "2026-01-15 02:30:56",
            "indexes": [
              "dockerlogs"
            ],
            "status": "pass"
          }
        ],
        "Promotions": [
          {
            "service": "postpurchase",
            "category": "Promotions",
            "event_count": 15,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-16 17:08:50",
            "last_seen": "2026-01-16 23:45:33",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          },
          {
            "service": "promotionredemption",
            "category": "Promotions",
            "event_count": 2,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:09",
            "last_seen": "2026-01-14 09:11:09",
            "indexes": [
              "app-silver"
            ],
            "status": "pass"
          }
        ],
        "Recon": [
          {
            "service": "recon",
            "category": "Recon",
            "event_count": 12,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-14 09:11:50",
            "indexes": [
              "app"
            ],
            "status": "error"
          }
        ],
        "Inventory": [
          {
            "service": "merchskusv2_facade",
            "category": "Inventory",
            "event_count": 1,
            "error_count": 1,
            "has_errors": true,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-14 09:11:50",
            "indexes": [
              "app-hc"
            ],
            "status": "error"
          },
          {
            "service": "merchproductsv2_facade",
            "category": "Inventory",
            "event_count": 1,
            "error_count": 0,
            "has_errors": false,
            "first_seen": "2026-01-14 09:11:50",
            "last_seen": "2026-01-14 09:11:50",
            "indexes": [
              "app-hc"
            ],
            "status": "pass"
          }
        ]
      }
    }
  },
  {
    "order_number": "CAR100100200189",
    "sap_order": null,
    "po_number": null,
    "review_status": "not_ready",
    "jira_ticket": "MOOSE-538",
    "scenario_case": "FS-2.1",
    "scenario_summary": "RETURN ORDER",
    "scenario_details": [
      "Single Line, Single Unit",
      "Line Discount",
      "Shipping Fee",
      "CA-ON",
      "Return - Consumer fault"
    ],
    "api_data": {
      "orderNumber": "CAR100100200189",
      "orderType": "Return Order",
      "orderDate": "2026-01-16T15:45:55",
      "orderClassification": "RETURN",
      "status": "Created",
      "paymentStatus": "Not Applicable",
      "origin": "nike.digital.web",
      "enterprise": "NIKECA",
      "createdBy": "Consumer",
      "currency": "CAD",
      "customerName": "Tia Kinney",
      "customerEmail": "tkinney.candig@gmail.com",
      "customerPhone": "7165146141",
      "memberType": "Nike/Brand Member",
      "memberId": "aff8b62f-2389-4457-8fb2-02ed0c4b5d87",
      "shippingAddress": {
        "name": "Tia Kinney",
        "city": "Concord",
        "province": "ON",
        "province_code": "CA-ON",
        "postal_code": "L4K 5W4",
        "country": "CA",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141"
      },
      "billingAddress": {
        "name": "Tia Kinney",
        "city": "Concord",
        "province": "ON",
        "province_code": "CA-ON",
        "postal_code": "L4K 5W4",
        "country": "CA",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141"
      },
      "returnLabel": {
        "trackingNumber": "792138116720",
        "statusDate": "2026-01-16",
        "carrier": "UPS"
      },
      "relatedOrders": {
        "salesOrder": "C01560878011",
        "salesOrderStatus": "Return Created"
      },
      "lifecycleStage": "return",
      "totals": {
        "product": 24.0,
        "productTotal": 24.0,
        "subtotal": 24.0,
        "shipping": 10.95,
        "shippingTotal": 10.95,
        "discount": 12.0,
        "discountTotal": 12.0,
        "tax": 2.02,
        "taxTotal": 2.02,
        "orderTotal": 24.97
      },
      "lineItems": [
        {
          "productName": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
          "styleColor": "DX5416-480",
          "color": "Game Royal/Game Royal/White",
          "size": "S",
          "unitPrice": 24.0,
          "quantity": 1,
          "status": "Created",
          "returnReason": "Flawed",
          "lineTotal": 24.97,
          "productType": "APPAREL",
          "category": "KIDS",
          "ageGroup": "OLDER KIDS",
          "gtin": "00196153477223",
          "divisionCode": "20",
          "divisionName": "Apparel",
          "profitCenter": "922192",
          "taxType": "reduced",
          "taxNote": "Kids clothing - 5% GST only (no PST) in Ontario"
        }
      ],
      "review_status": "not_ready",
      "scenario_details": [
        "Single Line, Single Unit",
        "Line Discount",
        "Shipping Fee",
        "CA-ON",
        "Return - Consumer fault"
      ]
    },
    "sap_data": {
      "captured_at": "2026-01-19T23:16:18.858758",
      "capture_method": "SAP_RETURN_ORDER_ENHANCED",
      "sap_order": "7122680505",
      "po_number": "CAR100100200189",
      "return_order": "CAR100100200189",
      "company_code": "753",
      "fiscal_year": "2026",
      "order_type": "Z100",
      "order_type_text": "Return Order",
      "sales_org": "1100",
      "sold_to": "8000350",
      "ship_to": "8000350",
      "sold_to_name": "NIKE.COM",
      "ship_to_name": "Bill Buffalo",
      "net_value": "0,00",
      "currency": "CAD",
      "po_date": "01/16/2026",
      "doc_date": "01/16/2026",
      "payment_terms": "ZIC1",
      "pur_ord_type": "DTCR",
      "order_reason": "174",
      "quantity": "1",
      "country": "CA",
      "region": "ON",
      "city": "Concord",
      "postal_code": "L4K 5W4",
      "street": "E3 1 Bass Pro Mills Dr",
      "overview": {
        "lblJ_3ASZFH-KUNNR": "Sold-To Pt",
        "ctxtJ_3ASZFH-KUNNR": "8000350",
        "txtKUAGV-NAME1": "NIKE.COM",
        "txtKUAGV-ORT01": "TORONTO",
        "lblKUAGV-J_3ASTCU": "CustIDPart",
        "lblKUAGV-J_3ADCCU": "DistCenter",
        "lblJ_3ASZFH-KUNWE": "Ship-To",
        "ctxtJ_3ASZFH-KUNWE": "8000350",
        "txtKUWEV-NAME1": "Bill Buffalo",
        "txtKUWEV-ORT01": "Concord",
        "lblJ_3ASZFH-J_3ASTCU": "CustIDPart",
        "lblJ_3ASZFH-J_3ADCCU": "DistCenter",
        "lblJ_3ASZFH-BNAME": "Name",
        "lblJ_3ASZFH-BSTNK": "Pur. Order",
        "txtJ_3ASZFH-BSTKD": "CAR100100200189",
        "lblJ_3ASZFH-BSTDK": "PO Date",
        "ctxtJ_3ASZFH-BSTDK": "01/16/2026",
        "lblJ_3ASZFH-J_3ARQDA": "RqDlv.date",
        "ctxtJ_3ASZFH-J_3ARQDA": "01/17/2026",
        "lblJ_3ASZFH-J_3ARQLF": "Qlf",
        "lblJ_3ASZFH-J_3ACADA": "CancelDate",
        "ctxtJ_3ASZFH-J_3ACADA": "02/15/2026",
        "lblJ_3ASZFH-J_3ACQLF": "Qlf",
        "lblJ_3ASZFH-GUEBG": "Valid from",
        "lblJ_3ASZFH-VBELN": "SD Doc.",
        "txtJ_3ASZFH-VBELN": "7122680505",
        "lblJ_3ASZFH-J_3ADDAT": "Add.date",
        "lblJ_3ASZFH-J_3ADQLF": "Qlf",
        "lblJ_3ASZFH-AUDAT": "Doc. Date",
        "ctxtJ_3ASZFH-AUDAT": "01/16/2026",
        "tabpT\\01": "AFS Document Header",
        "lblJ_3ASZFH-AUGRU": "Ord.Reason",
        "ctxtJ_3ASZFH-AUGRU": "174",
        "lblJ_3ASZFH-BSARK": "Pur. ord. type",
        "ctxtJ_3ASZFH-BSARK": "DTCR",
        "lblJ_3ASZFH-ZTERM": "Pmnt Terms",
        "ctxtJ_3ASZFH-ZTERM": "ZIC1",
        "lblJ_3ASZFH-DWERK": "Deliver.plant",
        "lblJ_3ASZFH-VGBEL": "Ref. Doc.",
        "lblJ_3ASZFH-NETWR": "Net Value",
        "txtJ_3ASZFH-NETWR": "0,00",
        "txtJ_3ASZFH-WAERK": "CAD",
        "lblJ_3ASZFH-J_3AREREG": "Release",
        "lblJ_3ASZDI-MENGE": "Quantity",
        "txtJ_3ASZDI-MENGE": "1",
        "tabpSZHE": "Business data / Texts",
        "lblVBADR-ANRED": "Form of address",
        "lblVBADR-LAND1": "Country",
        "ctxtVBADR-LAND1": "CA",
        "txtT005T-LANDX": "Canada",
        "lblVBADR-NAME1": "Name",
        "txtVBADR-NAME1": "Bill Buffalo",
        "lblVBADR-REGIO": "Region",
        "ctxtVBADR-REGIO": "ON",
        "lblVBADR-STRAS": "Street",
        "txtVBADR-STRAS": "E3 1 Bass Pro Mills Dr",
        "lblVBADR-PSTLZ": "Postal Code",
        "txtVBADR-PSTLZ": "L4K 5W4",
        "lblVBADR-ORT01": "City",
        "txtVBADR-ORT01": "Concord",
        "boxTTXIT-TDTEXT": "Texts",
        "cmbLV70T-TDID": "Customer Master Text",
        "cmbLV70T-SPRAS": "English",
        "shellcont": "SAPGUI.CONTAINERCTRL.1",
        "shell": "From: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>\rSent: Wednesday, December 3, 2025 11:26 AM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>; Bilakanti, Arjun (ETW - Beeline) <Arjun.Bilakanti@nike.com>; Vigna, Jared <Jared.Vigna@nike.com>\rCc: Burgess, Nadia <Nadia.Burgess@nike.com>; Chow, Polly <Polly.Chow@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>; Hippargi, Vadiraj (ETW - Beeline) <Vadiraj.Hippargi@nike.com>\rSubject: Re: [Canada Digital]: Contract sharing with digital\r\rHi Team,\r\rCan you remove the ZX partner assignment for customer master 8000350 from 468976 and 531509 in both PRD and PTE.\r\rThank you,\rMarie Bukelo\r\r----------------------\rFrom: Shah, Rizwan (ETW - FLEX) <Rizwan.Shah@nike.com>\rSent: Thursday, July 10, 2025 2:44 PM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>\rCc: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>; Bilakanti, Arjun (ETW) <Arjun.Bilakanti@nike.com>; Loh, Katherine <Katherine.Loh@nike.com>; Thotakura, Lakshman (ETW - Cognizant) <Lakshman.Thotakura@nike.com>; Muncy, Patty <Patty.Muncy@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>\rSubject: Customer Master pricing Procedure (Canada Digital)\rImportance: High\r\rHi Master Data Team – Can you please help us to update the customer pricing procedure in PTE as well as in PRA for customer number 8000350.\rCurrently the pricing procedure on this customer 8000350 is “I” this I should be changed to “V”.  This is an urgent change for Canada digital Contracts.",
        "tabpSZHO": "Organizational data",
        "tabpSZHG": "Additonal grouping",
        "tabpT\\02": "AFS Item overview",
        "tabpT\\03": "AFS Fast entry",
        "tabpT\\04": "AFS Conditions",
        "tabpT\\05": "AFS Ordering party",
        "tabpT\\06": "AFS UPC/EAN",
        "tabpT\\07": "AFS VAS Proposal",
        "tabpT\\08": "AFS Order Scheduling Group",
        "tabpT\\09": "Sales",
        "tabpT\\10": "Item overview"
      },
      "header_tabs": {
        "Sales": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Shipping": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Billing": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Financial_accounting": {
          "screen_title": "Display Return: Overview header",
          "fields": {
            "lblJ_3ASZFH-KUNNR": "Sold-To Pt",
            "ctxtJ_3ASZFH-KUNNR": "8000350",
            "txtKUAGV-NAME1": "NIKE.COM",
            "txtKUAGV-ORT01": "TORONTO",
            "lblKUAGV-J_3ASTCU": "CustIDPart",
            "lblKUAGV-J_3ADCCU": "DistCenter",
            "lblJ_3ASZFH-KUNWE": "Ship-To",
            "ctxtJ_3ASZFH-KUNWE": "8000350",
            "txtKUWEV-NAME1": "Bill Buffalo",
            "txtKUWEV-ORT01": "Concord",
            "lblJ_3ASZFH-J_3ASTCU": "CustIDPart",
            "lblJ_3ASZFH-J_3ADCCU": "DistCenter",
            "lblJ_3ASZFH-BNAME": "Name",
            "lblJ_3ASZFH-BSTNK": "Pur. Order",
            "txtJ_3ASZFH-BSTKD": "CAR100100200189",
            "lblJ_3ASZFH-BSTDK": "PO Date",
            "ctxtJ_3ASZFH-BSTDK": "01/16/2026",
            "lblJ_3ASZFH-J_3ARQDA": "RqDlv.date",
            "ctxtJ_3ASZFH-J_3ARQDA": "01/17/2026",
            "lblJ_3ASZFH-J_3ARQLF": "Qlf",
            "lblJ_3ASZFH-J_3ACADA": "CancelDate",
            "ctxtJ_3ASZFH-J_3ACADA": "02/15/2026",
            "lblJ_3ASZFH-J_3ACQLF": "Qlf",
            "lblJ_3ASZFH-GUEBG": "Valid from",
            "lblJ_3ASZFH-VBELN": "SD Doc.",
            "txtJ_3ASZFH-VBELN": "7122680505",
            "lblJ_3ASZFH-J_3ADDAT": "Add.date",
            "lblJ_3ASZFH-J_3ADQLF": "Qlf",
            "lblJ_3ASZFH-AUDAT": "Doc. Date",
            "ctxtJ_3ASZFH-AUDAT": "01/16/2026",
            "tabpT\\01": "AFS Document Header",
            "lblJ_3ASZFH-AUGRU": "Ord.Reason",
            "ctxtJ_3ASZFH-AUGRU": "174",
            "lblJ_3ASZFH-BSARK": "Pur. ord. type",
            "ctxtJ_3ASZFH-BSARK": "DTCR",
            "lblJ_3ASZFH-ZTERM": "Pmnt Terms",
            "ctxtJ_3ASZFH-ZTERM": "ZIC1",
            "lblJ_3ASZFH-DWERK": "Deliver.plant",
            "lblJ_3ASZFH-VGBEL": "Ref. Doc.",
            "lblJ_3ASZFH-NETWR": "Net Value",
            "txtJ_3ASZFH-NETWR": "0,00",
            "txtJ_3ASZFH-WAERK": "CAD",
            "lblJ_3ASZFH-J_3AREREG": "Release",
            "lblJ_3ASZDI-MENGE": "Quantity",
            "txtJ_3ASZDI-MENGE": "1",
            "tabpSZHE": "Business data / Texts",
            "lblVBADR-ANRED": "Form of address",
            "lblVBADR-LAND1": "Country",
            "ctxtVBADR-LAND1": "CA",
            "txtT005T-LANDX": "Canada",
            "lblVBADR-NAME1": "Name",
            "txtVBADR-NAME1": "Bill Buffalo",
            "lblVBADR-REGIO": "Region",
            "ctxtVBADR-REGIO": "ON",
            "lblVBADR-STRAS": "Street",
            "txtVBADR-STRAS": "E3 1 Bass Pro Mills Dr",
            "lblVBADR-PSTLZ": "Postal Code",
            "txtVBADR-PSTLZ": "L4K 5W4",
            "lblVBADR-ORT01": "City",
            "txtVBADR-ORT01": "Concord",
            "boxTTXIT-TDTEXT": "Texts",
            "cmbLV70T-TDID": "Customer Master Text",
            "cmbLV70T-SPRAS": "English",
            "shellcont": "SAPGUI.CONTAINERCTRL.1",
            "shell": "From: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>\rSent: Wednesday, December 3, 2025 11:26 AM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>; Bilakanti, Arjun (ETW - Beeline) <Arjun.Bilakanti@nike.com>; Vigna, Jared <Jared.Vigna@nike.com>\rCc: Burgess, Nadia <Nadia.Burgess@nike.com>; Chow, Polly <Polly.Chow@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>; Hippargi, Vadiraj (ETW - Beeline) <Vadiraj.Hippargi@nike.com>\rSubject: Re: [Canada Digital]: Contract sharing with digital\r\rHi Team,\r\rCan you remove the ZX partner assignment for customer master 8000350 from 468976 and 531509 in both PRD and PTE.\r\rThank you,\rMarie Bukelo\r\r----------------------\rFrom: Shah, Rizwan (ETW - FLEX) <Rizwan.Shah@nike.com>\rSent: Thursday, July 10, 2025 2:44 PM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>\rCc: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>; Bilakanti, Arjun (ETW) <Arjun.Bilakanti@nike.com>; Loh, Katherine <Katherine.Loh@nike.com>; Thotakura, Lakshman (ETW - Cognizant) <Lakshman.Thotakura@nike.com>; Muncy, Patty <Patty.Muncy@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>\rSubject: Customer Master pricing Procedure (Canada Digital)\rImportance: High\r\rHi Master Data Team – Can you please help us to update the customer pricing procedure in PTE as well as in PRA for customer number 8000350.\rCurrently the pricing procedure on this customer 8000350 is “I” this I should be changed to “V”.  This is an urgent change for Canada digital Contracts.",
            "tabpSZHO": "Organizational data",
            "tabpSZHG": "Additonal grouping",
            "tabpT\\02": "AFS Item overview",
            "tabpT\\03": "AFS Fast entry",
            "tabpT\\04": "AFS Conditions",
            "tabpT\\05": "AFS Ordering party",
            "tabpT\\06": "AFS UPC/EAN",
            "tabpT\\07": "AFS VAS Proposal",
            "tabpT\\08": "AFS Order Scheduling Group",
            "tabpT\\09": "Sales",
            "tabpT\\10": "Item overview"
          }
        },
        "Conditions": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Account_assignment": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Partner": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Texts": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Purchase_order_data": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Status": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Additional_data_A": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Additional_data_B": {
          "error": "(-2147352567, 'Exception occurred.', (619, 'SAP Frontend Server', 'The control could not be found by id.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        }
      },
      "item_tabs": {
        "Sales_A": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "txtRV45A-TXT_AUART": "Order Type",
            "ctxtVBAK-AUART": "Z100",
            "txtTVAKT-BEZEI": "Return",
            "lblVBAK-AUDAT": "Document Date",
            "ctxtVBAK-AUDAT": "01/16/2026",
            "lblRV45A-TXT_VTRBER": "Sales Area Data",
            "ctxtVBAK-VKORG": "1100",
            "lblSLASH1": "/",
            "ctxtVBAK-VTWEG": "10",
            "lblSLASH2": "/",
            "ctxtVBAK-SPART": "98",
            "txtRV45A-TXT_VTRBER": "NIKE Canada Sls Org, Wholesale, Cross Division",
            "lblVBAK-VKBUR": "Sales Office",
            "ctxtVBAK-VKBUR": "0042",
            "txtTVKBT-BEZEI": "Canada Sales Office",
            "lblVBAK-ERNAM": "Created By",
            "txtVBAK-ERNAM": "BTC_GBL_DO",
            "lblVBAK-VKGRP": "Sales Group",
            "lblVBAK-ERDAT": "Created On",
            "ctxtVBAK-ERDAT": "01/16/2026",
            "ctxtVBAK-ERZET": "15:46:03",
            "lblVBAK-VSNMR_V": "Version",
            "lblVBAK-GWLDT": "Guarantee",
            "lblVBAK-AUGRU": "Order Reason",
            "cmbVBAK-AUGRU": "DTC: Flawed",
            "boxBLOCK_PREISFINDUNG": "Pricing and Statistics",
            "lblVBAK-WAERK": "Doc. Currency",
            "ctxtVBAK-WAERK": "CAD",
            "lblVBAK-WAERK_STR": "/",
            "ctxtVBKD-KURSK": "*1,00000",
            "lblVBKD-PRSDT": "Pricing Date",
            "ctxtVBKD-PRSDT": "01/16/2026",
            "lblVBAK-KALSM": "Pric. procedure",
            "ctxtVBAK-KALSM": "ZCDDTC",
            "txtT683U-VTEXT": "CAN Digital Dir",
            "lblVBKD-KDGRP": "Supply Ch Gp",
            "cmbVBKD-KDGRP": "Supply Chain GRP 2",
            "lblVBKD-PLTYP": "Price List",
            "lblVBAK-ABRVW": "Usage",
            "lblVBKD-KONDA": "Price group",
            "lblVBKD-BZIRK": "Sales district",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Sales_B": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "lblKUWEV-KUNNR": "Ship-to Party",
            "ctxtKUWEV-KUNNR": "8000350",
            "txtKUWEV-TXTPA": "Bill Buffalo / E3 1 Bass Pro Mills Dr / Concord ON L4K 5W4",
            "boxBLOCK_VERSAND": "Shipping",
            "lblKUWEV-ABLAD": "Final Dest",
            "lblVBKD-EMPST": "Receiving point",
            "lblVBKD-ABTNR": "Department",
            "lblVBAK-LIFSK": "Delivery block",
            "chkVBAK-AUTLF": "Complete delivery",
            "lblVBAK-VSBED": "Shp.Cond.",
            "cmbVBAK-VSBED": "Returns",
            "chkVBKD-KZAZU": "Order Combination",
            "lblVBKD-TRATY": "MnsOfTrns type",
            "lblVBKD-VSART": "Shipping type",
            "lblVBKD-TRMTYP": "MeansTransp.",
            "lblVBKD-SDABW": "SpecProcId",
            "chkVBKD-PODKZ": "POD-relevant",
            "boxBLOCK_GEWICHT": "Weight and Volume",
            "lblRV45A-BTGEW": "Total Weight",
            "txtRV45A-BTGEW": "0",
            "txtRV45A-GEWEI": "KG",
            "lblRV45A-NTGEW": "Net Weight",
            "txtRV45A-NTGEW": "0",
            "lblRV45A-VOLUM": "Volume",
            "txtRV45A-VOLUM": "0",
            "txtRV45A-VOLEH": "M3",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Shipping": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Billing": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "lblKURGV-KUNNR": "Payer",
            "ctxtKURGV-KUNNR": "8000350",
            "txtKURGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "boxBLOCK_ZBED": "Terms of Delivery and Payment",
            "lblVBKD-INCO1": "Incoterms",
            "ctxtVBKD-INCO1": "FOB",
            "txtVBKD-INCO2": "ORIGIN",
            "lblVBKD-VALDT": "Fixed Value Date",
            "ctxtVBKD-VALDT": "01/16/2026",
            "lblVBKD-ZTERM": "Terms of Payment",
            "ctxtVBKD-ZTERM": "ZIC1",
            "txtTVZBT-VTEXT": "Per Nike Owned Agreement",
            "lblVBKD-VALTG": "Add.value days",
            "txtVBKD-VALTG": "0",
            "boxBLOCK_FAKTURA": "Billing",
            "lblVBAK-FAKSK": "Billing block",
            "chkVBKD-MRNKZ": "SubsInvProcess",
            "lblVBKD-PERFK": "Invoicing dates",
            "lblVBKD-FKDAT": "Billing Date",
            "ctxtVBKD-FKDAT": "01/17/2026",
            "lblVBAK-BUKRS_VF": "CCode to be billed",
            "ctxtVBAK-BUKRS_VF": "753",
            "txtT001-BUTXT": "NIKE Canada Corp.",
            "lblVBKD-FBUDA": "Serv.rendered date",
            "lblVBAK-TAXK1": "Alt.tax classific.",
            "lblVBAK-LANDTX": "Tax depart. country",
            "lblVBAK-STCEG_L": "Tax dest. country",
            "chkVBAK-XEGDR": "EU triang. deal",
            "boxBLOCK_RISIKOMANAGEMENT": "Risk Management",
            "lblVBKD-ABSSC": "Paymt guarant. proc.",
            "lblVBKD-LCNUM": "Financial doc. no.",
            "lblVBKD-AKPRZ": "Depreciation %",
            "txtVBKD-AKPRZ": "0,00",
            "lblSIGN_PERCENTAGE_LOC": "%",
            "btnBUTTON_FDOKUMENT_PROTOKOLL": "Fin. Docs",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Billing_plan": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Country": {
          "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
        },
        "Conditions_Standard": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "boxBLOCK_BUCHHALTUNG": "Accounting",
            "lblVBKD-KTGRD": "AccAssmtGrpCust",
            "cmbVBKD-KTGRD": "External Revenues",
            "lblVBKD-ZLSCH": "Payment Method",
            "lblVBKD-POPER": "Posting Period",
            "txtVBKD-POPER": "0",
            "lblVBKD-KURRF": "Exch.rate-acct.",
            "lblVBAK-ZUONR": "Assignment",
            "lblVBAK-BUKRS_VF": "CCodeToBeBilled",
            "ctxtVBAK-BUKRS_VF": "753",
            "txtT001-BUTXT": "NIKE Canada Corp.",
            "lblVBKD-MSCHL": "Dunning Key",
            "lblVBKD-MANSP": "Dunning Block",
            "cmbVBKD-MANSP": "Freed for dunning",
            "lblVBAK-XBLNR": "Reference",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Account_assignment": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "lblKOMP-NETWR": "Net",
            "txtKOMP-NETWR": "0,00",
            "ctxtKOMK-WAERK": "CAD",
            "lblKOMP-MWSBP": "Tax",
            "txtKOMP-MWSBP": "0,00",
            "tblSAPLV69ATCTRL_KONDITIONEN": "Pricing Elements",
            "ctxtKOMV-KSCHL[1,0]": "ZR00",
            "ctxtKOMV-KSCHL[1,6]": "ZRPM",
            "ctxtKOMV-KSCHL[1,7]": "ZRPX",
            "ctxtKOMV-KSCHL[1,8]": "ZRP6",
            "ctxtKOMV-KSCHL[1,12]": "ZTX8",
            "ctxtKOMV-KSCHL[1,19]": "Z07X",
            "ctxtKOMV-KSCHL[1,22]": "ZFTS",
            "txtRV61A-VTEXT[2,0]": "Wholesale Price",
            "txtRV61A-VTEXT[2,1]": "Off Price Disc Subto",
            "txtRV61A-VTEXT[2,2]": "Product Price",
            "txtRV61A-VTEXT[2,3]": "Wholesale Net Value",
            "txtRV61A-VTEXT[2,4]": "Save Wholesale Net V",
            "txtRV61A-VTEXT[2,5]": "ZRPG Copy",
            "txtRV61A-VTEXT[2,6]": "Retail Price Manual",
            "txtRV61A-VTEXT[2,7]": "RetailPrice excluTax",
            "txtRV61A-VTEXT[2,8]": "Reclass Inline Price",
            "txtRV61A-VTEXT[2,9]": "Regular Price",
            "txtRV61A-VTEXT[2,10]": "ZRPM copy",
            "txtRV61A-VTEXT[2,11]": "Total Before Tax",
            "txtRV61A-VTEXT[2,12]": "QST (Base+GST) CA ML",
            "txtRV61A-VTEXT[2,13]": "Total incl GST/HST",
            "txtRV61A-VTEXT[2,14]": "Total Tax GST/HST",
            "txtRV61A-VTEXT[2,15]": "Total Tax",
            "txtRV61A-VTEXT[2,16]": "ZOF4 copy",
            "txtRV61A-VTEXT[2,17]": "ZOFM copy",
            "txtRV61A-VTEXT[2,18]": "ZCSD copy",
            "txtRV61A-VTEXT[2,19]": "Discount-ExcluTax",
            "txtRV61A-VTEXT[2,20]": "Z3AU copy",
            "txtRV61A-VTEXT[2,21]": "ZVT3 negative",
            "txtRV61A-VTEXT[2,22]": "Shiping MPST TAX Man",
            "txtXKOMV_WAERK[8,0]": "CAD",
            "txtXKOMV_WAERK[8,1]": "CAD",
            "txtXKOMV_WAERK[8,2]": "CAD",
            "txtXKOMV_WAERK[8,3]": "CAD",
            "txtXKOMV_WAERK[8,4]": "CAD",
            "txtXKOMV_WAERK[8,5]": "CAD",
            "txtXKOMV_WAERK[8,6]": "CAD",
            "txtXKOMV_WAERK[8,7]": "CAD",
            "txtXKOMV_WAERK[8,8]": "CAD",
            "txtXKOMV_WAERK[8,9]": "CAD",
            "txtXKOMV_WAERK[8,10]": "CAD",
            "txtXKOMV_WAERK[8,11]": "CAD",
            "txtXKOMV_WAERK[8,12]": "CAD",
            "txtXKOMV_WAERK[8,13]": "CAD",
            "txtXKOMV_WAERK[8,14]": "CAD",
            "txtXKOMV_WAERK[8,15]": "CAD",
            "txtXKOMV_WAERK[8,16]": "CAD",
            "txtXKOMV_WAERK[8,17]": "CAD",
            "txtXKOMV_WAERK[8,18]": "CAD",
            "txtXKOMV_WAERK[8,19]": "CAD",
            "txtXKOMV_WAERK[8,20]": "CAD",
            "txtXKOMV_WAERK[8,21]": "CAD",
            "txtXKOMV_WAERK[8,22]": "CAD",
            "btnBT_KREC": "Condition rec.",
            "btnBT_KOAK": "Activate",
            "btnBT_KONX": "Update",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Schedule_lines": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "lblCOBL-GSBER": "Business Area",
            "lblCOBL-PS_POSID": "WBS Element",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Partner": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "lblGV_LISTBOX_TEXT": "Display Range",
            "cmbGV_FILTER": "All partners",
            "cmbGVS_TC_DATA-REC-PARVW[0,0]": "Sold-to party",
            "cmbGVS_TC_DATA-REC-PARVW[0,1]": "Top Node",
            "cmbGVS_TC_DATA-REC-PARVW[0,2]": "Bill-to party",
            "cmbGVS_TC_DATA-REC-PARVW[0,3]": "Payer",
            "cmbGVS_TC_DATA-REC-PARVW[0,4]": "Ship-to party",
            "cmbGVS_TC_DATA-REC-PARVW[0,5]": "End Cust Bill Addr",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,0]": "8000350",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,1]": "8000350",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,2]": "8000350",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,3]": "8000350",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,4]": "8000350",
            "ctxtGVS_TC_DATA-REC-PARTNER[1,5]": "536516",
            "txtGVS_TC_DATA-REC-NAME1[3,0]": "NIKE.COM",
            "txtGVS_TC_DATA-REC-NAME1[3,1]": "NIKE.COM",
            "txtGVS_TC_DATA-REC-NAME1[3,2]": "NIKE.COM",
            "txtGVS_TC_DATA-REC-NAME1[3,3]": "NIKE.COM",
            "txtGVS_TC_DATA-REC-NAME1[3,4]": "Bill Buffalo",
            "txtGVS_TC_DATA-REC-NAME1[3,5]": "ZI PARTNER FUNCTION CANADA",
            "txtGVS_TC_DATA-REC-STREET[4,0]": "200 WELLINGTON ST W STE 500",
            "txtGVS_TC_DATA-REC-STREET[4,1]": "200 WELLINGTON ST W STE 500",
            "txtGVS_TC_DATA-REC-STREET[4,2]": "200 WELLINGTON ST W STE 500",
            "txtGVS_TC_DATA-REC-STREET[4,3]": "200 WELLINGTON ST W STE 500",
            "txtGVS_TC_DATA-REC-STREET[4,4]": "E3 1 Bass Pro Mills Dr",
            "txtGVS_TC_DATA-REC-STREET[4,5]": "17965 SW Niks Drive",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,0]": "M5V 3C7",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,1]": "M5V 3C7",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,2]": "M5V 3C7",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,3]": "M5V 3C7",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,4]": "L4K 5W4",
            "txtGVS_TC_DATA-REC-POST_CODE1[5,5]": "97003",
            "txtGVS_TC_DATA-REC-CITY1[6,0]": "TORONTO",
            "txtGVS_TC_DATA-REC-CITY1[6,1]": "TORONTO",
            "txtGVS_TC_DATA-REC-CITY1[6,2]": "TORONTO",
            "txtGVS_TC_DATA-REC-CITY1[6,3]": "TORONTO",
            "txtGVS_TC_DATA-REC-CITY1[6,4]": "Concord",
            "txtGVS_TC_DATA-REC-CITY1[6,5]": "Beaverton",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Texts": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "cmbLV70T-SPRAS": "English",
            "shellcont": "SAPGUI.CONTAINERCTRL.1",
            "shell": "From: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>\rSent: Wednesday, December 3, 2025 11:26 AM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>; Bilakanti, Arjun (ETW - Beeline) <Arjun.Bilakanti@nike.com>; Vigna, Jared <Jared.Vigna@nike.com>\rCc: Burgess, Nadia <Nadia.Burgess@nike.com>; Chow, Polly <Polly.Chow@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>; Hippargi, Vadiraj (ETW - Beeline) <Vadiraj.Hippargi@nike.com>\rSubject: Re: [Canada Digital]: Contract sharing with digital\r\rHi Team,\r\rCan you remove the ZX partner assignment for customer master 8000350 from 468976 and 531509 in both PRD and PTE.\r\rThank you,\rMarie Bukelo\r\r----------------------\rFrom: Shah, Rizwan (ETW - FLEX) <Rizwan.Shah@nike.com>\rSent: Thursday, July 10, 2025 2:44 PM\rTo: NA MPO Customer Master Data and Compliance <MPO.NA.CMDC@nike.com>\rCc: Bukelo, Marie <Mariejoyce.Bukelo@nike.com>; Bilakanti, Arjun (ETW) <Arjun.Bilakanti@nike.com>; Loh, Katherine <Katherine.Loh@nike.com>; Thotakura, Lakshman (ETW - Cognizant) <Lakshman.Thotakura@nike.com>; Muncy, Patty <Patty.Muncy@nike.com>; Ratchuk, Kelly <Kelly.Ratchuk@nike.com>\rSubject: Customer Master pricing Procedure (Canada Digital)\rImportance: High\r\rHi Master Data Team – Can you please help us to update the customer pricing procedure in PTE as well as in PRA for customer number 8000350.\rCurrently the pricing procedure on this customer 8000350 is “I” this I should be changed to “V”.  This is an urgent change for Canada digital Contracts.",
            "shellcont[0]": "SAPGUI.CONTAINERCTRL.1",
            "shellcont[1]": "SAPGUI.CONTAINERCTRL.1",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Purchase_order_data": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "boxUEB_BESTELLER_AG": "Sold-to party",
            "lblVBKD-BSTKD": "PO Number",
            "txtVBKD-BSTKD": "CAR100100200189",
            "lblVBKD-BSTDK": "Purchase Order Date",
            "ctxtVBKD-BSTDK": "01/16/2026",
            "lblVBKD-BSARK": "Purchase order type",
            "ctxtVBKD-BSARK": "DTCR",
            "txtT176T-VTEXT_K": "DTC Returns",
            "lblVBAK-BSTZD": "Addit.",
            "lblVBAK-MAHDT": "Last contact date",
            "lblVBAK-MAHZA": "No. of dunnings",
            "txtVBAK-MAHZA": "0",
            "lblVBAK-BNAME": "Name",
            "lblVBAK-SUBMI": "Collective no.",
            "lblVBKD-IHREZ": "Your Reference",
            "lblVBAK-TELF1": "Telephone",
            "boxUEB_BESTELLER_WE": "Ship-to party",
            "lblVBKD-BSTKD_E": "Purchase order no.",
            "txtVBKD-BSTKD_E": "C01560878011",
            "lblVBKD-BSTDK_E": "Purchase order date",
            "lblVBKD-BSARK_E": "Purchase order type",
            "lblVBKD-IHREZ_E": "Your reference",
            "tabpT\\10": "Status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        },
        "Status": {
          "screen_title": "Display Return 7122680505: Header Data",
          "fields": {
            "txtRV45A-TXT_VBELN": "Return",
            "ctxtVBAK-VBELN": "7122680505",
            "lblVBAK-BSTNK": "Purchase order no.",
            "txtVBAK-BSTNK": "CAR100100200189",
            "lblKUAGV-KUNNR": "Sold-to party",
            "ctxtKUAGV-KUNNR": "8000350",
            "txtKUAGV-TXTPA": "NIKE.COM / 200 WELLINGTON ST W STE 500 / TORONTO ON M5V 3C7",
            "tabpT\\01": "Sales",
            "tabpT\\02": "Shipping",
            "tabpT\\03": "Billing Document",
            "tabpT\\04": "Accounting",
            "tabpT\\05": "Conditions",
            "tabpT\\06": "Account assignment",
            "tabpT\\07": "Partners",
            "tabpT\\08": "Texts",
            "tabpT\\09": "Order Data",
            "tabpT\\10": "Status",
            "boxUEB_STATUS": "Processing status",
            "lblVBUK-GBSTK": "Overall status",
            "txtVBSTT-GBSTA_BEZ": "Completed",
            "lblVBUK-ABSTK": "Rejection status",
            "txtVBSTT-ABSTA_BEZ": "Nothing rejected",
            "lblVBUK-LFSTK": "Delivery status",
            "txtVBSTT-LFSTA_BEZ": "Not delivered",
            "lblVBSTT-LFGSA_BEZ": "OverallDlvStat",
            "txtVBSTT-LFGSA_BEZ": "Completed",
            "lblVBUK-CMGST": "Credit status",
            "txtVBSTT-CMGST_BEZ": "Not performed",
            "lblVBUK-SPSTG": "Overall blkd status",
            "txtVBSTT-SPSTG_BEZ": "Blocked",
            "lblRV45A-STTXT": "System status",
            "txtRV45A-STTXT": "REL",
            "lblRV45A-ASTTX": "User Status",
            "txtRV45A-ASTTX": "RCVD",
            "boxUEB_VOLLSTAENDIGKEIT": "Completeness",
            "lblVBUK-UVALL": "Header data",
            "txtVBSTT-UVALL_BEZ": "Complete",
            "lblVBUK-UVALS": "Item Data",
            "txtVBSTT-UVALS_BEZ": "All items complete",
            "lblVBUK-UVVLK": "Header dlv.data",
            "txtVBSTT-UVVLK_BEZ": "Complete",
            "lblVBUK-UVVLS": "Item deliv.data",
            "txtVBSTT-UVVLS_BEZ": "All items complete",
            "lblVBUK-UVFAK": "Header bill.dat",
            "txtVBSTT-UVFAK_BEZ": "Complete",
            "lblVBUK-UVFAS": "Item bill.data",
            "txtVBSTT-UVFAS_BEZ": "All items complete",
            "btnBT_KSTC": "Object status",
            "tabpT\\11": "Additional data A",
            "tabpT\\12": "Additional data B"
          }
        }
      },
      "document_flow": {
        "error": "(-2147352567, 'Exception occurred.', (623, 'SAP Frontend Server', 'The menu item is disabled.', 'C:\\\\Program Files (x86)\\\\SAP\\\\FrontEnd\\\\SAPGUI\\\\sapfront.HLP', 393215, 0), None)"
      },
      "transactions": {
        "VA03": {
          "sales_order": "7122680505",
          "status": "SUCCESS",
          "order_type": "Z100",
          "description": "Return Order"
        }
      },
      "gl_postings": []
    },
    "omobo_data": {
      "orderNumber": "CAR100100200189",
      "orderType": "Return Order",
      "orderDate": "2026-01-16 3:45:55 p.m.",
      "status": "Created",
      "paymentStatus": "Not Applicable",
      "enterprise": "NIKECA",
      "createdBy": "Consumer",
      "customer": {
        "name": "Tia Kinney",
        "email": "tkinney.candig@gmail.com",
        "phone": "7165146141",
        "memberType": "Nike/Brand Member",
        "memberId": "aff8b62f-2389-4457-8fb2-02ed0c4b5d87"
      },
      "returnLabel": {
        "trackingNumber": "792138116720",
        "status": "",
        "statusDate": "1/16/2026"
      },
      "returnOrder": {
        "items": [
          {
            "styleName": "Nike Trophy23 Older Kids' Dri-FIT Training Shorts",
            "styleColor": "DX5416-480",
            "size": "S",
            "unitPrice": "CA$24.00",
            "quantity": 1,
            "status": "Created",
            "returnReason": "Flawed",
            "lineTotal": "CA$24.97"
          }
        ]
      },
      "totals": {
        "product": "CA$24.00",
        "shipping": "CA$10.95",
        "discounts": "CA$12.00",
        "tax": "CA$2.02",
        "orderTotal": "CA$24.97"
      },
      "relatedOrders": [
        {
          "type": "Sales Order",
          "orderNumber": "C01560878011",
          "status": "Return Created"
        }
      ]
    },
    "splunk_services": {
      "summary": {
        "total_services": 0,
        "total_events": 0
      },
      "categories": [],
      "note": "Splunk services not captured for return order. Query Splunk for CAR100100200189 to populate."
    }
  }
];
        
        // Pre-populate v5Orders with ALL embedded orders
        window.v5Orders = EMBEDDED_ALL_ORDERS;

        // Override fetchV5Orders to use embedded data
        window.fetchV5Orders = async function() {
            console.log('STANDALONE MODE: Using 2 embedded V5 orders');
            window.v5Orders = EMBEDDED_ALL_ORDERS;
            return EMBEDDED_ALL_ORDERS;
        };

        // Override loadV5ProdOrders
        async function loadV5ProdOrders() {
            console.log('STANDALONE MODE: Loading 2 embedded orders');
            window.v5Orders = EMBEDDED_ALL_ORDERS;
            populateV5Dropdown();
            return EMBEDDED_ALL_ORDERS;
        }
        window.loadV5ProdOrders = loadV5ProdOrders;

        // Override loadV5OrderData to use embedded data
        async function loadV5OrderData(orderNumber) {
            console.log('STANDALONE MODE: Loading order:', orderNumber);
            
            // Find the order in embedded data
            const order = EMBEDDED_ALL_ORDERS.find(o => o.order_number === orderNumber);
            if (!order) {
                console.error('Order not found in embedded data:', orderNumber);
                return null;
            }
            
            // Build the data structure expected by the dashboard
            const apiData = order.api_data || {};
            const orderData = {
                orderNumber: apiData.orderNumber || order.order_number,
                orderDate: apiData.orderDate,
                status: apiData.status,
                paymentStatus: apiData.paymentStatus,
                origin: apiData.origin,
                enterprise: apiData.enterprise,
                customerName: apiData.customerName,
                customerEmail: apiData.customerEmail,
                customerPhone: apiData.customerPhone,
                shippingAddress: apiData.shippingAddress,
                billingAddress: apiData.billingAddress,
                totals: apiData.totals,
                lineItems: apiData.lineItems,
                shipments: apiData.shipments,
                sapDocuments: apiData.sapDocuments,
                fulfillment: apiData.fulfillment,
                lifecycleStage: apiData.lifecycleStage,
                returnOrder: apiData.returnOrder,
                returnStatus: apiData.returnStatus,
                reviewStatus: order.review_status,
                jiraTicket: order.jira_ticket,
                scenarioCase: order.scenario_case,
                scenarioSummary: order.scenario_summary,
                scenarioDetails: order.scenario_details,
                splunkServices: order.splunk_services,
                sap_data: order.sap_data,
                omobo_data: order.omobo_data
            };
            
            window.currentOrderData = orderData;
            window.currentOrderNumber = orderNumber;
            
            // Render the order
            if (typeof renderV5OrderDetails === 'function') {
                renderV5OrderDetails(orderData);
            } else if (typeof updateDashboard === 'function') {
                updateDashboard(orderData);
            }
            
            return { success: true, data: orderData };
        }
        window.loadV5OrderData = loadV5OrderData;

        // Override loadSAPDetails for standalone mode
        window.originalLoadSAPDetails = window.loadSAPDetails;
        window.loadSAPDetails = async function() {
            console.log('STANDALONE MODE: Loading SAP details');
            const orderNumber = window.currentOrderNumber;
            const order = EMBEDDED_ALL_ORDERS.find(o => o.order_number === orderNumber);
            if (order && typeof updateSAPPanel === 'function') {
                updateSAPPanel(order);
            }
        };

        // Auto-initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('STANDALONE MODE: Initializing with 2 orders');
            
            // Set v5Orders
            window.v5Orders = EMBEDDED_ALL_ORDERS;
            
            // Populate dropdown
            setTimeout(function() {
                if (typeof populateV5Dropdown === 'function') {
                    populateV5Dropdown();
                }
                
                // Check for order in URL
                const urlParams = new URLSearchParams(window.location.search);
                const urlOrder = urlParams.get('order');
                
                if (urlOrder) {
                    const order = EMBEDDED_ALL_ORDERS.find(o => o.order_number === urlOrder);
                    if (order) {
                        selectV5Order(urlOrder, order.scenario_case || 'PROD', order.jira_ticket || '—');
                    }
                } else if (EMBEDDED_ALL_ORDERS.length > 0) {
                    // Load first order
                    const first = EMBEDDED_ALL_ORDERS[0];
                    selectV5Order(first.order_number, first.scenario_case || 'PROD', first.jira_ticket || '—');
                }
            }, 200);
        }, true);
</script>
</body>
</html>

